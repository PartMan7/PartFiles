"use strict";exports.id=4888,exports.ids=[4888],exports.modules={76641:(e,r,t)=>{t.d(r,{Nav:()=>$});var a=t(45512),n=t(58009),s=t(28531),i=t.n(s),o=t(79334),d=t(3371),l=t(66712),c=t(39400),u=t(78447),m=t(3271),h=t(35223),g=t(142),x=t(92411),f=t(32848),p=t(34936),v=t(76438),b=t(44195),j=t(90725),y=t(55645);let k=process.env.BASE_URL||"";process.env.CONTENT_URL;let N=()=>()=>{};function w(e){let r;let t=Array.from(e.currentTarget.querySelectorAll("button")),a=t.indexOf(e.target);if(-1!==a){switch(e.key){case"ArrowRight":r=(a+1)%t.length;break;case"ArrowLeft":r=(a-1+t.length)%t.length;break;case"ArrowDown":if((r=a+7)>=t.length)return;break;case"ArrowUp":if((r=a-7)<0)return;break;default:return}e.preventDefault(),e.stopPropagation(),t[r].focus()}}let C="h-8 w-8 p-0 data-[state=delayed-open]:bg-accent data-[state=instant-open]:bg-accent aria-expanded:bg-accent data-[state=delayed-open]:text-accent-foreground data-[state=instant-open]:text-accent-foreground aria-expanded:text-accent-foreground";function $({role:e,username:r}){let t=(0,o.usePathname)(),{resolvedTheme:s,setTheme:$}=(0,d.D)(),{accent:A,setAccent:z}=(0,j.y)(),S=(0,n.useCallback)(e=>{e&&requestAnimationFrame(()=>{let r=e.querySelector('button[aria-pressed="true"]');(r??e.querySelector("button"))?.focus()})},[]),_=(0,n.useSyncExternalStore)(N,()=>!0,()=>!1),I=k?k.replace(/\/$/,""):`http://localhost:${process.env.PORT||3e3}`,O=(0,n.useMemo)(()=>[{href:"/upload",label:"Upload",minRole:"uploader"},{href:"/dashboard",label:"Dashboard",minRole:"guest"},{href:"/admin/users",label:"Users",minRole:"admin"},{href:"/admin/content",label:"Content",minRole:"admin"}].map(e=>({...e,href:`${I}${e.href}`})),[I]),R={guest:0,uploader:1,admin:2},E=e?R[e]??0:-1,K=O.filter(e=>E>=(R[e.minRole]??0)),L={admin:"bg-primary/15 text-primary border-primary/30",uploader:"bg-primary/10 text-primary border-primary/20",guest:"bg-ctp-overlay0/15 text-ctp-overlay0 border-ctp-overlay0/30"},F=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(h.rI,{children:[(0,a.jsxs)(m.m_,{children:[(0,a.jsx)(m.k$,{asChild:!0,children:(0,a.jsx)(h.ty,{asChild:!0,children:(0,a.jsx)(c.$,{variant:"ghost",size:"sm",className:(0,b.cn)(C,"group/accent"),"aria-label":"Choose accent colour",children:(0,a.jsx)(g.A,{className:"h-4 w-4 transition-transform duration-200 group-hover/accent:rotate-30","aria-hidden":"true"})})})}),(0,a.jsx)(m.ZI,{children:"Accent colour"})]}),(0,a.jsxs)(h.SQ,{align:"end",className:"flex flex-col gap-1.5 p-2 w-auto min-w-0","aria-label":"Accent colour options",children:[(0,a.jsx)("div",{ref:S,className:"grid grid-cols-7 gap-1",role:"group","aria-label":"Accent colours",onKeyDown:w,children:y.lY.map(e=>(0,a.jsx)("button",{onClick:()=>z(e),"aria-label":`${y.KO[e].label} accent${A===e?" (selected)":""}`,"aria-pressed":A===e,className:(0,b.cn)("w-6 h-6 rounded-full transition-transform hover:scale-110 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-foreground",A===e&&"ring-2 ring-foreground ring-offset-2 ring-offset-background"),style:{backgroundColor:_&&"dark"===s?y.KO[e].dark:y.KO[e].light}},e))}),(0,a.jsxs)("span",{className:"text-[10px] text-muted-foreground text-center self-end",children:["Colours from"," ",(0,a.jsxs)("a",{href:_&&"dark"===s?"https://github.com/PartMan7/catppuccin":"https://github.com/catppuccin/catppuccin#latte",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-foreground transition-colors",children:["Catppuccin ",_&&"dark"===s?"Noir":"Latte"]})]})]})]}),(0,a.jsxs)(m.m_,{children:[(0,a.jsx)(m.k$,{asChild:!0,children:(0,a.jsxs)(c.$,{variant:"ghost",size:"sm",className:(0,b.cn)(C,"group/theme"),onClick:function(){$("dark"===s?"light":"dark")},"aria-label":_?`Switch to ${"dark"===s?"light":"dark"} mode`:"Toggle theme",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 rotate-0 scale-100 transition-transform duration-300 group-hover/theme:rotate-45 dark:-rotate-90 dark:scale-0","aria-hidden":"true"}),(0,a.jsx)(f.A,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-transform duration-300 dark:rotate-0 dark:scale-100 dark:group-hover/theme:-rotate-12","aria-hidden":"true"})]})}),(0,a.jsx)(m.ZI,{children:_?"dark"===s?"Light mode":"Dark mode":"Toggle theme"})]}),(0,a.jsxs)(m.m_,{children:[(0,a.jsx)(m.k$,{asChild:!0,children:(0,a.jsx)(c.$,{variant:"ghost",size:"sm",className:(0,b.cn)(C,"group/kbd"),onClick:function(){window.dispatchEvent(new KeyboardEvent("keydown",{key:"/",ctrlKey:!0,bubbles:!0}))},"aria-label":"Keyboard shortcuts (Ctrl+/)",children:(0,a.jsx)(p.A,{className:"h-4 w-4 transition-transform duration-200 group-hover/kbd:scale-110","aria-hidden":"true"})})}),(0,a.jsx)(m.ZI,{children:"Keyboard shortcuts"})]})]}),P=(0,n.useCallback)(e=>e.endsWith(t),[t]);return(0,a.jsx)("nav",{className:"border-b bg-card","aria-label":"Main navigation",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-14",children:[(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsx)(i(),{href:`${I}/upload`,className:"font-semibold text-lg text-primary","aria-label":"PartFiles - Go to upload",children:"PartFiles"}),(0,a.jsx)("div",{className:"hidden md:flex items-center gap-1",role:"list","aria-label":"Site pages",children:K.map(e=>{let r=P(e.href);return(0,a.jsx)(i(),{href:e.href,role:"listitem","aria-current":r?"page":void 0,className:(0,b.cn)("px-3 py-1.5 text-sm rounded-md transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background",r?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:e.label},e.href)})})]}),(0,a.jsxs)("div",{className:"hidden md:flex items-center gap-3",children:[e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:r}),(0,a.jsx)(u.E,{variant:"outline",className:(0,b.cn)("text-xs",L[e]),children:e})]}):null,F,e?(0,a.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>(0,l.CI)({callbackUrl:"/login"}),children:"Sign Out"}):(0,a.jsx)(c.$,{variant:"default",size:"sm",asChild:!0,children:(0,a.jsx)(i(),{href:`${I}/login`,children:"Log in"})})]}),(0,a.jsxs)("div",{className:"flex md:hidden items-center gap-1",children:[F,(0,a.jsxs)(h.rI,{children:[(0,a.jsxs)(m.m_,{children:[(0,a.jsx)(m.k$,{asChild:!0,children:(0,a.jsx)(h.ty,{asChild:!0,children:(0,a.jsx)(c.$,{variant:"ghost",size:"sm",className:(0,b.cn)(C,"group/menu"),"aria-label":"Open menu",children:(0,a.jsx)(v.A,{className:"h-5 w-5 transition-transform duration-200 group-hover/menu:scale-110","aria-hidden":"true"})})})}),(0,a.jsx)(m.ZI,{children:"Menu"})]}),(0,a.jsxs)(h.SQ,{align:"end",className:"w-52",children:[e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"px-3 py-2 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground truncate",children:r}),(0,a.jsx)(u.E,{variant:"outline",className:(0,b.cn)("text-xs shrink-0",L[e]),children:e})]}),(0,a.jsx)(h.mB,{})]}):null,K.map(e=>{let r=P(e.href);return(0,a.jsx)(h._2,{asChild:!0,children:(0,a.jsx)(i(),{href:e.href,"aria-current":r?"page":void 0,className:(0,b.cn)(r&&"font-semibold text-primary"),children:e.label})},e.href)}),(0,a.jsx)(h.mB,{}),e?(0,a.jsx)(h._2,{onClick:()=>(0,l.CI)({callbackUrl:"/login"}),children:"Sign Out"}):(0,a.jsx)(h._2,{asChild:!0,children:(0,a.jsx)(i(),{href:`${I}/login`,className:"font-medium",children:"Log in"})})]})]})]})]})})})}},78447:(e,r,t)=>{t.d(r,{E:()=>d});var a=t(45512);t(58009);var n=t(21643),s=t(12705),i=t(44195);let o=(0,n.F)("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function d({className:e,variant:r="default",asChild:t=!1,...n}){let d=t?s.bL:"span";return(0,a.jsx)(d,{"data-slot":"badge","data-variant":r,className:(0,i.cn)(o({variant:r}),e),...n})}},35223:(e,r,t)=>{t.d(r,{SQ:()=>d,_2:()=>l,mB:()=>c,rI:()=>i,ty:()=>o});var a=t(45512);t(58009);var n=t(35816),s=t(44195);function i({...e}){return(0,a.jsx)(n.Root,{"data-slot":"dropdown-menu",...e})}function o({className:e,...r}){return(0,a.jsx)(n.Trigger,{"data-slot":"dropdown-menu-trigger",className:(0,s.cn)("data-[state=open]:bg-accent data-[state=open]:text-accent-foreground transition-colors",e),...r})}function d({className:e,sideOffset:r=8,children:t,...i}){return(0,a.jsx)(n.Portal,{children:(0,a.jsxs)(n.Content,{"data-slot":"dropdown-menu-content",sideOffset:r,className:"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-32 origin-(--radix-dropdown-menu-content-transform-origin) rounded-md border p-1 shadow-md",...i,children:[(0,a.jsx)("div",{className:(0,s.cn)("relative z-1",e),children:t}),(0,a.jsx)(n.Arrow,{className:"bg-popover fill-popover -z-10 size-2.5 translate-y-[-50%] rotate-45 rounded-tl-[2px] border-b border-r"})]})})}function l({className:e,inset:r,variant:t="default",...i}){return(0,a.jsx)(n.Item,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":t,className:(0,s.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:text-destructive! [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-disabled:pointer-events-none data-disabled:opacity-50 data-inset:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i})}function c({className:e,...r}){return(0,a.jsx)(n.Separator,{"data-slot":"dropdown-menu-separator",className:(0,s.cn)("bg-border -mx-1 my-1 h-px",e),...r})}},70440:(e,r,t)=>{t.r(r),t.d(r,{default:()=>n});var a=t(88077);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};