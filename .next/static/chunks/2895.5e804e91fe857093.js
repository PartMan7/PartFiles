"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2895],{81698:(e,t,a)=>{let r;a.d(t,{mD:()=>tv,Z9:()=>ej,n_:()=>eN,hK:()=>eF,$C:()=>eU,G1:()=>eD,ID:()=>th,qx:()=>eW,_Z:()=>tk,hd:()=>tx,N8:()=>tb,ZZ:()=>t_,k5:()=>ty,WZ:()=>ez,jN:()=>tg});var n,s,i,o,l,u=a(35914),d=a(69058);!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let a of e)t[a]=a;return t},e.getValidEnumValues=t=>{let a=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),r={};for(let e of a)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.push(a);return t},e.find=(e,t)=>{for(let a of e)if(t(a))return a},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(n||(n={})),(s||(s={})).mergeShapes=(e,t)=>({...e,...t});let c=n.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),p=e=>{switch(typeof e){case"undefined":return c.undefined;case"string":return c.string;case"number":return Number.isNaN(e)?c.nan:c.number;case"boolean":return c.boolean;case"function":return c.function;case"bigint":return c.bigint;case"symbol":return c.symbol;case"object":if(Array.isArray(e))return c.array;if(null===e)return c.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return c.promise;if("undefined"!=typeof Map&&e instanceof Map)return c.map;if("undefined"!=typeof Set&&e instanceof Set)return c.set;if("undefined"!=typeof Date&&e instanceof Date)return c.date;return c.object;default:return c.unknown}},m=n.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class h extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},a={_errors:[]},r=e=>{for(let n of e.issues)if("invalid_union"===n.code)n.unionErrors.map(r);else if("invalid_return_type"===n.code)r(n.returnTypeError);else if("invalid_arguments"===n.code)r(n.argumentsError);else if(0===n.path.length)a._errors.push(t(n));else{let e=a,r=0;for(;r<n.path.length;){let a=n.path[r];r===n.path.length-1?(e[a]=e[a]||{_errors:[]},e[a]._errors.push(t(n))):e[a]=e[a]||{_errors:[]},e=e[a],r++}}};return r(this),a}static assert(e){if(!(e instanceof h))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,n.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t=Object.create(null),a=[];for(let r of this.issues)if(r.path.length>0){let a=r.path[0];t[a]=t[a]||[],t[a].push(e(r))}else a.push(e(r));return{formErrors:a,fieldErrors:t}}get formErrors(){return this.flatten()}}h.create=e=>new h(e);let f=(e,t)=>{let a;switch(e.code){case m.invalid_type:a=e.received===c.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case m.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(e.expected,n.jsonStringifyReplacer)}`;break;case m.unrecognized_keys:a=`Unrecognized key(s) in object: ${n.joinValues(e.keys,", ")}`;break;case m.invalid_union:a="Invalid input";break;case m.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${n.joinValues(e.options)}`;break;case m.invalid_enum_value:a=`Invalid enum value. Expected ${n.joinValues(e.options)}, received '${e.received}'`;break;case m.invalid_arguments:a="Invalid function arguments";break;case m.invalid_return_type:a="Invalid function return type";break;case m.invalid_date:a="Invalid date";break;case m.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(a=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(a=`${a} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?a=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?a=`Invalid input: must end with "${e.validation.endsWith}"`:n.assertNever(e.validation):a="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case m.too_small:a="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case m.too_big:a="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case m.custom:a="Invalid input";break;case m.invalid_intersection_types:a="Intersection results could not be merged";break;case m.not_multiple_of:a=`Number must be a multiple of ${e.multipleOf}`;break;case m.not_finite:a="Number must be finite";break;default:a=t.defaultError,n.assertNever(e)}return{message:a}},v=e=>{let{data:t,path:a,errorMaps:r,issueData:n}=e,s=[...a,...n.path||[]],i={...n,path:s};if(void 0!==n.message)return{...n,path:s,message:n.message};let o="";for(let e of r.filter(e=>!!e).slice().reverse())o=e(i,{data:t,defaultError:o}).message;return{...n,path:s,message:o}};function g(e,t){let a=v({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,f,f==f?void 0:f].filter(e=>!!e)});e.common.issues.push(a)}class y{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let a=[];for(let r of t){if("aborted"===r.status)return _;"dirty"===r.status&&e.dirty(),a.push(r.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,t){let a=[];for(let e of t){let t=await e.key,r=await e.value;a.push({key:t,value:r})}return y.mergeObjectSync(e,a)}static mergeObjectSync(e,t){let a={};for(let r of t){let{key:t,value:n}=r;if("aborted"===t.status||"aborted"===n.status)return _;"dirty"===t.status&&e.dirty(),"dirty"===n.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==n.value||r.alwaysSet)&&(a[t.value]=n.value)}return{status:e.value,value:a}}}let _=Object.freeze({status:"aborted"}),b=e=>({status:"dirty",value:e}),k=e=>({status:"valid",value:e}),x=e=>"aborted"===e.status,w=e=>"dirty"===e.status,C=e=>"valid"===e.status,S=e=>"undefined"!=typeof Promise&&e instanceof Promise;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(i||(i={}));class A{constructor(e,t,a,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=a,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let E=(e,t)=>{if(C(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new h(e.common.issues);return this._error=t,this._error}}};function R(e){if(!e)return{};let{errorMap:t,invalid_type_error:a,required_error:r,description:n}=e;if(t&&(a||r))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:n}:{errorMap:(t,n)=>{let{message:s}=e;return"invalid_enum_value"===t.code?{message:s??n.defaultError}:void 0===n.data?{message:s??r??n.defaultError}:"invalid_type"!==t.code?{message:n.defaultError}:{message:s??a??n.defaultError}},description:n}}class T{get description(){return this._def.description}_getType(e){return p(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:p(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new y,ctx:{common:e.parent.common,data:e.data,parsedType:p(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(S(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let a=this.safeParse(e,t);if(a.success)return a.data;throw a.error}safeParse(e,t){let a={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:p(e)},r=this._parseSync({data:e,path:a.path,parent:a});return E(a,r)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:p(e)};if(!this["~standard"].async)try{let a=this._parseSync({data:e,path:[],parent:t});return C(a)?{value:a.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>C(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let a=await this.safeParseAsync(e,t);if(a.success)return a.data;throw a.error}async safeParseAsync(e,t){let a={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:p(e)},r=this._parse({data:e,path:a.path,parent:a});return E(a,await (S(r)?r:Promise.resolve(r)))}refine(e,t){let a=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,r)=>{let n=e(t),s=()=>r.addIssue({code:m.custom,...a(t)});return"undefined"!=typeof Promise&&n instanceof Promise?n.then(e=>!!e||(s(),!1)):!!n||(s(),!1)})}refinement(e,t){return this._refinement((a,r)=>!!e(a)||(r.addIssue("function"==typeof t?t(a,r):t),!1))}_refinement(e){return new ex({schema:this,typeName:o.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return ew.create(this,this._def)}nullable(){return eC.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return es.create(this)}promise(){return ek.create(this,this._def)}or(e){return eo.create([this,e],this._def)}and(e){return ed.create(this,e,this._def)}transform(e){return new ex({...R(this._def),schema:this,typeName:o.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new eS({...R(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:o.ZodDefault})}brand(){return new eR({typeName:o.ZodBranded,type:this,...R(this._def)})}catch(e){return new eA({...R(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:o.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return eT.create(this,e)}readonly(){return eI.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let I=/^c[^\s-]{8,}$/i,Z=/^[0-9a-z]+$/,$=/^[0-9A-HJKMNP-TV-Z]{26}$/i,P=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,O=/^[a-z0-9_-]{21}$/i,L=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,j=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,N=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,M=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,F=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,U=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,D=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,W=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,z=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,X="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",B=RegExp(`^${X}$`);function V(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let a=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${a}`}class K extends T{_parse(e){var t,a,s,i;let o;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==c.string){let t=this._getOrReturnCtx(e);return g(t,{code:m.invalid_type,expected:c.string,received:t.parsedType}),_}let l=new y;for(let u of this._def.checks)if("min"===u.kind)e.data.length<u.value&&(g(o=this._getOrReturnCtx(e,o),{code:m.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),l.dirty());else if("max"===u.kind)e.data.length>u.value&&(g(o=this._getOrReturnCtx(e,o),{code:m.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),l.dirty());else if("length"===u.kind){let t=e.data.length>u.value,a=e.data.length<u.value;(t||a)&&(o=this._getOrReturnCtx(e,o),t?g(o,{code:m.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):a&&g(o,{code:m.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),l.dirty())}else if("email"===u.kind)N.test(e.data)||(g(o=this._getOrReturnCtx(e,o),{validation:"email",code:m.invalid_string,message:u.message}),l.dirty());else if("emoji"===u.kind)r||(r=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),r.test(e.data)||(g(o=this._getOrReturnCtx(e,o),{validation:"emoji",code:m.invalid_string,message:u.message}),l.dirty());else if("uuid"===u.kind)P.test(e.data)||(g(o=this._getOrReturnCtx(e,o),{validation:"uuid",code:m.invalid_string,message:u.message}),l.dirty());else if("nanoid"===u.kind)O.test(e.data)||(g(o=this._getOrReturnCtx(e,o),{validation:"nanoid",code:m.invalid_string,message:u.message}),l.dirty());else if("cuid"===u.kind)I.test(e.data)||(g(o=this._getOrReturnCtx(e,o),{validation:"cuid",code:m.invalid_string,message:u.message}),l.dirty());else if("cuid2"===u.kind)Z.test(e.data)||(g(o=this._getOrReturnCtx(e,o),{validation:"cuid2",code:m.invalid_string,message:u.message}),l.dirty());else if("ulid"===u.kind)$.test(e.data)||(g(o=this._getOrReturnCtx(e,o),{validation:"ulid",code:m.invalid_string,message:u.message}),l.dirty());else if("url"===u.kind)try{new URL(e.data)}catch{g(o=this._getOrReturnCtx(e,o),{validation:"url",code:m.invalid_string,message:u.message}),l.dirty()}else"regex"===u.kind?(u.regex.lastIndex=0,u.regex.test(e.data)||(g(o=this._getOrReturnCtx(e,o),{validation:"regex",code:m.invalid_string,message:u.message}),l.dirty())):"trim"===u.kind?e.data=e.data.trim():"includes"===u.kind?e.data.includes(u.value,u.position)||(g(o=this._getOrReturnCtx(e,o),{code:m.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),l.dirty()):"toLowerCase"===u.kind?e.data=e.data.toLowerCase():"toUpperCase"===u.kind?e.data=e.data.toUpperCase():"startsWith"===u.kind?e.data.startsWith(u.value)||(g(o=this._getOrReturnCtx(e,o),{code:m.invalid_string,validation:{startsWith:u.value},message:u.message}),l.dirty()):"endsWith"===u.kind?e.data.endsWith(u.value)||(g(o=this._getOrReturnCtx(e,o),{code:m.invalid_string,validation:{endsWith:u.value},message:u.message}),l.dirty()):"datetime"===u.kind?(function(e){let t=`${X}T${V(e)}`,a=[];return a.push(e.local?"Z?":"Z"),e.offset&&a.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${a.join("|")})`,RegExp(`^${t}$`)})(u).test(e.data)||(g(o=this._getOrReturnCtx(e,o),{code:m.invalid_string,validation:"datetime",message:u.message}),l.dirty()):"date"===u.kind?B.test(e.data)||(g(o=this._getOrReturnCtx(e,o),{code:m.invalid_string,validation:"date",message:u.message}),l.dirty()):"time"===u.kind?RegExp(`^${V(u)}$`).test(e.data)||(g(o=this._getOrReturnCtx(e,o),{code:m.invalid_string,validation:"time",message:u.message}),l.dirty()):"duration"===u.kind?j.test(e.data)||(g(o=this._getOrReturnCtx(e,o),{validation:"duration",code:m.invalid_string,message:u.message}),l.dirty()):"ip"===u.kind?(t=e.data,("v4"===(a=u.version)||!a)&&M.test(t)||("v6"===a||!a)&&U.test(t)||(g(o=this._getOrReturnCtx(e,o),{validation:"ip",code:m.invalid_string,message:u.message}),l.dirty())):"jwt"===u.kind?!function(e,t){if(!L.test(e))return!1;try{let[a]=e.split(".");if(!a)return!1;let r=a.replace(/-/g,"+").replace(/_/g,"/").padEnd(a.length+(4-a.length%4)%4,"="),n=JSON.parse(atob(r));if("object"!=typeof n||null===n||"typ"in n&&n?.typ!=="JWT"||!n.alg||t&&n.alg!==t)return!1;return!0}catch{return!1}}(e.data,u.alg)&&(g(o=this._getOrReturnCtx(e,o),{validation:"jwt",code:m.invalid_string,message:u.message}),l.dirty()):"cidr"===u.kind?(s=e.data,("v4"===(i=u.version)||!i)&&F.test(s)||("v6"===i||!i)&&D.test(s)||(g(o=this._getOrReturnCtx(e,o),{validation:"cidr",code:m.invalid_string,message:u.message}),l.dirty())):"base64"===u.kind?W.test(e.data)||(g(o=this._getOrReturnCtx(e,o),{validation:"base64",code:m.invalid_string,message:u.message}),l.dirty()):"base64url"===u.kind?z.test(e.data)||(g(o=this._getOrReturnCtx(e,o),{validation:"base64url",code:m.invalid_string,message:u.message}),l.dirty()):n.assertNever(u);return{status:l.value,value:e.data}}_regex(e,t,a){return this.refinement(t=>e.test(t),{validation:t,code:m.invalid_string,...i.errToObj(a)})}_addCheck(e){return new K({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...i.errToObj(e)})}url(e){return this._addCheck({kind:"url",...i.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...i.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...i.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...i.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...i.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...i.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...i.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...i.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...i.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...i.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...i.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...i.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...i.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...i.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...i.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...i.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...i.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...i.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...i.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...i.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...i.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...i.errToObj(t)})}nonempty(e){return this.min(1,i.errToObj(e))}trim(){return new K({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new K({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new K({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}K.create=e=>new K({checks:[],typeName:o.ZodString,coerce:e?.coerce??!1,...R(e)});class q extends T{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==c.number){let t=this._getOrReturnCtx(e);return g(t,{code:m.invalid_type,expected:c.number,received:t.parsedType}),_}let a=new y;for(let r of this._def.checks)"int"===r.kind?n.isInteger(e.data)||(g(t=this._getOrReturnCtx(e,t),{code:m.invalid_type,expected:"integer",received:"float",message:r.message}),a.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(g(t=this._getOrReturnCtx(e,t),{code:m.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),a.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(g(t=this._getOrReturnCtx(e,t),{code:m.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),a.dirty()):"multipleOf"===r.kind?0!==function(e,t){let a=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,n=a>r?a:r;return Number.parseInt(e.toFixed(n).replace(".",""))%Number.parseInt(t.toFixed(n).replace(".",""))/10**n}(e.data,r.value)&&(g(t=this._getOrReturnCtx(e,t),{code:m.not_multiple_of,multipleOf:r.value,message:r.message}),a.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(g(t=this._getOrReturnCtx(e,t),{code:m.not_finite,message:r.message}),a.dirty()):n.assertNever(r);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,i.toString(t))}gt(e,t){return this.setLimit("min",e,!1,i.toString(t))}lte(e,t){return this.setLimit("max",e,!0,i.toString(t))}lt(e,t){return this.setLimit("max",e,!1,i.toString(t))}setLimit(e,t,a,r){return new q({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:i.toString(r)}]})}_addCheck(e){return new q({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:i.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:i.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:i.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:i.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:i.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:i.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:i.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:i.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:i.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&n.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let a of this._def.checks){if("finite"===a.kind||"int"===a.kind||"multipleOf"===a.kind)return!0;"min"===a.kind?(null===t||a.value>t)&&(t=a.value):"max"===a.kind&&(null===e||a.value<e)&&(e=a.value)}return Number.isFinite(t)&&Number.isFinite(e)}}q.create=e=>new q({checks:[],typeName:o.ZodNumber,coerce:e?.coerce||!1,...R(e)});class Q extends T{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==c.bigint)return this._getInvalidInput(e);let a=new y;for(let r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(g(t=this._getOrReturnCtx(e,t),{code:m.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),a.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(g(t=this._getOrReturnCtx(e,t),{code:m.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),a.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(g(t=this._getOrReturnCtx(e,t),{code:m.not_multiple_of,multipleOf:r.value,message:r.message}),a.dirty()):n.assertNever(r);return{status:a.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return g(t,{code:m.invalid_type,expected:c.bigint,received:t.parsedType}),_}gte(e,t){return this.setLimit("min",e,!0,i.toString(t))}gt(e,t){return this.setLimit("min",e,!1,i.toString(t))}lte(e,t){return this.setLimit("max",e,!0,i.toString(t))}lt(e,t){return this.setLimit("max",e,!1,i.toString(t))}setLimit(e,t,a,r){return new Q({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:i.toString(r)}]})}_addCheck(e){return new Q({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:i.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:i.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:i.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:i.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:i.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Q.create=e=>new Q({checks:[],typeName:o.ZodBigInt,coerce:e?.coerce??!1,...R(e)});class H extends T{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==c.boolean){let t=this._getOrReturnCtx(e);return g(t,{code:m.invalid_type,expected:c.boolean,received:t.parsedType}),_}return k(e.data)}}H.create=e=>new H({typeName:o.ZodBoolean,coerce:e?.coerce||!1,...R(e)});class J extends T{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==c.date){let t=this._getOrReturnCtx(e);return g(t,{code:m.invalid_type,expected:c.date,received:t.parsedType}),_}if(Number.isNaN(e.data.getTime()))return g(this._getOrReturnCtx(e),{code:m.invalid_date}),_;let a=new y;for(let r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(g(t=this._getOrReturnCtx(e,t),{code:m.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),a.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(g(t=this._getOrReturnCtx(e,t),{code:m.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),a.dirty()):n.assertNever(r);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new J({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:i.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:i.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}J.create=e=>new J({checks:[],coerce:e?.coerce||!1,typeName:o.ZodDate,...R(e)});class G extends T{_parse(e){if(this._getType(e)!==c.symbol){let t=this._getOrReturnCtx(e);return g(t,{code:m.invalid_type,expected:c.symbol,received:t.parsedType}),_}return k(e.data)}}G.create=e=>new G({typeName:o.ZodSymbol,...R(e)});class Y extends T{_parse(e){if(this._getType(e)!==c.undefined){let t=this._getOrReturnCtx(e);return g(t,{code:m.invalid_type,expected:c.undefined,received:t.parsedType}),_}return k(e.data)}}Y.create=e=>new Y({typeName:o.ZodUndefined,...R(e)});class ee extends T{_parse(e){if(this._getType(e)!==c.null){let t=this._getOrReturnCtx(e);return g(t,{code:m.invalid_type,expected:c.null,received:t.parsedType}),_}return k(e.data)}}ee.create=e=>new ee({typeName:o.ZodNull,...R(e)});class et extends T{constructor(){super(...arguments),this._any=!0}_parse(e){return k(e.data)}}et.create=e=>new et({typeName:o.ZodAny,...R(e)});class ea extends T{constructor(){super(...arguments),this._unknown=!0}_parse(e){return k(e.data)}}ea.create=e=>new ea({typeName:o.ZodUnknown,...R(e)});class er extends T{_parse(e){let t=this._getOrReturnCtx(e);return g(t,{code:m.invalid_type,expected:c.never,received:t.parsedType}),_}}er.create=e=>new er({typeName:o.ZodNever,...R(e)});class en extends T{_parse(e){if(this._getType(e)!==c.undefined){let t=this._getOrReturnCtx(e);return g(t,{code:m.invalid_type,expected:c.void,received:t.parsedType}),_}return k(e.data)}}en.create=e=>new en({typeName:o.ZodVoid,...R(e)});class es extends T{_parse(e){let{ctx:t,status:a}=this._processInputParams(e),r=this._def;if(t.parsedType!==c.array)return g(t,{code:m.invalid_type,expected:c.array,received:t.parsedType}),_;if(null!==r.exactLength){let e=t.data.length>r.exactLength.value,n=t.data.length<r.exactLength.value;(e||n)&&(g(t,{code:e?m.too_big:m.too_small,minimum:n?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),a.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(g(t,{code:m.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),a.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(g(t,{code:m.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),a.dirty()),t.common.async)return Promise.all([...t.data].map((e,a)=>r.type._parseAsync(new A(t,e,t.path,a)))).then(e=>y.mergeArray(a,e));let n=[...t.data].map((e,a)=>r.type._parseSync(new A(t,e,t.path,a)));return y.mergeArray(a,n)}get element(){return this._def.type}min(e,t){return new es({...this._def,minLength:{value:e,message:i.toString(t)}})}max(e,t){return new es({...this._def,maxLength:{value:e,message:i.toString(t)}})}length(e,t){return new es({...this._def,exactLength:{value:e,message:i.toString(t)}})}nonempty(e){return this.min(1,e)}}es.create=(e,t)=>new es({type:e,minLength:null,maxLength:null,exactLength:null,typeName:o.ZodArray,...R(t)});class ei extends T{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=n.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==c.object){let t=this._getOrReturnCtx(e);return g(t,{code:m.invalid_type,expected:c.object,received:t.parsedType}),_}let{status:t,ctx:a}=this._processInputParams(e),{shape:r,keys:n}=this._getCached(),s=[];if(!(this._def.catchall instanceof er&&"strip"===this._def.unknownKeys))for(let e in a.data)n.includes(e)||s.push(e);let i=[];for(let e of n){let t=r[e],n=a.data[e];i.push({key:{status:"valid",value:e},value:t._parse(new A(a,n,a.path,e)),alwaysSet:e in a.data})}if(this._def.catchall instanceof er){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)i.push({key:{status:"valid",value:e},value:{status:"valid",value:a.data[e]}});else if("strict"===e)s.length>0&&(g(a,{code:m.unrecognized_keys,keys:s}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let r=a.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new A(a,r,a.path,t)),alwaysSet:t in a.data})}}return a.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of i){let a=await t.key,r=await t.value;e.push({key:a,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>y.mergeObjectSync(t,e)):y.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return i.errToObj,new ei({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,a)=>{let r=this._def.errorMap?.(t,a).message??a.defaultError;return"unrecognized_keys"===t.code?{message:i.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new ei({...this._def,unknownKeys:"strip"})}passthrough(){return new ei({...this._def,unknownKeys:"passthrough"})}extend(e){return new ei({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ei({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:o.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ei({...this._def,catchall:e})}pick(e){let t={};for(let a of n.objectKeys(e))e[a]&&this.shape[a]&&(t[a]=this.shape[a]);return new ei({...this._def,shape:()=>t})}omit(e){let t={};for(let a of n.objectKeys(this.shape))e[a]||(t[a]=this.shape[a]);return new ei({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof ei){let a={};for(let r in t.shape){let n=t.shape[r];a[r]=ew.create(e(n))}return new ei({...t._def,shape:()=>a})}return t instanceof es?new es({...t._def,type:e(t.element)}):t instanceof ew?ew.create(e(t.unwrap())):t instanceof eC?eC.create(e(t.unwrap())):t instanceof ec?ec.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};for(let a of n.objectKeys(this.shape)){let r=this.shape[a];e&&!e[a]?t[a]=r:t[a]=r.optional()}return new ei({...this._def,shape:()=>t})}required(e){let t={};for(let a of n.objectKeys(this.shape))if(e&&!e[a])t[a]=this.shape[a];else{let e=this.shape[a];for(;e instanceof ew;)e=e._def.innerType;t[a]=e}return new ei({...this._def,shape:()=>t})}keyof(){return ey(n.objectKeys(this.shape))}}ei.create=(e,t)=>new ei({shape:()=>e,unknownKeys:"strip",catchall:er.create(),typeName:o.ZodObject,...R(t)}),ei.strictCreate=(e,t)=>new ei({shape:()=>e,unknownKeys:"strict",catchall:er.create(),typeName:o.ZodObject,...R(t)}),ei.lazycreate=(e,t)=>new ei({shape:e,unknownKeys:"strip",catchall:er.create(),typeName:o.ZodObject,...R(t)});class eo extends T{_parse(e){let{ctx:t}=this._processInputParams(e),a=this._def.options;if(t.common.async)return Promise.all(a.map(async e=>{let a={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let a of e)if("dirty"===a.result.status)return t.common.issues.push(...a.ctx.common.issues),a.result;let a=e.map(e=>new h(e.ctx.common.issues));return g(t,{code:m.invalid_union,unionErrors:a}),_});{let e;let r=[];for(let n of a){let a={...t,common:{...t.common,issues:[]},parent:null},s=n._parseSync({data:t.data,path:t.path,parent:a});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:a}),a.common.issues.length&&r.push(a.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let n=r.map(e=>new h(e));return g(t,{code:m.invalid_union,unionErrors:n}),_}}get options(){return this._def.options}}eo.create=(e,t)=>new eo({options:e,typeName:o.ZodUnion,...R(t)});let el=e=>{if(e instanceof ev)return el(e.schema);if(e instanceof ex)return el(e.innerType());if(e instanceof eg)return[e.value];if(e instanceof e_)return e.options;if(e instanceof eb)return n.objectValues(e.enum);if(e instanceof eS)return el(e._def.innerType);if(e instanceof Y)return[void 0];else if(e instanceof ee)return[null];else if(e instanceof ew)return[void 0,...el(e.unwrap())];else if(e instanceof eC)return[null,...el(e.unwrap())];else if(e instanceof eR)return el(e.unwrap());else if(e instanceof eI)return el(e.unwrap());else if(e instanceof eA)return el(e._def.innerType);else return[]};class eu extends T{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==c.object)return g(t,{code:m.invalid_type,expected:c.object,received:t.parsedType}),_;let a=this.discriminator,r=t.data[a],n=this.optionsMap.get(r);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):(g(t,{code:m.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),_)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,a){let r=new Map;for(let a of t){let t=el(a.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let n of t){if(r.has(n))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);r.set(n,a)}}return new eu({typeName:o.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...R(a)})}}class ed extends T{_parse(e){let{status:t,ctx:a}=this._processInputParams(e),r=(e,r)=>{if(x(e)||x(r))return _;let s=function e(t,a){let r=p(t),s=p(a);if(t===a)return{valid:!0,data:t};if(r===c.object&&s===c.object){let r=n.objectKeys(a),s=n.objectKeys(t).filter(e=>-1!==r.indexOf(e)),i={...t,...a};for(let r of s){let n=e(t[r],a[r]);if(!n.valid)return{valid:!1};i[r]=n.data}return{valid:!0,data:i}}if(r===c.array&&s===c.array){if(t.length!==a.length)return{valid:!1};let r=[];for(let n=0;n<t.length;n++){let s=e(t[n],a[n]);if(!s.valid)return{valid:!1};r.push(s.data)}return{valid:!0,data:r}}return r===c.date&&s===c.date&&+t==+a?{valid:!0,data:t}:{valid:!1}}(e.value,r.value);return s.valid?((w(e)||w(r))&&t.dirty(),{status:t.value,value:s.data}):(g(a,{code:m.invalid_intersection_types}),_)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([e,t])=>r(e,t)):r(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}ed.create=(e,t,a)=>new ed({left:e,right:t,typeName:o.ZodIntersection,...R(a)});class ec extends T{_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==c.array)return g(a,{code:m.invalid_type,expected:c.array,received:a.parsedType}),_;if(a.data.length<this._def.items.length)return g(a,{code:m.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_;!this._def.rest&&a.data.length>this._def.items.length&&(g(a,{code:m.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let r=[...a.data].map((e,t)=>{let r=this._def.items[t]||this._def.rest;return r?r._parse(new A(a,e,a.path,t)):null}).filter(e=>!!e);return a.common.async?Promise.all(r).then(e=>y.mergeArray(t,e)):y.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new ec({...this._def,rest:e})}}ec.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new ec({items:e,typeName:o.ZodTuple,rest:null,...R(t)})};class ep extends T{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==c.object)return g(a,{code:m.invalid_type,expected:c.object,received:a.parsedType}),_;let r=[],n=this._def.keyType,s=this._def.valueType;for(let e in a.data)r.push({key:n._parse(new A(a,e,a.path,e)),value:s._parse(new A(a,a.data[e],a.path,e)),alwaysSet:e in a.data});return a.common.async?y.mergeObjectAsync(t,r):y.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,a){return new ep(t instanceof T?{keyType:e,valueType:t,typeName:o.ZodRecord,...R(a)}:{keyType:K.create(),valueType:e,typeName:o.ZodRecord,...R(t)})}}class em extends T{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==c.map)return g(a,{code:m.invalid_type,expected:c.map,received:a.parsedType}),_;let r=this._def.keyType,n=this._def.valueType,s=[...a.data.entries()].map(([e,t],s)=>({key:r._parse(new A(a,e,a.path,[s,"key"])),value:n._parse(new A(a,t,a.path,[s,"value"]))}));if(a.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let a of s){let r=await a.key,n=await a.value;if("aborted"===r.status||"aborted"===n.status)return _;("dirty"===r.status||"dirty"===n.status)&&t.dirty(),e.set(r.value,n.value)}return{status:t.value,value:e}})}{let e=new Map;for(let a of s){let r=a.key,n=a.value;if("aborted"===r.status||"aborted"===n.status)return _;("dirty"===r.status||"dirty"===n.status)&&t.dirty(),e.set(r.value,n.value)}return{status:t.value,value:e}}}}em.create=(e,t,a)=>new em({valueType:t,keyType:e,typeName:o.ZodMap,...R(a)});class eh extends T{_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==c.set)return g(a,{code:m.invalid_type,expected:c.set,received:a.parsedType}),_;let r=this._def;null!==r.minSize&&a.data.size<r.minSize.value&&(g(a,{code:m.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&a.data.size>r.maxSize.value&&(g(a,{code:m.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());let n=this._def.valueType;function s(e){let a=new Set;for(let r of e){if("aborted"===r.status)return _;"dirty"===r.status&&t.dirty(),a.add(r.value)}return{status:t.value,value:a}}let i=[...a.data.values()].map((e,t)=>n._parse(new A(a,e,a.path,t)));return a.common.async?Promise.all(i).then(e=>s(e)):s(i)}min(e,t){return new eh({...this._def,minSize:{value:e,message:i.toString(t)}})}max(e,t){return new eh({...this._def,maxSize:{value:e,message:i.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}eh.create=(e,t)=>new eh({valueType:e,minSize:null,maxSize:null,typeName:o.ZodSet,...R(t)});class ef extends T{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==c.function)return g(t,{code:m.invalid_type,expected:c.function,received:t.parsedType}),_;function a(e,a){return v({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,f,f].filter(e=>!!e),issueData:{code:m.invalid_arguments,argumentsError:a}})}function r(e,a){return v({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,f,f].filter(e=>!!e),issueData:{code:m.invalid_return_type,returnTypeError:a}})}let n={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof ek){let e=this;return k(async function(...t){let i=new h([]),o=await e._def.args.parseAsync(t,n).catch(e=>{throw i.addIssue(a(t,e)),i}),l=await Reflect.apply(s,this,o);return await e._def.returns._def.type.parseAsync(l,n).catch(e=>{throw i.addIssue(r(l,e)),i})})}{let e=this;return k(function(...t){let i=e._def.args.safeParse(t,n);if(!i.success)throw new h([a(t,i.error)]);let o=Reflect.apply(s,this,i.data),l=e._def.returns.safeParse(o,n);if(!l.success)throw new h([r(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ef({...this._def,args:ec.create(e).rest(ea.create())})}returns(e){return new ef({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,a){return new ef({args:e||ec.create([]).rest(ea.create()),returns:t||ea.create(),typeName:o.ZodFunction,...R(a)})}}class ev extends T{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ev.create=(e,t)=>new ev({getter:e,typeName:o.ZodLazy,...R(t)});class eg extends T{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return g(t,{received:t.data,code:m.invalid_literal,expected:this._def.value}),_}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ey(e,t){return new e_({values:e,typeName:o.ZodEnum,...R(t)})}eg.create=(e,t)=>new eg({value:e,typeName:o.ZodLiteral,...R(t)});class e_ extends T{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),a=this._def.values;return g(t,{expected:n.joinValues(a),received:t.parsedType,code:m.invalid_type}),_}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),a=this._def.values;return g(t,{received:t.data,code:m.invalid_enum_value,options:a}),_}return k(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return e_.create(e,{...this._def,...t})}exclude(e,t=this._def){return e_.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}e_.create=ey;class eb extends T{_parse(e){let t=n.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==c.string&&a.parsedType!==c.number){let e=n.objectValues(t);return g(a,{expected:n.joinValues(e),received:a.parsedType,code:m.invalid_type}),_}if(this._cache||(this._cache=new Set(n.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=n.objectValues(t);return g(a,{received:a.data,code:m.invalid_enum_value,options:e}),_}return k(e.data)}get enum(){return this._def.values}}eb.create=(e,t)=>new eb({values:e,typeName:o.ZodNativeEnum,...R(t)});class ek extends T{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==c.promise&&!1===t.common.async?(g(t,{code:m.invalid_type,expected:c.promise,received:t.parsedType}),_):k((t.parsedType===c.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ek.create=(e,t)=>new ek({type:e,typeName:o.ZodPromise,...R(t)});class ex extends T{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===o.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:a}=this._processInputParams(e),r=this._def.effect||null,s={addIssue:e=>{g(a,e),e.fatal?t.abort():t.dirty()},get path(){return a.path}};if(s.addIssue=s.addIssue.bind(s),"preprocess"===r.type){let e=r.transform(a.data,s);if(a.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return _;let r=await this._def.schema._parseAsync({data:e,path:a.path,parent:a});return"aborted"===r.status?_:"dirty"===r.status||"dirty"===t.value?b(r.value):r});{if("aborted"===t.value)return _;let r=this._def.schema._parseSync({data:e,path:a.path,parent:a});return"aborted"===r.status?_:"dirty"===r.status||"dirty"===t.value?b(r.value):r}}if("refinement"===r.type){let e=e=>{let t=r.refinement(e,s);if(a.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==a.common.async)return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(a=>"aborted"===a.status?_:("dirty"===a.status&&t.dirty(),e(a.value).then(()=>({status:t.value,value:a.value}))));{let r=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===r.status?_:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}}if("transform"===r.type){if(!1!==a.common.async)return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(e=>C(e)?Promise.resolve(r.transform(e.value,s)).then(e=>({status:t.value,value:e})):_);{let e=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!C(e))return _;let n=r.transform(e.value,s);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}}n.assertNever(r)}}ex.create=(e,t,a)=>new ex({schema:e,typeName:o.ZodEffects,effect:t,...R(a)}),ex.createWithPreprocess=(e,t,a)=>new ex({schema:t,effect:{type:"preprocess",transform:e},typeName:o.ZodEffects,...R(a)});class ew extends T{_parse(e){return this._getType(e)===c.undefined?k(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ew.create=(e,t)=>new ew({innerType:e,typeName:o.ZodOptional,...R(t)});class eC extends T{_parse(e){return this._getType(e)===c.null?k(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eC.create=(e,t)=>new eC({innerType:e,typeName:o.ZodNullable,...R(t)});class eS extends T{_parse(e){let{ctx:t}=this._processInputParams(e),a=t.data;return t.parsedType===c.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}eS.create=(e,t)=>new eS({innerType:e,typeName:o.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...R(t)});class eA extends T{_parse(e){let{ctx:t}=this._processInputParams(e),a={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return S(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new h(a.common.issues)},input:a.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new h(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}eA.create=(e,t)=>new eA({innerType:e,typeName:o.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...R(t)});class eE extends T{_parse(e){if(this._getType(e)!==c.nan){let t=this._getOrReturnCtx(e);return g(t,{code:m.invalid_type,expected:c.nan,received:t.parsedType}),_}return{status:"valid",value:e.data}}}eE.create=e=>new eE({typeName:o.ZodNaN,...R(e)}),Symbol("zod_brand");class eR extends T{_parse(e){let{ctx:t}=this._processInputParams(e),a=t.data;return this._def.type._parse({data:a,path:t.path,parent:t})}unwrap(){return this._def.type}}class eT extends T{_parse(e){let{status:t,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return"aborted"===e.status?_:"dirty"===e.status?(t.dirty(),b(e.value)):this._def.out._parseAsync({data:e.value,path:a.path,parent:a})})();{let e=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===e.status?_:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:a.path,parent:a})}}static create(e,t){return new eT({in:e,out:t,typeName:o.ZodPipeline})}}class eI extends T{_parse(e){let t=this._def.innerType._parse(e),a=e=>(C(e)&&(e.value=Object.freeze(e.value)),e);return S(t)?t.then(e=>a(e)):a(t)}unwrap(){return this._def.innerType}}eI.create=(e,t)=>new eI({innerType:e,typeName:o.ZodReadonly,...R(t)}),ei.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(o||(o={})),K.create,q.create,eE.create,Q.create,H.create,J.create,G.create,Y.create,ee.create,et.create,ea.create,er.create,en.create,es.create,ei.create,ei.strictCreate,eo.create,eu.create,ed.create,ec.create,ep.create,em.create,eh.create,ef.create,ev.create,eg.create,e_.create,eb.create,ek.create,ex.create,ew.create,eC.create,ex.createWithPreprocess,eT.create;class eZ extends Error{constructor(e,t){super(e),this.name="ParseError",this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}}function e$(e){}class eP extends TransformStream{constructor({onError:e,onRetry:t,onComment:a}={}){let r;super({start(n){r=function(e){if("function"==typeof e)throw TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");let{onEvent:t=e$,onError:a=e$,onRetry:r=e$,onComment:n}=e,s="",i=!0,o,l="",u="";function d(e){if(""===e){l.length>0&&t({id:o,event:u||void 0,data:l.endsWith(`
`)?l.slice(0,-1):l}),o=void 0,l="",u="";return}if(e.startsWith(":")){n&&n(e.slice(e.startsWith(": ")?2:1));return}let a=e.indexOf(":");if(-1!==a){let t=e.slice(0,a),r=" "===e[a+1]?2:1;c(t,e.slice(a+r),e);return}c(e,"",e)}function c(e,t,n){switch(e){case"event":u=t;break;case"data":l=`${l}${t}
`;break;case"id":o=t.includes("\0")?void 0:t;break;case"retry":/^\d+$/.test(t)?r(parseInt(t,10)):a(new eZ(`Invalid \`retry\` value: "${t}"`,{type:"invalid-retry",value:t,line:n}));break;default:a(new eZ(`Unknown field "${e.length>20?`${e.slice(0,20)}\u2026`:e}"`,{type:"unknown-field",field:e,value:t,line:n}))}}return{feed:function(e){let t=i?e.replace(/^\xEF\xBB\xBF/,""):e,[a,r]=function(e){let t=[],a="",r=0;for(;r<e.length;){let n=e.indexOf("\r",r),s=e.indexOf(`
`,r),i=-1;if(-1!==n&&-1!==s?i=Math.min(n,s):-1!==n?i=n===e.length-1?-1:n:-1!==s&&(i=s),-1===i){a=e.slice(r);break}{let a=e.slice(r,i);t.push(a),"\r"===e[(r=i+1)-1]&&e[r]===`
`&&r++}}return[t,a]}(`${s}${t}`);for(let e of a)d(e);s=r,i=!1},reset:function(e={}){s&&e.consume&&d(s),i=!0,o=void 0,l="",u="",s=""}}}({onEvent:e=>{n.enqueue(e)},onError(t){"terminate"===e?n.error(t):"function"==typeof e&&e(t)},onRetry:t,onComment:a})},transform(e){r.feed(e)}})}}a(2818);var{btoa:eO,atob:eL}=globalThis;function ej(e){let t=eL(e.replace(/-/g,"+").replace(/_/g,"/"));return Uint8Array.from(t,e=>e.codePointAt(0))}function eN(e){let t="";for(let a=0;a<e.length;a++)t+=String.fromCodePoint(e[a]);return eO(t)}var eM=Symbol.for("vercel.ai.error.AI_DownloadError"),eF=(u.bD,({prefix:e,size:t=16,alphabet:a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{let n=()=>{let e=a.length,r=Array(t);for(let n=0;n<t;n++)r[n]=a[Math.random()*e|0];return r.join("")};if(null==e)return n;if(a.includes(r))throw new u.Di({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${a}".`});return()=>`${e}${r}${n()}`}),eU=eF();function eD(e=globalThis){var t,a,r;return e.window?"runtime/browser":(null==(t=e.navigator)?void 0:t.userAgent)?`runtime/${e.navigator.userAgent.toLowerCase()}`:(null==(r=null==(a=e.process)?void 0:a.versions)?void 0:r.node)?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function eW(e){if(null==e)return{};let t={};if(e instanceof Headers)e.forEach((e,a)=>{t[a.toLowerCase()]=e});else for(let[a,r]of(Array.isArray(e)||(e=Object.entries(e)),e))null!=r&&(t[a.toLowerCase()]=r);return t}function ez(e,...t){let a=new Headers(eW(e)),r=a.get("user-agent")||"";return a.set("user-agent",[r,...t].filter(Boolean).join(" ")),Object.fromEntries(a.entries())}var eX=/"__proto__"\s*:/,eB=/"constructor"\s*:/;function eV(e){let t=JSON.parse(e);return null===t||"object"!=typeof t||!1===eX.test(e)&&!1===eB.test(e)?t:function(e){let t=[e];for(;t.length;){let e=t;for(let a of(t=[],e)){if(Object.prototype.hasOwnProperty.call(a,"__proto__")||Object.prototype.hasOwnProperty.call(a,"constructor")&&Object.prototype.hasOwnProperty.call(a.constructor,"prototype"))throw SyntaxError("Object contains forbidden prototype property");for(let e in a){let r=a[e];r&&"object"==typeof r&&t.push(r)}}}return e}(t)}function eK(e){if("object"===e.type||Array.isArray(e.type)&&e.type.includes("object")){e.additionalProperties=!1;let{properties:t}=e;if(null!=t)for(let e of Object.keys(t))t[e]=eq(t[e])}null!=e.items&&(e.items=Array.isArray(e.items)?e.items.map(eq):eq(e.items)),null!=e.anyOf&&(e.anyOf=e.anyOf.map(eq)),null!=e.allOf&&(e.allOf=e.allOf.map(eq)),null!=e.oneOf&&(e.oneOf=e.oneOf.map(eq));let{definitions:t}=e;if(null!=t)for(let e of Object.keys(t))t[e]=eq(t[e]);return e}function eq(e){return"boolean"==typeof e?e:eK(e)}var eQ=Symbol("Let zodToJsonSchema decide on which parser to use"),eH={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},eJ=e=>"string"==typeof e?{...eH,name:e}:{...eH,...e};function eG(e,t){return tl(e.type._def,t)}var eY=(e,t)=>tl(e.innerType._def,t),e0=e=>{let t={type:"integer",format:"unix-time"};for(let a of e.checks)switch(a.kind){case"min":t.minimum=a.value;break;case"max":t.maximum=a.value}return t},e1=e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e,e3=void 0,e5={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===e3&&(e3=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),e3),ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function e6(e,t){let a={type:"string"};if(e.checks)for(let r of e.checks)switch(r.kind){case"min":a.minLength="number"==typeof a.minLength?Math.max(a.minLength,r.value):r.value;break;case"max":a.maxLength="number"==typeof a.maxLength?Math.min(a.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":e7(a,"email",r.message,t);break;case"format:idn-email":e7(a,"idn-email",r.message,t);break;case"pattern:zod":e9(a,e5.email,r.message,t)}break;case"url":e7(a,"uri",r.message,t);break;case"uuid":e7(a,"uuid",r.message,t);break;case"regex":e9(a,r.regex,r.message,t);break;case"cuid":e9(a,e5.cuid,r.message,t);break;case"cuid2":e9(a,e5.cuid2,r.message,t);break;case"startsWith":e9(a,RegExp(`^${e2(r.value,t)}`),r.message,t);break;case"endsWith":e9(a,RegExp(`${e2(r.value,t)}$`),r.message,t);break;case"datetime":e7(a,"date-time",r.message,t);break;case"date":e7(a,"date",r.message,t);break;case"time":e7(a,"time",r.message,t);break;case"duration":e7(a,"duration",r.message,t);break;case"length":a.minLength="number"==typeof a.minLength?Math.max(a.minLength,r.value):r.value,a.maxLength="number"==typeof a.maxLength?Math.min(a.maxLength,r.value):r.value;break;case"includes":e9(a,RegExp(e2(r.value,t)),r.message,t);break;case"ip":"v6"!==r.version&&e7(a,"ipv4",r.message,t),"v4"!==r.version&&e7(a,"ipv6",r.message,t);break;case"base64url":e9(a,e5.base64url,r.message,t);break;case"jwt":e9(a,e5.jwt,r.message,t);break;case"cidr":"v6"!==r.version&&e9(a,e5.ipv4Cidr,r.message,t),"v4"!==r.version&&e9(a,e5.ipv6Cidr,r.message,t);break;case"emoji":e9(a,e5.emoji(),r.message,t);break;case"ulid":e9(a,e5.ulid,r.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":e7(a,"binary",r.message,t);break;case"contentEncoding:base64":a.contentEncoding="base64";break;case"pattern:zod":e9(a,e5.base64,r.message,t)}break;case"nanoid":e9(a,e5.nanoid,r.message,t)}return a}function e2(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let a=0;a<e.length;a++)e4.has(e[a])||(t+="\\"),t+=e[a];return t}(e):e}var e4=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function e7(e,t,a,r){var n;e.format||(null==(n=e.anyOf)?void 0:n.some(e=>e.format))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...a&&r.errorMessages&&{errorMessage:{format:a}}})):e.format=t}function e9(e,t,a,r){var n;e.pattern||(null==(n=e.allOf)?void 0:n.some(e=>e.pattern))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:e8(t,r),...a&&r.errorMessages&&{errorMessage:{pattern:a}}})):e.pattern=e8(t,r)}function e8(e,t){var a;if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,s="",i=!1,o=!1,l=!1;for(let e=0;e<n.length;e++){if(i){s+=n[e],i=!1;continue}if(r.i){if(o){if(n[e].match(/[a-z]/)){l?(s+=n[e],s+=`${n[e-2]}-${n[e]}`.toUpperCase(),l=!1):"-"===n[e+1]&&(null==(a=n[e+2])?void 0:a.match(/[a-z]/))?(s+=n[e],l=!0):s+=`${n[e]}${n[e].toUpperCase()}`;continue}}else if(n[e].match(/[a-z]/)){s+=`[${n[e]}${n[e].toUpperCase()}]`;continue}}if(r.m){if("^"===n[e]){s+=`(^|(?<=[\r
]))`;continue}if("$"===n[e]){s+=`($|(?=[\r
]))`;continue}}if(r.s&&"."===n[e]){s+=o?`${n[e]}\r
`:`[${n[e]}\r
]`;continue}s+=n[e],"\\"===n[e]?i=!0:o&&"]"===n[e]?o=!1:o||"["!==n[e]||(o=!0)}try{new RegExp(s)}catch(a){return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function te(e,t){var a,r,n,s,i,l;let u={type:"object",additionalProperties:null!=(a=tl(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))?a:t.allowedAdditionalProperties};if((null==(r=e.keyType)?void 0:r._def.typeName)===o.ZodString&&(null==(n=e.keyType._def.checks)?void 0:n.length)){let{type:a,...r}=e6(e.keyType._def,t);return{...u,propertyNames:r}}if((null==(s=e.keyType)?void 0:s._def.typeName)===o.ZodEnum)return{...u,propertyNames:{enum:e.keyType._def.values}};if((null==(i=e.keyType)?void 0:i._def.typeName)===o.ZodBranded&&e.keyType._def.type._def.typeName===o.ZodString&&(null==(l=e.keyType._def.type._def.checks)?void 0:l.length)){let{type:a,...r}=eG(e.keyType._def,t);return{...u,propertyNames:r}}return u}var tt={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},ta=(e,t)=>{let a=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,a)=>tl(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${a}`]})).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return a.length?{anyOf:a}:void 0},tr=(e,t)=>{var a;if(t.currentPath.toString()===(null==(a=t.propertyPath)?void 0:a.toString()))return tl(e.innerType._def,t);let r=tl(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}},tn=(e,t)=>{if("input"===t.pipeStrategy)return tl(e.in._def,t);if("output"===t.pipeStrategy)return tl(e.out._def,t);let a=tl(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=tl(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",a?"1":"0"]});return{allOf:[a,r].filter(e=>void 0!==e)}},ts=(e,t)=>tl(e.innerType._def,t),ti=(e,t,a)=>{switch(t){case o.ZodString:return e6(e,a);case o.ZodNumber:return function(e){let t={type:"number"};if(!e.checks)return t;for(let a of e.checks)switch(a.kind){case"int":t.type="integer";break;case"min":a.inclusive?t.minimum=a.value:t.exclusiveMinimum=a.value;break;case"max":a.inclusive?t.maximum=a.value:t.exclusiveMaximum=a.value;break;case"multipleOf":t.multipleOf=a.value}return t}(e);case o.ZodObject:return function(e,t){let a={type:"object",properties:{}},r=[],n=e.shape();for(let e in n){let s=n[e];if(void 0===s||void 0===s._def)continue;let i=function(e){try{return e.isOptional()}catch(e){return!0}}(s),o=tl(s._def,{...t,currentPath:[...t.currentPath,"properties",e],propertyPath:[...t.currentPath,"properties",e]});void 0!==o&&(a.properties[e]=o,i||r.push(e))}r.length&&(a.required=r);let s=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return tl(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==s&&(a.additionalProperties=s),a}(e,a);case o.ZodBigInt:return function(e){let t={type:"integer",format:"int64"};if(!e.checks)return t;for(let a of e.checks)switch(a.kind){case"min":a.inclusive?t.minimum=a.value:t.exclusiveMinimum=a.value;break;case"max":a.inclusive?t.maximum=a.value:t.exclusiveMaximum=a.value;break;case"multipleOf":t.multipleOf=a.value}return t}(e);case o.ZodBoolean:return{type:"boolean"};case o.ZodDate:return function e(t,a,r){let n=null!=r?r:a.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((r,n)=>e(t,a,r))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return e0(t)}}(e,a);case o.ZodUndefined:return{not:{}};case o.ZodNull:return{type:"null"};case o.ZodArray:return function(e,t){var a,r,n;let s={type:"array"};return(null==(a=e.type)?void 0:a._def)&&(null==(n=null==(r=e.type)?void 0:r._def)?void 0:n.typeName)!==o.ZodAny&&(s.items=tl(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(s.minItems=e.minLength.value),e.maxLength&&(s.maxItems=e.maxLength.value),e.exactLength&&(s.minItems=e.exactLength.value,s.maxItems=e.exactLength.value),s}(e,a);case o.ZodUnion:case o.ZodDiscriminatedUnion:return function(e,t){let a=e.options instanceof Map?Array.from(e.options.values()):e.options;if(a.every(e=>e._def.typeName in tt&&(!e._def.checks||!e._def.checks.length))){let e=a.reduce((e,t)=>{let a=tt[t._def.typeName];return a&&!e.includes(a)?[...e,a]:e},[]);return{type:e.length>1?e:e[0]}}if(a.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=a.reduce((e,t)=>{let a=typeof t._def.value;switch(a){case"string":case"number":case"boolean":return[...e,a];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===a.length){let t=e.filter((e,t,a)=>a.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:a.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(a.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:a.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return ta(e,t)}(e,a);case o.ZodIntersection:return function(e,t){let a=[tl(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),tl(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(e=>!!e),r=[];return a.forEach(e=>{if(e1(e))r.push(...e.allOf);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:a,...r}=e;t=r}r.push(t)}}),r.length?{allOf:r}:void 0}(e,a);case o.ZodTuple:return function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,a)=>tl(e._def,{...t,currentPath:[...t.currentPath,"items",`${a}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:tl(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,a)=>tl(e._def,{...t,currentPath:[...t.currentPath,"items",`${a}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])}}(e,a);case o.ZodRecord:return te(e,a);case o.ZodLiteral:return function(e){let t=typeof e.value;return"bigint"!==t&&"number"!==t&&"boolean"!==t&&"string"!==t?{type:Array.isArray(e.value)?"array":"object"}:{type:"bigint"===t?"integer":t,const:e.value}}(e);case o.ZodEnum:return{type:"string",enum:Array.from(e.values)};case o.ZodNativeEnum:return function(e){let t=e.values,a=Object.keys(e.values).filter(e=>"number"!=typeof t[t[e]]).map(e=>t[e]),r=Array.from(new Set(a.map(e=>typeof e)));return{type:1===r.length?"string"===r[0]?"string":"number":["string","number"],enum:a}}(e);case o.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[tt[e.innerType._def.typeName],"null"]};let a=tl(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return a&&{anyOf:[a,{type:"null"}]}}(e,a);case o.ZodOptional:return tr(e,a);case o.ZodMap:return function(e,t){return"record"===t.mapStrategy?te(e,t):{type:"array",maxItems:125,items:{type:"array",items:[tl(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},tl(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}}}(e,a);case o.ZodSet:return function(e,t){let a={type:"array",uniqueItems:!0,items:tl(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(a.minItems=e.minSize.value),e.maxSize&&(a.maxItems=e.maxSize.value),a}(e,a);case o.ZodLazy:return()=>e.getter()._def;case o.ZodPromise:return tl(e.type._def,a);case o.ZodNaN:case o.ZodNever:return{not:{}};case o.ZodEffects:return function(e,t){return"input"===t.effectStrategy?tl(e.schema._def,t):{}}(e,a);case o.ZodAny:case o.ZodUnknown:return{};case o.ZodDefault:return function(e,t){return{...tl(e.innerType._def,t),default:e.defaultValue()}}(e,a);case o.ZodBranded:return eG(e,a);case o.ZodReadonly:return ts(e,a);case o.ZodCatch:return eY(e,a);case o.ZodPipeline:return tn(e,a);case o.ZodFunction:case o.ZodVoid:case o.ZodSymbol:default:return}},to=(e,t)=>{let a=0;for(;a<e.length&&a<t.length&&e[a]===t[a];a++);return[(e.length-a).toString(),...t.slice(a)].join("/")};function tl(e,t,a=!1){var r;let n=t.seen.get(e);if(t.override){let s=null==(r=t.override)?void 0:r.call(t,e,t,n,a);if(s!==eQ)return s}if(n&&!a){let e=tu(n,t);if(void 0!==e)return e}let s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);let i=ti(e,e.typeName,t),o="function"==typeof i?tl(i(),t):i;if(o&&td(e,t,o),t.postProcess){let a=t.postProcess(o,e,t);return s.jsonSchema=o,a}return s.jsonSchema=o,o}var tu=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:to(t.currentPath,e.path)};case"none":case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,a)=>t.currentPath[a]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{};return"seen"===t.$refStrategy?{}:void 0}},td=(e,t,a)=>(e.description&&(a.description=e.description),a),tc=e=>{let t=eJ(e),a=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:a,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([e,a])=>[a._def,{def:a._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}]))}},tp=(e,t)=>{var a;let r=tc(t),n="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,a])=>{var n;return{...e,[t]:null!=(n=tl(a._def,{...r,currentPath:[...r.basePath,r.definitionPath,t]},!0))?n:{}}},{}):void 0,s="string"==typeof t?t:(null==t?void 0:t.nameStrategy)==="title"?void 0:null==t?void 0:t.name,i=null!=(a=tl(e._def,void 0===s?r:{...r,currentPath:[...r.basePath,r.definitionPath,s]},!1))?a:{},o="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==o&&(i.title=o);let l=void 0===s?n?{...i,[r.definitionPath]:n}:i:{$ref:[..."relative"===r.$refStrategy?[]:r.basePath,r.definitionPath,s].join("/"),[r.definitionPath]:{...n,[s]:i}};return l.$schema="http://json-schema.org/draft-07/schema#",l},tm=Symbol.for("vercel.ai.schema");function th(e){let t;return()=>(null==t&&(t=e()),t)}function tf(e,{validate:t}={}){return{[tm]:!0,_type:void 0,get jsonSchema(){return"function"==typeof e&&(e=e()),e},validate:t}}function tv(e){return null==e?tf({properties:{},additionalProperties:!1}):"object"==typeof e&&null!==e&&tm in e&&!0===e[tm]&&"jsonSchema"in e&&"validate"in e?e:"~standard"in e?"zod"===e["~standard"].vendor?tg(e):tf(()=>eK(e["~standard"].jsonSchema.input({target:"draft-07"})),{validate:async t=>{let a=await e["~standard"].validate(t);return"value"in a?{success:!0,value:a.value}:{success:!1,error:new u.iM({value:t,cause:a.issues})}}}):e()}function tg(e,t){return"_zod"in e?function(e,t){var a;let r=null!=(a=null==t?void 0:t.useReferences)&&a;return tf(()=>eK(d.blZ(e,{target:"draft-7",io:"input",reused:r?"ref":"inline"})),{validate:async t=>{let a=await d.bpZ(e,t);return a.success?{success:!0,value:a.data}:{success:!1,error:a.error}}})}(e,t):function(e,t){var a;let r=null!=(a=null==t?void 0:t.useReferences)&&a;return tf(()=>tp(e,{$refStrategy:r?"root":"none"}),{validate:async t=>{let a=await e.safeParseAsync(t);return a.success?{success:!0,value:a.data}:{success:!1,error:a.error}}})}(e,t)}async function ty({value:e,schema:t}){let a=await t_({value:e,schema:t});if(!a.success)throw u.iM.wrap({value:e,cause:a.error});return a.value}async function t_({value:e,schema:t}){let a=tv(t);try{if(null==a.validate)return{success:!0,value:e,rawValue:e};let t=await a.validate(e);if(t.success)return{success:!0,value:t.value,rawValue:e};return{success:!1,error:u.iM.wrap({value:e,cause:t.error}),rawValue:e}}catch(t){return{success:!1,error:u.iM.wrap({value:e,cause:t}),rawValue:e}}}async function tb({text:e,schema:t}){try{let a=function(e){let{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch(t){return eV(e)}try{return eV(e)}finally{Error.stackTraceLimit=t}}(e);if(null==t)return{success:!0,value:a,rawValue:a};return await t_({value:a,schema:t})}catch(t){return{success:!1,error:u.u6.isInstance(t)?t:new u.u6({text:e,cause:t}),rawValue:void 0}}}function tk({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new eP).pipeThrough(new TransformStream({async transform({data:e},a){"[DONE]"!==e&&a.enqueue(await tb({text:e,schema:t}))}}))}async function tx(e){return"function"==typeof e&&(e=e()),Promise.resolve(e)}},35914:(e,t,a)=>{a.d(t,{Di:()=>x,b8:()=>M,bD:()=>g,eM:()=>I,iM:()=>O,u1:()=>y,u6:()=>A});var r,n,s,i,o,l,u,d,c,p,m,h,f="vercel.ai.error",v=Symbol.for(f),g=class e extends(n=Error,r=v,n){constructor({name:e,message:t,cause:a}){super(t),this[r]=!0,this.name=e,this.cause=a}static isInstance(t){return e.hasMarker(t,f)}static hasMarker(e,t){let a=Symbol.for(t);return null!=e&&"object"==typeof e&&a in e&&"boolean"==typeof e[a]&&!0===e[a]}};function y(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}Symbol.for("vercel.ai.error.AI_APICallError"),Symbol.for("vercel.ai.error.AI_EmptyResponseBodyError");var _="AI_InvalidArgumentError",b=`vercel.ai.error.${_}`,k=Symbol.for(b),x=class extends(i=g,s=k,i){constructor({message:e,cause:t,argument:a}){super({name:_,message:e,cause:t}),this[s]=!0,this.argument=a}static isInstance(e){return g.hasMarker(e,b)}},w=(Symbol.for("vercel.ai.error.AI_InvalidPromptError"),Symbol.for("vercel.ai.error.AI_InvalidResponseDataError"),"AI_JSONParseError"),C=`vercel.ai.error.${w}`,S=Symbol.for(C),A=class extends(l=g,o=S,l){constructor({text:e,cause:t}){super({name:w,message:`JSON parsing failed: Text: ${e}.
Error message: ${y(t)}`,cause:t}),this[o]=!0,this.text=e}static isInstance(e){return g.hasMarker(e,C)}},E=(Symbol.for("vercel.ai.error.AI_LoadAPIKeyError"),Symbol.for("vercel.ai.error.AI_LoadSettingError"),Symbol.for("vercel.ai.error.AI_NoContentGeneratedError"),"AI_NoSuchModelError"),R=`vercel.ai.error.${E}`,T=Symbol.for(R),I=class extends(d=g,u=T,d){constructor({errorName:e=E,modelId:t,modelType:a,message:r=`No such ${a}: ${t}`}){super({name:e,message:r}),this[u]=!0,this.modelId=t,this.modelType=a}static isInstance(e){return g.hasMarker(e,R)}},Z=(Symbol.for("vercel.ai.error.AI_TooManyEmbeddingValuesForCallError"),"AI_TypeValidationError"),$=`vercel.ai.error.${Z}`,P=Symbol.for($),O=class e extends(p=g,c=P,p){constructor({value:e,cause:t}){super({name:Z,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${y(t)}`,cause:t}),this[c]=!0,this.value=e}static isInstance(e){return g.hasMarker(e,$)}static wrap({value:t,cause:a}){return e.isInstance(a)&&a.value===t?a:new e({value:t,cause:a})}},L="AI_UnsupportedFunctionalityError",j=`vercel.ai.error.${L}`,N=Symbol.for(j),M=class extends(h=g,m=N,h){constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:L,message:t}),this[m]=!0,this.functionality=e}static isInstance(e){return g.hasMarker(e,j)}};function F(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(F):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&(void 0===t||F(t))))}},25464:(e,t,a)=>{let r,n,s,i;a.r(t),a.d(t,{default:()=>nS});var o=a(84363),l=a(88123),u=a(55447),d=a(46593),c=new WeakMap,p=0,m=function(){function e(e){void 0===e&&(e=0),this.items=new Map,this.ttl=e}return e.prototype.serializeKey=function(e){return function(e){if("function"==typeof e)try{e=e()}catch(t){e=""}return e=Array.isArray(e)?function(e){if(!e.length)return"";for(var t="arg",a=0;a<e.length;++a){var r=void 0;null===e[a]||"object"!=typeof e[a]&&"function"!=typeof e[a]?r="string"==typeof e[a]?'"'+e[a]+'"':String(e[a]):c.has(e[a])?r=c.get(e[a]):(r=p,c.set(e[a],p++)),t+="@"+r}return t}(e):String(e||"")}(e)},e.prototype.get=function(e){var t=this.serializeKey(e);return this.items.get(t)},e.prototype.set=function(e,t,a){var r=this.serializeKey(e),n=a||this.ttl,s=Date.now(),i={data:t,createdAt:s,expiresAt:n?s+n:1/0};this.dispatchExpire(n,i,r),this.items.set(r,i)},e.prototype.dispatchExpire=function(e,t,a){var r=this;e&&setTimeout(function(){Date.now()>=t.expiresAt&&r.delete(a)},e)},e.prototype.delete=function(e){this.items.delete(e)},e}();let h={isOnline:function(){return void 0===navigator.onLine||navigator.onLine},isDocumentVisible:function(){return"undefined"==typeof document||void 0===document.visibilityState||"hidden"!==document.visibilityState},fetcher:function(e){return fetch(e).then(function(e){return e.json()})}};var f=function(){return(f=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},v=function(e,t,a,r){return new(a||(a=Promise))(function(n,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})},g=function(e,t){var a,r,n,s,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(a)throw TypeError("Generator is already executing.");for(;i;)try{if(a=1,r&&(n=2&s[0]?r.return:s[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,s[1])).done)return n;switch(r=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(n=(n=i.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){i.label=s[1];break}if(6===s[0]&&i.label<n[1]){i.label=n[1],n=s;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(s);break}n[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{a=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},y=function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var r,n,s=a.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return i},_=function(e,t,a){if(a||2==arguments.length)for(var r,n=0,s=t.length;n<s;n++)!r&&n in t||(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))},b=new m,k=new m,x=new m,w={cache:b,refreshInterval:0,ttl:0,serverTTL:1e3,dedupingInterval:2e3,revalidateOnFocus:!0,revalidateDebounce:0,shouldRetryOnError:!0,errorRetryInterval:5e3,errorRetryCount:5,fetcher:h.fetcher,isOnline:h.isOnline,isDocumentVisible:h.isDocumentVisible},C=function(e,t,a,r){return void 0===a&&(a=b),void 0===r&&(r=w.ttl),v(void 0,void 0,void 0,function(){var n,s,i,o,l;return g(this,function(u){switch(u.label){case 0:if(!(null!==t&&"object"==typeof t&&"function"==typeof t.then))return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,t];case 2:return n=u.sent(),[3,4];case 3:return s=u.sent(),[3,4];case 4:return[3,6];case 5:n=t,u.label=6;case 6:if(i={data:n,error:s,isValidating:!1},void 0!==n)try{a.set(e,i,r)}catch(e){console.error("swrv(mutate): failed to set cache",e)}return(o=k.get(e))&&o.data.length&&((l=o.data.filter(function(t){return t.key===e})).forEach(function(e,t){void 0!==i.data&&(e.data=i.data),e.error=i.error,e.isValidating=i.isValidating,e.isLoading=i.isValidating,t!==l.length-1&&delete l[t]}),l=l.filter(Boolean)),[2,i]}})})};let S=function(){for(var e,t,a=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var s=f({},w),i=!1,u=!1,d=(0,o.nI)(),c=(null==d?void 0:d.proxy)||d;if(!c)return console.error("Could not get current instance, check to make sure that `useSwrv` is declared in the top level of the setup function."),null;var p=(null==c?void 0:c.$isServer)||!1;r.length>=1&&(e=r[0]),r.length>=2&&(t=r[1]),r.length>2&&(s=f(f({},s),r[2]));var m=p?s.serverTTL:s.ttl,h="function"==typeof e?e:(0,l.KR)(e);void 0===t&&(t=s.fetcher);var b=null;b=(0,l.Kh)({data:void 0,error:void 0,isValidating:!0,isLoading:!0,key:null});var S=function(e,r){return v(a,void 0,void 0,function(){var a,n,o,l,u,d,c=this;return g(this,function(p){switch(p.label){case 0:if(a=void 0===b.data,!(n=h.value))return[2];if(l=(o=s.cache.get(n))&&o.data,b.isValidating=!0,b.isLoading=!l,l&&(b.data=l.data,b.error=l.error),!(u=e||t)||!s.isDocumentVisible()&&!a||(null==r?void 0:r.forceRevalidate)!==void 0&&!(null==r?void 0:r.forceRevalidate)||o&&!(Date.now()-o.createdAt>=s.dedupingInterval||(null==r?void 0:r.forceRevalidate)))return b.isValidating=!1,b.isLoading=!1,[2];if(d=function(){return v(c,void 0,void 0,function(){var e,t,a;return g(this,function(o){switch(o.label){case 0:if(e=x.get(n))return[3,2];return t=Array.isArray(n)?n:[n],a=u.apply(void 0,_([],y(t),!1)),x.set(n,a,s.dedupingInterval),[4,C(n,a,s.cache,m)];case 1:return o.sent(),[3,4];case 2:return[4,C(n,e.data,s.cache,m)];case 3:o.sent(),o.label=4;case 4:return b.isValidating=!1,b.isLoading=!1,x.delete(n),void 0!==b.error&&!i&&s.shouldRetryOnError&&(!r||r.shouldRetryOnError)&&function(e,t,a){if(a.isDocumentVisible()&&(void 0===a.errorRetryCount||!(t>a.errorRetryCount))){var r=Math.min(t||0,a.errorRetryCount);setTimeout(function(){e(null,{errorRetryCount:r+1,shouldRetryOnError:!0})},r*a.errorRetryInterval)}}(S,r?r.errorRetryCount:1,s),[2]}})})},!(l&&s.revalidateDebounce))return[3,1];return setTimeout(function(){return v(c,void 0,void 0,function(){return g(this,function(e){switch(e.label){case 0:if(i)return[3,2];return[4,d()];case 1:e.sent(),e.label=2;case 2:return[2]}})})},s.revalidateDebounce),[3,3];case 1:return[4,d()];case 2:p.sent(),p.label=3;case 3:return[2]}})})},A=function(){return v(a,void 0,void 0,function(){return g(this,function(e){return[2,S(null,{shouldRetryOnError:!1})]})})},E=null;(0,o.sV)(function(){var e=function(){return v(a,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:if(!(!b.error&&s.isOnline()))return[3,2];return[4,S()];case 1:return t.sent(),[3,3];case 2:E&&clearTimeout(E),t.label=3;case 3:return s.refreshInterval&&!i&&(E=setTimeout(e,s.refreshInterval)),[2]}})})};s.refreshInterval&&(E=setTimeout(e,s.refreshInterval)),s.revalidateOnFocus&&(document.addEventListener("visibilitychange",A,!1),window.addEventListener("focus",A,!1))}),(0,o.hi)(function(){i=!0,E&&clearTimeout(E),s.revalidateOnFocus&&(document.removeEventListener("visibilitychange",A,!1),window.removeEventListener("focus",A,!1));var e=k.get(h.value);e&&(e.data=e.data.filter(function(e){return e!==b}))});try{(0,o.wB)(h,function(e){var t,a,r;(0,l.Tm)(h)||(h.value=e),b.key=e,b.isValidating=!!e,t=h.value,a=b,(r=k.get(t))?r.data.push(a):k.set(t,[a],m>0?m+5e3:m),p||u||!h.value||S(),u=!1},{immediate:!0})}catch(e){}return f(f({},(0,l.QW)(b)),{mutate:function(e,t){return S(e,f(f({},t),{forceRevalidate:!0}))}})};var A=a(7362),E=(S.default,class{constructor(e){this.statusRef=(0,l.KR)("ready"),this.errorRef=(0,l.KR)(void 0),this.pushMessage=e=>{this.messagesRef.value=[...this.messagesRef.value,e]},this.popMessage=()=>{this.messagesRef.value=this.messagesRef.value.slice(0,-1)},this.replaceMessage=(e,t)=>{this.messagesRef.value[e]={...t}},this.snapshot=e=>e,this.messagesRef=(0,l.KR)(null!=e?e:[])}get messages(){return this.messagesRef.value}set messages(e){this.messagesRef.value=e}get status(){return this.statusRef.value}set status(e){this.statusRef.value=e}get error(){return this.errorRef.value}set error(e){this.errorRef.value=e}}),R=class extends A.vl{constructor({messages:e,...t}){super({...t,state:new E(e)})}},T=(S.default,a(47547)),I=a(65543),Z=a(10078),$=a(1940);let P={safeFn:function(e,t){let a=e=>({success:!1,error:t?.(e)??null});return(...t)=>{try{let r=e(...t);if(r instanceof Promise)return r.catch(a);return r}catch(e){return a(e)}}},fromUnsafe:function(e,t){let a=e=>({success:!1,error:t?.(e)??null}),r=e=>({success:!0,data:e});try{let t=e();if(t instanceof Promise)return t.then(r).catch(a);return r(t)}catch(e){return a(e)}}};var O=a(39794);function L(e,t){return{code:e,detail:t}}let j=O.Ay$.object({id:O.Ay$.string(),title:O.Ay$.string(),namespace:O.Ay$.string(),currentVersion:O.Ay$.string(),logoUrl:O.Ay$.url().nullable(),slug:O.Ay$.string()});var N=a(54861),M=a(74350),F=a(36754),U=a(16751),D=a(14810),W=a(59581);function z(e){return Object.fromEntries(Object.entries(e.workspace.documents).map(([t,a])=>{var r;let n=(0,F.V)(a.servers,{documentUrl:a?.["x-scalar-original-source-url"]});return[t,{activeServer:(0,M.rd)(a,n),securitySchemes:(r=e.auth,Object.values((0,N.p2)(a?.components?.securitySchemes,{},r,t)))}]}))}let X=(0,U.Ar)(),B=()=>{let e=e=>`${U.n_.AUTH}-${e}`;return{getAuth:t=>{let a=JSON.parse(X.getItem(e(t))??"{}");return(0,W.v)(D.wF,a)},setAuth:(t,a)=>{X.setItem(e(t),JSON.stringify(a))}}},V=({documentName:e,workspaceStore:t})=>{let a=B().getAuth(e);t.auth.load({[e]:a})};function K(e){try{if(e.startsWith("/")||e.startsWith("http://localhost"))return e;let t=new URLSearchParams({scalar_url:e});return new URL(`https://proxy.scalar.com/?${t}`).toString()}catch{return console.error(`Invalid URL provided: ${e}`),e}}function q({getAccessToken:e,getAgentKey:t}){let a=e?.(),r=t?.();return{...a&&{Authorization:`Bearer ${a}`},...r&&{"x-scalar-agent-key":r}}}var Q=a(70911),H=a(57677);let J=e=>{let t=G(e,0);if(void 0===t||!ee(e[t]))return;let a=G(e,t+1);if(void 0!==a)return et(e,t,a)},G=(e,t)=>{for(let a=t;a<e.length;a+=1)if(!Y(e[a]))return a},Y=e=>" "===e||"	"===e||"\n"===e||"\r"===e,ee=e=>"{"===e||"["===e,et=(e,t,a)=>{let r;for(let n=a-1;n>t;n-=1){let t=e[n];if("\r"===t)return;if("\n"===t)return ea(r);if(void 0===r)r=t;else{if(r[0]!==t)return;r+=t}}},ea=e=>void 0===e?0:" "===e[0]?e.length:e,er=(e,t)=>{let a=en(e,"toPrecision",t,t);return void 0===a?en(e,"toExponential",t,t):a},en=(e,t,a,r)=>{let n=e[t](r).replace(es,"$1").replace(ei,"$1");return n.length<=a?n:1===r?void 0:en(e,t,a,r-1)},es=/(e)\+/iu,ei=/\.?0*($|e)/iu,eo=(e,t)=>{if("string"!=typeof e)throw TypeError(`Input must be a JSON string: ${e}`);el(t)},el=e=>{if(eu(e),e<0)throw TypeError(`"maxSize" argument must be positive: ${e}`);if(e<ed)throw TypeError(`"maxSize" argument must be at least ${ed}: ${e}`)},eu=e=>{if(void 0===e)throw TypeError('"maxSize" argument must be defined');if(!Number.isInteger(e))throw TypeError(`"maxSize" argument must be an integer: ${e}`)},ed=7,ec=(e,t,a)=>{let r=ey(t,a);return ep(e,t,r)},ep=(e,t,a)=>{if(a>=t)return a;let r=e[a];return r>=ew&&r<=eC?ep(e,t,a+1):a},em=(e,t,a)=>void 0===a?a:eh(e,ey(t,a)),eh=(e,t)=>ef(e,t)?t-3:ev(e,t)?t-2:eg(e,t)?t-1:t,ef=(e,t)=>t>=3&&e[t-3]>=e_&&e[t-3]<=eb,ev=(e,t)=>t>=2&&e[t-2]>=ek,eg=(e,t)=>t>=1&&e[t-1]>=ex,ey=(e,t)=>t<0||Object.is(t,-0)?Math.max(e+t,0):t,e_=240,eb=244,ek=224,ex=194,ew=128,eC=191,eS=(e,t,a)=>{let r=globalThis.Buffer.from(e),n=ec(r,r.length,t),s=em(r,r.length,a);return 0===n&&s>=r.length?r.toString():r.toString("utf8",n,s)},eA=/[\uD800-\uDFFF]/gu,eE=e=>eR(e)?e.replace(eA,""):e,eR=e=>{for(let t=0;t<e.length;t+=1){let a=e.codePointAt(t);if(a>=55296&&a<=57343)return!0}return!1},eT=({input:e,targetByteCount:t,firstStartSurrogate:a,lastStartSurrogate:r,firstEndSurrogate:n,lastEndSurrogate:s,increment:i,canBacktrack:o,shift:l,charIndexInit:u})=>{let d=u,c=d,p=0;for(;p<t;d+=i){c=d;let t=e.charCodeAt(d);if(Number.isNaN(t))break;if(t<=127){p+=1;continue}if(t<=2047){p+=2;continue}if(p+=3,t<a||t>r)continue;let o=e.charCodeAt(d+i);Number.isNaN(o)||o<n||o>s||(p+=1,d+=i)}return(o&&p>t?c:d)+l},eI=(e,t,a)=>t<0||Object.is(t,-0)?e$(e,t,a):eZ(e,t,a),eZ=(e,t,a)=>eT({input:e,targetByteCount:t,firstStartSurrogate:55296,lastStartSurrogate:56319,firstEndSurrogate:56320,lastEndSurrogate:57343,increment:1,canBacktrack:a,shift:0,charIndexInit:0}),e$=(e,t,a)=>eT({input:e,targetByteCount:-t,firstStartSurrogate:56320,lastStartSurrogate:57343,firstEndSurrogate:55296,lastEndSurrogate:56319,increment:-1,canBacktrack:!a,shift:1,charIndexInit:e.length-1}),eP=(e,t,a)=>{let r=eI(e,t,!1),n=eO(e,a);return eE(0===r&&void 0===n?e:e.slice(r,n))},eO=(e,t)=>{if(void 0===t)return t;let a=eI(e,t,!0);return a===e.length?void 0:a},eL=(e,t,a)=>{let{textEncoder:r,textDecoder:n}=ej(),s=eN(e),{written:i}=r.encodeInto(e,s),o=ec(s,i,t),l=em(s,i,a),u=void 0===l?i:Math.min(l,i),d=s.subarray(o,u);return n.decode(d)},ej=()=>(void 0===r&&(r=new globalThis.TextEncoder,n=new globalThis.TextDecoder("utf8",{fatal:!1})),{textEncoder:r,textDecoder:n}),eN=e=>{let t=3*e.length;return t>eM?new Uint8Array(t):((void 0===s||s.length<t)&&(s=new Uint8Array(t)),s)},eM=1e5,eF=(e,t)=>{if(void 0===t)return t;let a=eU(e,t);return a>=e.length*eD?void 0:a},eU=(e,t)=>t<=-(e.length*eD)?0:t,eD=4,eW=(e,t,a)=>{if("string"!=typeof e)throw TypeError(`First argument must be a string: ${e}`);ez(t),eX(a)},ez=e=>{if(void 0===e)throw TypeError("Second argument is required.");eB("Second",e)},eX=e=>{void 0!==e&&eB("Third",e)},eB=(e,t)=>{if(!Number.isInteger(t))throw TypeError(`${e} argument must be an integer: ${t}`)},eV=e=>{let t=!0,a=0;for(let r=0;r<eq;r+=1){let n=eK(e,r);!(n<=127)&&(t&&(t=!1),n>2047&&(a+=1))}return{asciiOnly:t,longCharsPercentage:a/eq}},eK=(e,t)=>{let a=eq-1,r=Math.round((1-(a-t)/a)*(e.length-1));return e.charCodeAt(r)},eq=50,eQ=(e,t,a)=>{if(eW(e,t,a),""===e)return e;let r=eU(e,t),n=eF(e,a);return void 0===n&&Object.is(r,0)?eE(e):eH(e,r,n)},eH=(e,t,a)=>{if(e.length<=eJ)return eP(e,t,a);let{asciiOnly:r,longCharsPercentage:n}=eV(e);return r?eY(e,t,a):n>=eG?eP(e,t,a):e0(e,t,a)},eJ=200,eG=.4,eY=(e,t,a)=>"Buffer"in globalThis&&"from"in globalThis.Buffer?eS(e,t,a):e0(e,t,a),e0=(e,t,a)=>"TextEncoder"in globalThis?eL(e,t,a):eP(e,t,a),e1=(e,t)=>{let a=e3(eQ(e6(JSON.stringify(e)),0,t-e7.length-2*e4.length));return e2(`${a}${e7}`)},e3=e=>e.replace(e5,""),e5=/(\\|\\u[0-9a-fA-F]{0,3})$/u,e6=e=>e.slice(e4.length,-e4.length),e2=e=>`${e4}${e}${e4}`,e4='"',e7="...",e9=e=>{let t=e.length,a=t;for(let r=0;r<t;r+=1){let t=e.charCodeAt(r);if(t<=e8)continue;if(t<=te){a+=1;continue}if(a+=2,t<tt||t>ta)continue;let n=e.charCodeAt(r+1);n<tr||n>tn||(r+=1)}return a},e8=127,te=2047,tt=55296,ta=56319,tr=56320,tn=57343,ts=e=>{let t=3*e.length;return t>ti?new Uint8Array(t):((void 0===i||i.length<t)&&(i=new Uint8Array(t)),i)},ti=1e5,to="Buffer"in globalThis&&"byteLength"in globalThis.Buffer?e=>globalThis.Buffer.byteLength(e):"TextEncoder"in globalThis?((e,t)=>t.length<100?e9(t):e(t)).bind(void 0,((e,t)=>{let a=ts(t);return e.encodeInto(t,a).written}).bind(void 0,new TextEncoder)):e9,tl=e=>{if(null===e)return tu;if(!0===e)return td;if(!1===e)return tc;let t=typeof e;return"object"===t?tp:"number"===t?JSON.stringify(e).length:tm(e)},tu=4,td=4,tc=5,tp=2,tm=e=>to(JSON.stringify(e)),th=({size:e,increment:t,maxSize:a,truncatedProps:r,path:n,value:s})=>{let i=e+t,o=i>a;return o?{size:e,stop:o,truncatedProps:[...r,{path:n,value:s}]}:{size:i,stop:o,truncatedProps:r}},tf=e=>tl(e),tv=(e,t,a)=>t_({empty:e,indent:t,depth:a,keySpaceSize:0})+tk(e),tg=({key:e,empty:t,indent:a,depth:r})=>t_({empty:t,indent:a,depth:r,keySpaceSize:1})+tm(e)+ty+tk(t),ty=1,t_=({empty:e,indent:t,depth:a,keySpaceSize:r})=>void 0===t?0:r+(tb+t*(a+1))+(e?tb+t*a:0),tb=1,tk=e=>e?0:tx,tx=1,tw=({parent:e,truncatedProps:t,path:a,increment:r,maxSize:n,key:s,empty:i,size:o,truncateValue:l,indent:u,depth:d})=>{let c=e[s],p=[...a,s],{size:m,stop:h,truncatedProps:f}=th({size:o,increment:r,maxSize:n,truncatedProps:t,path:p,value:c});return h?{empty:i,size:m,truncatedProps:f}:tC({value:c,truncatedProps:t,path:p,maxSize:n,empty:i,size:o,newSize:m,truncateValue:l,indent:u,depth:d})},tC=({value:e,truncatedProps:t,path:a,maxSize:r,empty:n,size:s,newSize:i,truncateValue:o,indent:l,depth:u})=>{let{value:d,size:c,truncatedProps:p}=o({value:e,truncatedProps:t,path:a,size:i,maxSize:r,indent:l,depth:u+1});return void 0===d?{empty:n,size:s,truncatedProps:p}:{empty:!1,size:c,value:d,truncatedProps:p}},tS=({array:e,truncatedProps:t,path:a,size:r,maxSize:n,truncateValue:s,indent:i,depth:o})=>{let l=[],u={empty:!0,size:r,truncatedProps:t};for(let t=0;t<e.length;t+=1){let r=tv(u.empty,i,o);void 0!==(u=tw({parent:e,truncatedProps:u.truncatedProps,path:a,increment:r,maxSize:n,key:t,empty:u.empty,size:u.size,truncateValue:s,indent:i,depth:o})).value&&l.push(u.value)}return{value:l,size:u.size,truncatedProps:u.truncatedProps}},tA=({object:e,truncatedProps:t,path:a,size:r,maxSize:n,truncateValue:s,indent:i,depth:o})=>{let l={},u={empty:!0,size:r,truncatedProps:t};for(let t in e){let r=tg({key:t,empty:u.empty,indent:i,depth:o});void 0!==(u=tw({parent:e,truncatedProps:u.truncatedProps,path:a,increment:r,maxSize:n,key:t,empty:u.empty,size:u.size,truncateValue:s,indent:i,depth:o})).value&&(l[t]=u.value)}return{value:l,size:u.size,truncatedProps:u.truncatedProps}},tE=({value:e,truncatedProps:t,path:a,size:r,maxSize:n,indent:s,depth:i})=>{let{size:o,stop:l,truncatedProps:u}=th({size:r,increment:tf(e),maxSize:n,truncatedProps:t,path:a,value:e});return l?{value:void 0,size:o,truncatedProps:u}:tR({value:e,truncatedProps:u,path:a,size:o,maxSize:n,indent:s,depth:i})},tR=({value:e,truncatedProps:t,path:a,size:r,maxSize:n,indent:s,depth:i})=>"object"!=typeof e||null===e?{value:e,size:r,truncatedProps:t}:Array.isArray(e)?tS({array:e,truncatedProps:t,path:a,size:r,maxSize:n,truncateValue:tE,indent:s,depth:i}):tA({object:e,truncatedProps:t,path:a,size:r,maxSize:n,truncateValue:tE,indent:s,depth:i}),tT=(e,t)=>{eo(e,t);let a=tI(e),r=tZ(e),{value:n,truncatedProps:s}=tE({value:r,truncatedProps:[],path:[],size:0,maxSize:t,indent:a,depth:0});return{jsonString:t$({newValue:n,value:r,maxSize:t,indent:a}),truncatedProps:s}},tI=e=>{let t=J(e);return"string"==typeof t?t.length:t},tZ=e=>{try{return JSON.parse(e)}catch(t){throw TypeError(`Invalid JSON string: "${e}"
${t.message}`)}},t$=({newValue:e,value:t,maxSize:a,indent:r})=>void 0!==e?JSON.stringify(e,void 0,r):"number"==typeof t?er(t,a):e1(t,a);function tP(e,t){return`${e}/${t}`}var tO=a(534);let tL="execute-request";tO.object({method:tO.string(),path:tO.string(),headers:tO.record(tO.string(),tO.string()).optional(),body:tO.string().optional(),documentIdentifier:tO.string()});let tj=P.safeFn(async e=>"application/json"===e.headers.get("content-type")?{success:!0,data:await e.json()}:{success:!0,data:await e.text()},e=>L("FAILED_TO_PARSE_RESPONSE_BODY",{originalError:e})),tN=e=>JSON.parse(tT(JSON.stringify(e),5e4).jsonString),tM=P.safeFn(async(e,t)=>{let a=await fetch(e,t),r=await tj(a);return a.ok?r.success?{success:!0,data:{status:a.status,responseBody:tN(r.data),headers:Object.fromEntries(a.headers.entries())}}:r:{success:!1,error:L("REQUEST_NOT_OK",{status:a.status,url:a.url,responseBody:tN(r.success?r.data:void 0),headers:Object.fromEntries(a.headers.entries())})}},e=>L("FAILED_TO_FETCH",{originalError:e})),tF=P.safeFn(async({documentSettings:e,toolCallId:t,chat:a,input:{method:r,path:n,body:s,headers:i,documentIdentifier:o}})=>{let[l,u]=o.split("---");if(!l||!u)return{success:!1,error:L("FAILED_TO_DETERMINE_DOCUMENT",{namespace:l,slug:u,documentIdentifier:o})};let d=tP(l,u),c=e[d];if(!c)return{success:!1,error:L("DOCUMENT_SETTINGS_COULD_NOT_BE_DETERMINED",{documentName:d,namespace:l,slug:u})};let p=(0,Q.Ag)(c.securitySchemes),m={method:r,body:s,...p,headers:{...i,...p.headers}},h=function({path:e,activeServer:t}){let a=(0,Q._2)({path:e,server:t,pathVariables:{},environment:{color:"",variables:[]}});return(0,H.m)("https://proxy.scalar.com",a)}({path:n,activeServer:c.activeServer}),f=await tM(h,m);return a.addToolOutput({tool:tL,toolCallId:t,output:f,state:"output-available"}),f},e=>L("FAILED_TO_EXECUTE_REQUEST",e)),tU="scalar/agent-terms-accepted";var tD=a(7458);let tW=({debounceDelay:e=500,maxWait:t=1e4,persistAuth:a=!1})=>{let{execute:r}=(0,tD.s)({delay:e,maxWait:t}),n=B(),s=()=>"function"==typeof a?a():a;return{hooks:{onWorkspaceStateChanges(e){s()&&"auth"===e.type&&r("auth",()=>n.setAuth(e.documentName,e.value))}}}};var tz=a(75100),tX=a(23108);let tB=P.safeFn(async({namespace:e,slug:t,workspaceStore:a,registryDocuments:r,registryUrl:n,config:s,api:i,removable:o})=>{let l=await i.getDocument({namespace:e,slug:t});if(!l.success)return l;r.value.push({...l.data,removable:o});let u=new URL(`/@${e}/apis/${t}/latest`,n),d=await (0,tz.l)(u.toString(),{plugins:[(0,tX.Z6)()],treeShake:!1}),c=tP(e,t);return await a.addDocument({name:c,document:d},s),a.update("x-scalar-active-document",c),V({documentName:c,workspaceStore:a}),{success:!0,data:l.data}},e=>L("UNABLE_TO_LOAD_DOCUMENT",e)),tV=Symbol("STATE_SYMBOL"),{toast:tK}=(0,d.Yf)();function tq(){let e=(0,o.WQ)(tV);if(!e)throw Error("No state provided.");return e}var tQ=a(1534),tH=a(11959);let tJ=tQ.$constructor("ZodMiniType",(e,t)=>{if(!e._zod)throw Error("Uninitialized schema in ZodMiniType.");tQ.$ZodType.init(e,t),e.def=t,e.type=t.type,e.parse=(t,a)=>tQ.parse(e,t,a,{callee:e.parse}),e.safeParse=(t,a)=>tQ.safeParse(e,t,a),e.parseAsync=async(t,a)=>tQ.parseAsync(e,t,a,{callee:e.parseAsync}),e.safeParseAsync=async(t,a)=>tQ.safeParseAsync(e,t,a),e.check=(...a)=>e.clone({...t,checks:[...t.checks??[],...a.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]},{parent:!0}),e.with=e.check,e.clone=(t,a)=>tQ.clone(e,t,a),e.brand=()=>e,e.register=(t,a)=>(t.add(e,a),e),e.apply=t=>t(e)}),tG=tQ.$constructor("ZodMiniString",(e,t)=>{tQ.$ZodString.init(e,t),tJ.init(e,t)});function tY(e){return tQ._string(tG,e)}let t0=tQ.$constructor("ZodMiniStringFormat",(e,t)=>{tQ.$ZodStringFormat.init(e,t),tG.init(e,t)}),t1=((e,t)=>{tQ.$ZodEmail.init(e,t),t0.init(e,t)},tQ.$constructor("ZodMiniNumber",(e,t)=>{tQ.$ZodNumber.init(e,t),tJ.init(e,t)})),t3=tQ.$constructor("ZodMiniBigInt",(e,t)=>{tQ.$ZodBigInt.init(e,t),tJ.init(e,t)});(e,t)=>{tQ.$ZodBigIntFormat.init(e,t),t3.init(e,t)},(e,t)=>{tQ.$ZodUnknown.init(e,t),tJ.init(e,t)};(e,t)=>{tQ.$ZodArray.init(e,t),tJ.init(e,t)};let t5=tQ.$constructor("ZodMiniObject",(e,t)=>{tQ.$ZodObject.init(e,t),tJ.init(e,t),tH.defineLazy(e,"shape",()=>t.shape)});function t6(e,t){return new t5({type:"object",shape:e??{},...tH.normalizeParams(t)})}let t2=tQ.$constructor("ZodMiniUnion",(e,t)=>{tQ.$ZodUnion.init(e,t),tJ.init(e,t)}),t4=((e,t)=>{t2.init(e,t),tQ.$ZodXor.init(e,t)},tQ.$constructor("ZodMiniOptional",(e,t)=>{tQ.$ZodOptional.init(e,t),tJ.init(e,t)})),t7=tQ.$constructor("ZodMiniPipe",(e,t)=>{tQ.$ZodPipe.init(e,t),tJ.init(e,t)});tQ.describe,tQ.meta,a(491),a(60933),(e,t)=>{tQ.$ZodISODuration.init(e,t),t0.init(e,t)};let t9="scalar-tmp-doc";var t8=a(15475);let ae="ask-for-authentication";tO.object({uniqueIdentifier:tO.string()}),tO.object({question:tO.string()});var at=a(44833);let aa=(e,t)=>{let a=e.__vccOpts||e;for(let[e,r]of t)a[e]=r;return a},ar={class:"authenticationProvided"},an=aa({},[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("div",ar,[...t[0]||(t[0]=[(0,o.Fv)('<svg fill="none" height="16" viewBox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg" data-v-e3416cd5><rect height="14.25" rx="7.125" width="14.25" x="0.875" y="0.875" data-v-e3416cd5></rect><rect height="14.25" rx="7.125" stroke="currentColor" stroke-width="1.75" width="14.25" x="0.875" y="0.875" data-v-e3416cd5></rect><g clip-path="url(#clip0_74_840)" data-v-e3416cd5><path d="M11.6037 6.841L7.59117 10.8535C7.49742 10.9472 7.37029 10.9998 7.23774 10.9998C7.10519 10.9998 6.97806 10.9472 6.8843 10.8535L4.64617 8.6035C4.55257 8.50975 4.5 8.38269 4.5 8.25022C4.5 8.11774 4.55257 7.99068 4.64617 7.89694L5.27117 7.27194C5.36488 7.17862 5.49174 7.12623 5.62399 7.12623C5.75623 7.12623 5.88309 7.17862 5.9768 7.27194L7.25024 8.50694L10.274 5.52037C10.3677 5.42696 10.4946 5.37451 10.627 5.37451C10.7593 5.37451 10.8862 5.42696 10.9799 5.52037L11.6034 6.131C11.6502 6.17746 11.6875 6.23274 11.7129 6.29366C11.7383 6.35458 11.7514 6.41993 11.7514 6.48593C11.7514 6.55194 11.7384 6.6173 11.713 6.67824C11.6877 6.73918 11.6505 6.7945 11.6037 6.841Z" fill="currentColor" data-v-e3416cd5></path></g><defs data-v-e3416cd5><clipPath id="clip0_74_840" data-v-e3416cd5><rect height="8" rx="4" width="8" x="4" y="4" data-v-e3416cd5></rect></clipPath></defs></svg> Authorized ',2)])])}],["__scopeId","data-v-e3416cd5"]]),as={class:"authenticationRequired"},ai=aa({},[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("div",as,[...t[0]||(t[0]=[(0,o.Fv)('<svg fill="none" height="16" viewBox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg" data-v-d15ef40b><rect height="14.25" rx="7.125" width="14.25" x="0.875" y="0.875" data-v-d15ef40b></rect><rect height="14.25" rx="7.125" stroke="currentColor" stroke-width="1.5" width="14.25" x="0.875" y="0.875" data-v-d15ef40b></rect><g clip-path="url(#clip0_74_585)" data-v-d15ef40b><path d="M10.75 5.5V10.5C10.75 10.6326 10.6973 10.7598 10.6036 10.8536C10.5098 10.9473 10.3826 11 10.25 11H9C8.86739 11 8.74021 10.9473 8.64645 10.8536C8.55268 10.7598 8.5 10.6326 8.5 10.5V5.5C8.5 5.36739 8.55268 5.24021 8.64645 5.14645C8.74021 5.05268 8.86739 5 9 5H10.25C10.3826 5 10.5098 5.05268 10.6036 5.14645C10.6973 5.24021 10.75 5.36739 10.75 5.5ZM7 5H5.75C5.61739 5 5.49021 5.05268 5.39645 5.14645C5.30268 5.24021 5.25 5.36739 5.25 5.5V10.5C5.25 10.6326 5.30268 10.7598 5.39645 10.8536C5.49021 10.9473 5.61739 11 5.75 11H7C7.13261 11 7.25979 10.9473 7.35355 10.8536C7.44732 10.7598 7.5 10.6326 7.5 10.5V5.5C7.5 5.36739 7.44732 5.24021 7.35355 5.14645C7.25979 5.05268 7.13261 5 7 5Z" fill="currentColor" data-v-d15ef40b></path></g><defs data-v-d15ef40b><clipPath id="clip0_74_585" data-v-d15ef40b><rect height="8" rx="4" width="8" x="4" y="4" data-v-d15ef40b></rect></clipPath></defs></svg> Authentication required ',2)])])}],["__scopeId","data-v-d15ef40b"]]);var ao=a(50913);let al=(0,o.pM)({__name:"Auth",props:{options:{},name:{},authStore:{},document:{},eventBus:{},selectedServer:{},environment:{}},setup(e){let{workspaceStore:t}=tq(),a=(0,o.EW)(()=>(0,M.Pb)(e.document?.security)),r=(0,o.EW)(()=>(0,M.Yr)(e.authStore.getAuthSelectedSchemas({type:"document",documentName:e.name}),void 0,a.value)),n=(0,l.IJ)(),{focused:s}=(0,ao.RbW)(n),i=(0,o.EW)(()=>(0,N.p2)(e.document?.components?.securitySchemes??{},e.options.authentication?.securitySchemes,e.authStore,e.name));return(0,o.wB)(s,a=>{a&&t.update("x-scalar-active-document",e.name)}),(t,s)=>((0,o.uX)(),(0,o.CE)("div",{ref_key:"focusRef",ref:n,tabindex:"0"},[Object.keys(i.value).length?((0,o.uX)(),(0,o.Wv)((0,l.R1)(N.at),{key:0,authStore:e.authStore,documentSlug:e.name,environment:e.environment,eventBus:e.eventBus,isReadOnly:"",isStatic:"",layout:"reference",meta:{type:"document"},persistAuth:e.options.persistAuth,proxyUrl:e.options.proxyUrl??"",securityRequirements:a.value,securitySchemes:i.value,selectedSecurity:r.value,server:e.selectedServer,title:"Authentication"},null,8,["authStore","documentSlug","environment","eventBus","persistAuth","proxyUrl","securityRequirements","securitySchemes","selectedSecurity","server"])):(0,o.Q3)("",!0)],512))}}),au={class:"toggleButton"},ad={class:"authContent"},ac={class:"authContentInner"},ap=aa((0,o.pM)({__name:"AskForAuthentication",props:{messagePart:{}},setup(e){let{workspaceStore:t,eventBus:a,config:r,chat:n}=tq(),s=(0,o.EW)(()=>{if(!e.messagePart.value.input?.uniqueIdentifier||"input-available"!==e.messagePart.value.state)return;let[t,a]=e.messagePart.value.input.uniqueIdentifier.split("---");if(!(!t||!a))return tP(t,a)}),i=(0,o.EW)(()=>{if(s.value)return t.workspace.documents[s.value]}),u=(0,o.EW)(()=>{if(i.value)return(0,F.O)(t,i.value)}),d=(0,o.EW)(()=>{if(!i.value)return;let e=(0,F.V)(i.value.servers,{documentUrl:i.value["x-scalar-original-source-url"]});return(0,M.rd)(i.value,e)}),c=(0,o.EW)(()=>s.value&&u.value&&d.value);async function p(){await n.addToolOutput({toolCallId:e.messagePart.value.toolCallId,output:"Authentication provided.",tool:ae,state:"output-available"})}return(n,m)=>((0,o.uX)(),(0,o.CE)("div",{class:(0,t8.C4)(["askForAuthentication",{open:c.value}])},[(0,o.Lk)("div",au,["output-available"===e.messagePart.value.state?((0,o.uX)(),(0,o.Wv)(an,{key:0})):(0,o.Q3)("",!0),"input-available"===e.messagePart.value.state?((0,o.uX)(),(0,o.Wv)(ai,{key:1})):(0,o.Q3)("",!0),"input-available"===e.messagePart.value.state?((0,o.uX)(),(0,o.Wv)((0,l.R1)(T.RO),{key:2,class:"authorizeButton",size:"xs",onClick:p},{default:(0,o.k6)(()=>[m[0]||(m[0]=(0,o.eW)(" Authorize ",-1)),(0,o.bF)((0,l.R1)(at.tSc),{weight:"bold"})]),_:1})):(0,o.Q3)("",!0)]),(0,o.Lk)("div",ad,[(0,o.Lk)("div",ac,[s.value&&i.value&&u.value&&d.value?((0,o.uX)(),(0,o.Wv)(al,{key:0,authStore:(0,l.R1)(t).auth,document:i.value,environment:u.value,eventBus:(0,l.R1)(a),name:s.value,options:(0,l.R1)(r),selectedServer:d.value},null,8,["authStore","document","environment","eventBus","name","options","selectedServer"])):(0,o.Q3)("",!0)])])],2))}}),[["__scopeId","data-v-169d0bc0"]]),am={class:"autosendPaused"},ah=aa({},[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("div",am,[...t[0]||(t[0]=[(0,o.Fv)('<svg fill="none" height="16" viewBox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg" data-v-d08225db><rect height="14.25" rx="7.125" width="14.25" x="0.875" y="0.875" data-v-d08225db></rect><rect height="14.25" rx="7.125" stroke="currentColor" stroke-width="1.5" width="14.25" x="0.875" y="0.875" data-v-d08225db></rect><g clip-path="url(#clip0_74_585)" data-v-d08225db><path d="M10.75 5.5V10.5C10.75 10.6326 10.6973 10.7598 10.6036 10.8536C10.5098 10.9473 10.3826 11 10.25 11H9C8.86739 11 8.74021 10.9473 8.64645 10.8536C8.55268 10.7598 8.5 10.6326 8.5 10.5V5.5C8.5 5.36739 8.55268 5.24021 8.64645 5.14645C8.74021 5.05268 8.86739 5 9 5H10.25C10.3826 5 10.5098 5.05268 10.6036 5.14645C10.6973 5.24021 10.75 5.36739 10.75 5.5ZM7 5H5.75C5.61739 5 5.49021 5.05268 5.39645 5.14645C5.30268 5.24021 5.25 5.36739 5.25 5.5V10.5C5.25 10.6326 5.30268 10.7598 5.39645 10.8536C5.49021 10.9473 5.61739 11 5.75 11H7C7.13261 11 7.25979 10.9473 7.35355 10.8536C7.44732 10.7598 7.5 10.6326 7.5 10.5V5.5C7.5 5.36739 7.44732 5.24021 7.35355 5.14645C7.25979 5.05268 7.13261 5 7 5Z" fill="currentColor" data-v-d08225db></path></g><defs data-v-d08225db><clipPath id="clip0_74_585" data-v-d08225db><rect height="8" rx="4" width="8" x="4" y="4" data-v-d08225db></rect></clipPath></defs></svg> Accept Request to Continue ',2)])])}],["__scopeId","data-v-d08225db"]]),af={class:"requestApproved"},av=aa({},[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("div",af,[...t[0]||(t[0]=[(0,o.Fv)('<svg fill="none" height="16" viewBox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg" data-v-bb311586><rect height="14.25" rx="7.125" width="14.25" x="0.875" y="0.875" data-v-bb311586></rect><rect height="14.25" rx="7.125" stroke="var(--scalar-color-green)" stroke-width="1.75" width="14.25" x="0.875" y="0.875" data-v-bb311586></rect><g clip-path="url(#clip0_74_840)" data-v-bb311586><path d="M11.6037 6.841L7.59117 10.8535C7.49742 10.9472 7.37029 10.9998 7.23774 10.9998C7.10519 10.9998 6.97806 10.9472 6.8843 10.8535L4.64617 8.6035C4.55257 8.50975 4.5 8.38269 4.5 8.25022C4.5 8.11774 4.55257 7.99068 4.64617 7.89694L5.27117 7.27194C5.36488 7.17862 5.49174 7.12623 5.62399 7.12623C5.75623 7.12623 5.88309 7.17862 5.9768 7.27194L7.25024 8.50694L10.274 5.52037C10.3677 5.42696 10.4946 5.37451 10.627 5.37451C10.7593 5.37451 10.8862 5.42696 10.9799 5.52037L11.6034 6.131C11.6502 6.17746 11.6875 6.23274 11.7129 6.29366C11.7383 6.35458 11.7514 6.41993 11.7514 6.48593C11.7514 6.55194 11.7384 6.6173 11.713 6.67824C11.6877 6.73918 11.6505 6.7945 11.6037 6.841Z" fill="var(--scalar-color-green)" data-v-bb311586></path></g><defs data-v-bb311586><clipPath id="clip0_74_840" data-v-bb311586><rect height="8" rx="4" width="8" x="4" y="4" data-v-bb311586></rect></clipPath></defs></svg> Request Approved ',2)])])}],["__scopeId","data-v-bb311586"]]),ag={class:"requestFailed"},ay=aa({},[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("div",ag,[...t[0]||(t[0]=[(0,o.Lk)("i",{class:"requestFailedIcon"},[(0,o.Lk)("svg",{fill:"currentColor",height:"100%",viewBox:"0 0 256 256",width:"100%",xmlns:"http://www.w3.org/2000/svg"},[(0,o.Lk)("path",{d:"M216,48V208a16,16,0,0,1-16,16H160a16,16,0,0,1-16-16V48a16,16,0,0,1,16-16h40A16,16,0,0,1,216,48ZM96,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H96a16,16,0,0,0,16-16V48A16,16,0,0,0,96,32Z"})])],-1),(0,o.eW)(" Request Failed ",-1)])])}],["__scopeId","data-v-bc27e533"]]),a_={class:"requestRejected"},ab=aa({},[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("div",a_,[...t[0]||(t[0]=[(0,o.Lk)("svg",{fill:"currentColor",height:"16",viewBox:"0 0 256 256",width:"16",xmlns:"http://www.w3.org/2000/svg"},[(0,o.Lk)("path",{d:"M56.88,31.93A12,12,0,1,0,39.12,48.07l7.81,8.59A108,108,0,0,0,31.85,177.23L21,209.66A20,20,0,0,0,46.34,235l32.43-10.81a108.08,108.08,0,0,0,112.55-8.66l7.8,8.58a12,12,0,0,0,17.76-16.14ZM128,212a83.91,83.91,0,0,1-42-11.27,12,12,0,0,0-9.82-1l-29.79,9.93,9.93-29.79a12,12,0,0,0-1-9.82,84,84,0,0,1,7.94-95.49l111.84,123A83.83,83.83,0,0,1,128,212Zm108-84a107.22,107.22,0,0,1-8.65,42.4A12,12,0,0,1,205.28,161a84.07,84.07,0,0,0-102.77-113,12,12,0,0,1-7.27-22.87A108.08,108.08,0,0,1,236,128Z"})],-1),(0,o.eW)(" Request Rejected ",-1)])])}],["__scopeId","data-v-9803a54c"]]),ak={class:"requestSuccess"},ax=aa({},[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("div",ak,[...t[0]||(t[0]=[(0,o.Fv)('<svg fill="none" height="16" viewBox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg" data-v-acc2c0d8><rect height="14.25" rx="7.125" width="14.25" x="0.875" y="0.875" data-v-acc2c0d8></rect><rect height="14.25" rx="7.125" stroke="currentColor" stroke-width="1.75" width="14.25" x="0.875" y="0.875" data-v-acc2c0d8></rect><g clip-path="url(#clip0_74_840)" data-v-acc2c0d8><path d="M11.6037 6.841L7.59117 10.8535C7.49742 10.9472 7.37029 10.9998 7.23774 10.9998C7.10519 10.9998 6.97806 10.9472 6.8843 10.8535L4.64617 8.6035C4.55257 8.50975 4.5 8.38269 4.5 8.25022C4.5 8.11774 4.55257 7.99068 4.64617 7.89694L5.27117 7.27194C5.36488 7.17862 5.49174 7.12623 5.62399 7.12623C5.75623 7.12623 5.88309 7.17862 5.9768 7.27194L7.25024 8.50694L10.274 5.52037C10.3677 5.42696 10.4946 5.37451 10.627 5.37451C10.7593 5.37451 10.8862 5.42696 10.9799 5.52037L11.6034 6.131C11.6502 6.17746 11.6875 6.23274 11.7129 6.29366C11.7383 6.35458 11.7514 6.41993 11.7514 6.48593C11.7514 6.55194 11.7384 6.6173 11.713 6.67824C11.6877 6.73918 11.6505 6.7945 11.6037 6.841Z" fill="currentColor" data-v-acc2c0d8></path></g><defs data-v-acc2c0d8><clipPath id="clip0_74_840" data-v-acc2c0d8><rect height="8" rx="4" width="8" x="4" y="4" data-v-acc2c0d8></rect></clipPath></defs></svg> Request Succeeded ',2)])])}],["__scopeId","data-v-acc2c0d8"]]),aw={"application/epub+zip":{extension:".epub"},"application/gzip":{extension:".gz"},"application/java-archive":{extension:".jar"},"application/javascript":{extension:".js",raw:!0},"application/json":{extension:".json",raw:!0,language:"json"},"application/ld+json":{extension:".jsonld",raw:!0,language:"json"},"application/problem+json":{extension:".json",raw:!0,language:"json"},"application/vnd.api+json":{extension:".json",raw:!0,language:"json"},"application/dns-json":{extension:".json",raw:!0,language:"json"},"application/msword":{extension:".doc"},"application/octet-stream":{extension:".bin"},"application/ogg":{extension:".ogx"},"application/pdf":{extension:".pdf",preview:"object"},"application/rtf":{extension:".rtf",raw:!0},"application/vnd.amazon.ebook":{extension:".azw"},"application/vnd.apple.installer+xml":{extension:".mpkg",raw:!0,language:"xml"},"application/vnd.mozilla.xul+xml":{extension:".xul",raw:!0,language:"xml"},"application/vnd.ms-excel":{extension:".xls"},"application/vnd.ms-fontobject":{extension:".eot"},"application/vnd.ms-powerpoint":{extension:".ppt"},"application/vnd.oasis.opendocument.presentation":{extension:".odp"},"application/vnd.oasis.opendocument.spreadsheet":{extension:".ods"},"application/vnd.oasis.opendocument.text":{extension:".odt"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{extension:".pptx"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{extension:".xlsx"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{extension:".docx"},"application/vnd.rar":{extension:".rar"},"application/vnd.visio":{extension:".vsd"},"application/x-7z-compressed":{extension:".7z"},"application/x-abiword":{extension:".abw"},"application/x-bzip":{extension:".bz"},"application/x-bzip2":{extension:".bz2"},"application/x-cdf":{extension:".cda"},"application/x-csh":{extension:".csh"},"application/x-freearc":{extension:".arc"},"application/x-httpd-php":{extension:".php",raw:!0},"application/x-sh":{extension:".sh",raw:!0},"application/x-tar":{extension:".tar"},"application/xhtml+xml":{extension:".xhtml",raw:!0,language:"html"},"application/xml":{extension:".xml",raw:!0,language:"xml"},"application/yaml":{extension:".yaml",raw:!0,language:"yaml"},"application/zip":{extension:".zip"},"audio/aac":{extension:".aac"},"audio/midi":{extension:".midi"},"audio/mpeg":{extension:".mp3",preview:"audio"},"audio/ogg":{extension:".oga"},"audio/wav":{extension:".wav"},"audio/webm":{extension:".weba"},"font/otf":{extension:".otf"},"font/ttf":{extension:".ttf"},"font/woff":{extension:".woff"},"font/woff2":{extension:".woff2"},"image/apng":{extension:".apng",preview:"image",alpha:!0},"image/avif":{extension:".avif",preview:"image"},"image/bmp":{extension:".bmp",preview:"image"},"image/gif":{extension:".gif",preview:"image",alpha:!0},"image/jpeg":{extension:".jpg",preview:"image"},"image/png":{extension:".png",preview:"image",alpha:!0},"image/svg+xml":{extension:".svg",raw:!0,language:"xml",preview:"image",alpha:!0},"image/tiff":{extension:".tiff"},"image/vnd.microsoft.icon":{extension:".ico",preview:"image"},"image/webp":{extension:".webp",preview:"image",alpha:!0},"text/calendar":{extension:".ics",raw:!0},"text/css":{extension:".css",raw:!0,language:"css"},"text/csv":{extension:".csv",raw:!0},"text/html":{extension:".html",raw:!0,language:"html",preview:"object"},"text/javascript":{extension:".js",raw:!0},"text/plain":{extension:".txt",raw:!0},"text/xml":{extension:".xml",raw:!0,language:"xml"},"text/yaml":{extension:".yaml",raw:!0,language:"yaml"},"video/3gpp":{extension:".3gp"},"audio/3gpp":{extension:".3gp"},"video/3gpp2":{extension:".3g2"},"audio/3gpp2":{extension:".3g2"},"video/mp2t":{extension:".ts"},"video/mp4":{extension:".mp4",preview:"video"},"video/mpeg":{extension:".mpeg"},"video/ogg":{extension:".ogv"},"video/webm":{extension:".webm",preview:"video"},"video/x-msvideo":{extension:".avi"}};var aC=a(29573);let aS=e=>{try{return decodeURIComponent(e)}catch{return e}},aA=e=>e instanceof Blob,aE=e=>e?Object.keys(e).map(t=>({name:t,value:e[t]??""})):[],aR={class:"flex justify-center px-2 py-3"},aT={class:"text-c-3 p-2 text-sm"},aI=aa({},[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("div",aR,[(0,o.Lk)("div",aT,[(0,o.RG)(e.$slots,"default")])])}]]),aZ=["src"],a$=["src","type"],aP=["src","type"],aO=["data","type"],aL=aa((0,o.pM)({__name:"ResponseBodyPreview",props:{src:{},type:{},mode:{},alpha:{type:Boolean,default:!1}},setup(e){let t=(0,l.KR)(!1);return(0,o.wB)(()=>e.src,()=>{t.value=!1}),(a,r)=>!t.value&&e.src?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,t8.C4)(["flex justify-center overflow-auto rounded-b",{"bg-preview p-2":e.alpha}])},["image"===e.mode?((0,o.uX)(),(0,o.CE)("img",{key:0,class:(0,t8.C4)(["h-full max-w-full",{rounded:e.alpha}]),src:e.src,onError:r[0]||(r[0]=e=>t.value=!0)},null,42,aZ)):"video"===e.mode?((0,o.uX)(),(0,o.CE)("video",{key:1,autoplay:"",controls:"",width:"100%",onError:r[1]||(r[1]=e=>t.value=!0)},[(0,o.Lk)("source",{src:e.src,type:e.type},null,8,a$)],32)):"audio"===e.mode?((0,o.uX)(),(0,o.CE)("audio",{key:2,class:"my-12",controls:"",onError:r[2]||(r[2]=e=>t.value=!0)},[(0,o.Lk)("source",{src:e.src,type:e.type},null,8,aP)],32)):((0,o.uX)(),(0,o.CE)("object",{key:3,class:"aspect-[4/3] w-full",data:e.src,type:e.type,onError:r[3]||(r[3]=e=>t.value=!0)},null,40,aO))],2)):((0,o.uX)(),(0,o.Wv)(aI,{key:1},{default:(0,o.k6)(()=>[...r[4]||(r[4]=[(0,o.eW)("Preview unavailable",-1)])]),_:1}))}}),[["__scopeId","data-v-92f84612"]]),aj=(0,o.pM)({__name:"ResponseBodyRaw",props:{content:{},language:{}},setup:e=>(t,a)=>((0,o.uX)(),(0,o.Wv)((0,l.R1)(T.z5),{class:"codeBlock",content:e.content,lang:e.language},null,8,["content","lang"]))}),aN=(0,o.pM)({__name:"ResponseBody",props:{data:{},responseBody:{},mediaConfig:{},display:{}},setup:e=>((0,o.wB)(()=>e.display,e=>console.log(e)),(t,a)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[e.mediaConfig?.raw&&"raw"===e.display&&e.mediaConfig.language?((0,o.uX)(),(0,o.Wv)(aj,{key:e.responseBody.dataUrl,content:e.data,language:e.mediaConfig.language},null,8,["content","language"])):(0,o.Q3)("",!0),e.mediaConfig?.preview&&"preview"===e.display?((0,o.uX)(),(0,o.Wv)(aL,{key:e.responseBody.dataUrl,alpha:e.mediaConfig.alpha,mode:e.mediaConfig.preview,src:e.responseBody.dataUrl,type:e.responseBody.mimeType?.essence??""},null,8,["alpha","mode","src","type"])):(0,o.Q3)("",!0),e.mediaConfig?.raw||e.mediaConfig?.preview?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(aI,{key:2},{default:(0,o.k6)(()=>[...a[0]||(a[0]=[(0,o.eW)(" Binary file ",-1)])]),_:1}))],64)))});var aM=a(61629);let aF={class:"text-c-3 text-xxs -my-1 flex justify-center gap-0.5 rounded p-0.5"},aU=(0,o.pM)({__name:"ResponseBodyToggle",props:{modelValue:{}},emits:["toggle"],setup:(e,{emit:t})=>(a,r)=>((0,o.uX)(),(0,o.CE)("div",aF,[(0,o.Lk)("button",{class:(0,t8.C4)(["hover:bg-b-3 rounded px-1",{"bg-b-3 text-c-1 cursor-default":"preview"===e.modelValue}]),type:"button",onClick:r[0]||(r[0]=(0,aM.D$)(e=>t("toggle","preview"),["stop"]))}," Preview ",2),(0,o.Lk)("button",{class:(0,t8.C4)(["hover:bg-b-3 rounded px-1",{"bg-b-3 text-c-1 cursor-default":"raw"===e.modelValue}]),type:"button",onClick:r[1]||(r[1]=(0,aM.D$)(e=>t("toggle","raw"),["stop"]))}," Raw ",2)]))}),aD={class:"sendingRequest"},aW=aa({},[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("div",aD,[...t[0]||(t[0]=[(0,o.Lk)("div",{class:"playIcon"},[(0,o.Lk)("svg",{fill:"currentColor",height:"32",viewBox:"0 0 256 256",width:"32",xmlns:"http://www.w3.org/2000/svg"},[(0,o.Lk)("path",{d:"M240,128a15.74,15.74,0,0,1-7.6,13.51L88.32,229.65a16,16,0,0,1-16.2.3A15.86,15.86,0,0,1,64,216.13V39.87a15.86,15.86,0,0,1,8.12-13.82,16,16,0,0,1,16.2.3L232.4,114.49A15.74,15.74,0,0,1,240,128Z"})])],-1),(0,o.eW)(" Sending Request to Endpoint ",-1)])])}],["__scopeId","data-v-65dc6dfb"]]),az={key:1,class:"autosendContainer"},aX={class:"requestContent"},aB={class:"requestContentInner"},aV={key:0,class:"code"},aK={key:1,class:"code"},aq={class:"requestHeaderContainer"},aQ=aa((0,o.pM)({__name:"RequestPreview",props:{request:{},response:{},state:{}},setup(e){let t=(0,o.EW)(()=>e.response?.success?{data:e.response.data.responseBody,headers:e.response.data.headers}:e.response?.error?.code==="REQUEST_NOT_OK"?{data:e.response.error.detail.responseBody,headers:e.response.error.detail.headers}:void 0),a=(0,l.KR)(!1),r=(0,o.EW)(()=>"requestFailed"===e.state||"requiresApproval"===e.state||a.value),n=(0,o.EW)(()=>(function({data:e,headers:t}){let a=aE(t),r=a.find(e=>"content-type"===e.name.toLowerCase()),n=r?.value?new aC(r.value):void 0,s=function(e){let t="";if(e){let a=e.match(/filename\*=UTF-8''([^;]+)/)?.[1]??e.match(/filename\s*=\s*"?([^";]+)"?/)?.[1];a&&(t=aS(a.trim()))}return t}(a.find(e=>"content-disposition"===e.name.toLowerCase())?.value??""),i=aA(e)?URL.createObjectURL(e):"string"==typeof e?URL.createObjectURL(new Blob([e],{type:n?n.toString():void 0})):e instanceof Object&&Object.keys(e).length?URL.createObjectURL(new Blob([JSON.stringify(e)],{type:n?n.toString():void 0})):"";return{mimeType:n,attachmentFilename:s,dataUrl:i}})({data:t.value?.data,headers:t.value?.headers})),s=(0,o.EW)(()=>{var e;return aw[e=n.value.mimeType?.essence??""]||(e.endsWith("+json")?{extension:".json",raw:!0,language:"json"}:void 0)}),i=(0,l.KR)();function u(e){i.value=e}let d=(0,o.EW)(()=>i.value?i.value:s.value?.raw&&!s.value.preview?"raw":s.value?.preview?"preview":"raw");return(i,c)=>((0,o.uX)(),(0,o.CE)("div",{class:(0,t8.C4)(["requestPreview",{open:r.value,succeeded:"requestSucceeded"===e.state}])},["approved"===e.state?((0,o.uX)(),(0,o.Wv)(av,{key:0})):"requiresApproval"===e.state?((0,o.uX)(),(0,o.CE)("div",az,[(0,o.bF)(ah)])):"sendingRequest"===e.state?((0,o.uX)(),(0,o.CE)("button",{key:2,class:"toggleButton",type:"button",onClick:c[0]||(c[0]=e=>a.value=!a.value)},[(0,o.bF)(aW),r.value?((0,o.uX)(),(0,o.Wv)((0,l.R1)(at.zqX),{key:0})):((0,o.uX)(),(0,o.Wv)((0,l.R1)(at.TA3),{key:1}))])):"requestSucceeded"===e.state?((0,o.uX)(),(0,o.CE)("button",{key:3,class:"toggleButton",type:"button",onClick:c[1]||(c[1]=e=>a.value=!a.value)},[(0,o.bF)(ax),r.value?((0,o.uX)(),(0,o.Wv)((0,l.R1)(at.zqX),{key:0})):((0,o.uX)(),(0,o.Wv)((0,l.R1)(at.TA3),{key:1}))])):"rejected"===e.state?((0,o.uX)(),(0,o.CE)("button",{key:4,class:"toggleButton",type:"button",onClick:c[2]||(c[2]=e=>a.value=!a.value)},[(0,o.bF)(ab),r.value?((0,o.uX)(),(0,o.Wv)((0,l.R1)(at.zqX),{key:0})):((0,o.uX)(),(0,o.Wv)((0,l.R1)(at.TA3),{key:1}))])):"requestFailed"===e.state?((0,o.uX)(),(0,o.Wv)(ay,{key:5})):(0,o.Q3)("",!0),(0,o.Lk)("div",aX,[(0,o.Lk)("div",aB,[e.request?((0,o.uX)(),(0,o.CE)("div",aV,[c[4]||(c[4]=(0,o.Lk)("div",{class:"requestHeaderContainer"},[(0,o.Lk)("h1",null,"Request")],-1)),(0,o.bF)((0,l.R1)(T.z5),{class:"codeBlock",content:JSON.stringify(e.request,null,2),lang:"json"},null,8,["content"])])):(0,o.Q3)("",!0),t.value?((0,o.uX)(),(0,o.CE)("div",aK,[(0,o.Lk)("div",aq,[c[5]||(c[5]=(0,o.Lk)("h1",null,"Response",-1)),s.value?.raw&&s.value.preview?((0,o.uX)(),(0,o.Wv)(aU,{key:0,modelValue:d.value,"onUpdate:modelValue":c[3]||(c[3]=e=>d.value=e),onToggle:u},null,8,["modelValue"])):(0,o.Q3)("",!0)]),(0,o.bF)(aN,{data:t.value.data,display:d.value,mediaConfig:s.value,responseBody:n.value},null,8,["data","display","mediaConfig","responseBody"])])):(0,o.Q3)("",!0)])])],2))}}),[["__scopeId","data-v-f4245586"]]);function aH(e){return e.type===`tool-${tL}`&&"input-available"===e.state&&e.input?.method?.toLowerCase()!=="get"}let aJ={class:"executeRequestTool"},aG=aa((0,o.pM)({__name:"ExecuteRequestTool",props:{messagePart:{}},setup(e){let t=tq(),a=(0,o.EW)(()=>"input-available"===e.messagePart.value.state&&"streaming"===t.chat.status||"approval-responded"===e.messagePart.value.state&&"submitted"===t.chat.status?"sendingRequest":aH(e.messagePart.value)?"requiresApproval":"output-available"===e.messagePart.value.state?e.messagePart.value.output.success?"requestSucceeded":"requestFailed":"output-error"===e.messagePart.value.state?"rejected":null);return(t,r)=>((0,o.uX)(),(0,o.CE)("div",aJ,[a.value?((0,o.uX)(),(0,o.Wv)(aQ,{key:0,request:e.messagePart.value.input,response:e.messagePart.value.output,state:a.value},null,8,["request","response","state"])):(0,o.Q3)("",!0)]))}}),[["__scopeId","data-v-49d28052"]]),aY=aa((0,o.pM)({__name:"ContextItem",props:{loading:{type:Boolean}},setup:e=>(t,a)=>((0,o.uX)(),(0,o.CE)("div",{class:(0,t8.C4)(["contextItem",{shimmer:e.loading}])},[(0,o.RG)(t.$slots,"default",{},void 0,!0)],2))}),[["__scopeId","data-v-b6e5aa96"]]),a0={class:"sendingRequest"},a1=aa({},[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("div",a0,[...t[0]||(t[0]=[(0,o.Lk)("div",{class:"playIcon"},null,-1),(0,o.eW)(" Retrieving relevant information... ",-1)])])}],["__scopeId","data-v-653c66b3"]]),a3={key:0},a5={key:1,class:"operations"},a6=aa((0,o.pM)({__name:"GetMiniOpenAPIDocTool",props:{messagePart:{},message:{}},setup(e){let t=(0,l.KR)(!1);(0,o.wB)(()=>e.message,()=>{let a=e.message.parts,r=a.findIndex(t=>"toolCallId"in t&&t.toolCallId===e.messagePart.value.toolCallId);t.value=!!a[r+1]});let a=(0,o.EW)(()=>{if(!e.messagePart.value.output?.structuredContent)return;let t=e.messagePart.value.output?.structuredContent?.info?.title;return Object.values((e.messagePart.value.output?.structuredContent).paths??{}).flatMap(e=>Object.values(e??{})).map(e=>`${t?`${t} - `:""}${e.summary??""}`).filter(Boolean)}),r=tq();return(n,s)=>((0,o.uX)(),(0,o.CE)(o.FK,null,["input-available"===e.messagePart.value.state&&"streaming"===(0,l.R1)(r).chat.status?((0,o.uX)(),(0,o.CE)("div",a3,[(0,o.bF)(a1)])):(0,o.Q3)("",!0),a.value?((0,o.uX)(),(0,o.CE)("div",a5,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.value,e=>((0,o.uX)(),(0,o.Wv)(aY,{key:e,loading:!t.value},{default:(0,o.k6)(()=>[(0,o.eW)((0,t8.v_)(e),1)]),_:2},1032,["loading"]))),128))])):(0,o.Q3)("",!0)],64))}}),[["__scopeId","data-v-ecee6203"]]),a2={class:"loadingApiSpecs"},a4=aa({},[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("div",a2,[...t[0]||(t[0]=[(0,o.Lk)("div",{class:"playIcon"},null,-1),(0,o.eW)(" Loading APIs... ",-1)])])}],["__scopeId","data-v-9d9724d2"]]),a7={key:0},a9=(0,o.pM)({__name:"GetOpenAPISpecsSummary",props:{messagePart:{},message:{}},setup(e){let t=(0,l.KR)(!1);return(0,o.wB)(()=>e.message,()=>{let a=e.message.parts,r=a.findIndex(t=>"toolCallId"in t&&t.toolCallId===e.messagePart.value.toolCallId);t.value=!!a[r+1]}),(e,a)=>t.value?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",a7,[(0,o.bF)(a4)]))}}),a8=(0,o.pM)({__name:"Text",props:{messagePart:{}},setup:e=>(t,a)=>((0,o.uX)(),(0,o.Wv)((0,l.R1)(T.mi),{value:e.messagePart.value.text},null,8,["value"]))});var re=a(15179);function rt(){let{api:e}=tq(),t=(0,l.KR)(""),a=(0,re.Q0)(async t=>{let a=await e.search(t);a.success&&(n.value=a.data.results)},200),r=(0,o.EW)({get:()=>t.value,set:e=>{a(e),t.value=e}}),n=(0,l.KR)([]);return a(""),{query:r,results:n}}let ra={key:0,class:"catalog custom-scroll"},rr=["onClick"],rn={class:"left"},rs=["src"],ri={class:"right"},ro={class:"item-top"},rl={class:"version"},ru={class:"description"},rd=aa((0,o.pM)({__name:"Catalog",props:{modal:{}},setup(e){let t=rt(),a=tq(),r=(0,o.EW)(()=>t.results.value.filter(e=>!a.registryDocuments.value.some(t=>t.namespace===e.namespace&&t.slug===e.slug)).map(e=>({...e,label:e.title,id:e.id})));return(n,s)=>((0,o.uX)(),(0,o.Wv)((0,l.R1)(T.uT),{class:"catalogModal",state:e.modal},{default:(0,o.k6)(()=>[(0,o.bF)((0,l.R1)(T.vW),{autofocus:"",class:"searchInput",modelValue:(0,l.R1)(t).query.value,"onUpdate:modelValue":s[0]||(s[0]=e=>(0,l.R1)(t).query.value=e??"")},null,8,["modelValue"]),r.value.length?((0,o.uX)(),(0,o.CE)("div",ra,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.value,t=>((0,o.uX)(),(0,o.CE)("button",{key:t.id,class:"item",type:"button",onClick:()=>{(0,l.R1)(a).addDocument(t),e.modal.hide()}},[(0,o.Lk)("div",rn,[t.logoUrl?((0,o.uX)(),(0,o.CE)("img",{key:0,class:"logo",src:t.logoUrl},null,8,rs)):((0,o.uX)(),(0,o.Wv)((0,l.R1)(T.kv),{key:1,class:"logo",logo:"Openapi"}))]),(0,o.Lk)("div",ri,[(0,o.Lk)("div",ro,[(0,o.Lk)("span",null,(0,t8.v_)(t.title),1),(0,o.Lk)("span",rl,"v"+(0,t8.v_)(t.currentVersion),1)]),(0,o.Lk)("span",ru," @"+(0,t8.v_)(t.namespace)+"/"+(0,t8.v_)(t.slug),1)])],8,rr))),128))])):(0,o.Q3)("",!0)]),_:1},8,["state"]))}}),[["__scopeId","data-v-bc24f891"]]),rc={class:"dropdown-item"},rp={class:"dropdown-item"},rm=aa((0,o.pM)({__name:"ActionsDropdown",emits:["uploadApi"],setup(e){let t=(0,T.hS)();return(e,a)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)((0,l.R1)(T.SM),{offset:{crossAxis:-5,mainAxis:5}},{items:(0,o.k6)(()=>[(0,o.bF)((0,l.R1)(T.rA),{onClick:a[0]||(a[0]=t=>e.$emit("uploadApi"))},{default:(0,o.k6)(()=>[(0,o.Lk)("div",rc,[(0,o.bF)((0,l.R1)(at.J0d)),a[2]||(a[2]=(0,o.eW)(" Upload API ",-1))])]),_:1}),(0,o.bF)((0,l.R1)(T.rA),{onClick:a[1]||(a[1]=e=>(0,l.R1)(t).show())},{default:(0,o.k6)(()=>[(0,o.Lk)("div",rp,[(0,o.bF)((0,l.R1)(at.j4)),a[3]||(a[3]=(0,o.eW)(" Search Catalog ",-1))])]),_:1})]),default:(0,o.k6)(()=>[(0,o.RG)(e.$slots,"default",{},void 0,!0)]),_:3}),(0,l.R1)(t).open?((0,o.uX)(),(0,o.Wv)(rd,{key:0,modal:(0,l.R1)(t)},null,8,["modal"])):(0,o.Q3)("",!0)],64))}}),[["__scopeId","data-v-2d142bb5"]]),rh={class:"approvalSection"},rf={class:"approvalText flex items-center gap-1.5"},rv={class:"approveContainer"},rg=aa((0,o.pM)({__name:"ApprovalSection",emits:["approve","reject"],setup:(e,{emit:t})=>(e,a)=>((0,o.uX)(),(0,o.CE)("div",rh,[(0,o.Lk)("strong",rf,[(0,o.bF)((0,l.R1)(at._mt),{class:"text-blue size-4",weight:"bold"}),a[2]||(a[2]=(0,o.eW)(" One or more requests require approval. ",-1))]),(0,o.Lk)("div",rv,[(0,o.Lk)("button",{type:"button",class:"actionButton rejectButton",onClick:a[0]||(a[0]=e=>t("reject"))}," Reject "),(0,o.Lk)("button",{type:"button",class:"actionButton approveButton",onClick:a[1]||(a[1]=e=>t("approve"))}," Approve ")])]))}),[["__scopeId","data-v-a7e6c699"]]),ry={LIMIT_REACHED:"LIMIT_REACHED"},r_={key:0,class:"error gap-1.5"},rb=aa((0,o.pM)({__name:"ErrorMessage",props:{error:{}},setup(e){let t=[ry.LIMIT_REACHED];return(a,r)=>t.includes(e.error.code)?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",r_,[(0,o.bF)((0,l.R1)(at._mt),{class:"text-red size-4",weight:"bold"}),(0,o.eW)(" "+(0,t8.v_)(e.error.message),1)]))}}),[["__scopeId","data-v-63a481da"]]),rk={class:"freeMessagesInfoSection"},rx={class:"infoText flex items-center gap-1.5"},rw={class:"actionsContainer"},rC=aa((0,o.pM)({__name:"FreeMessagesInfoSection",setup(e){let t=(0,l.KR)(!1),{dashboardUrl:a,mode:r,uploadedTmpDocumentUrl:n}=tq();function s(){window.open("https://scalar.com/products/agent/getting-started","_blank"),"full"===r&&window.location.replace(a),"preview"===r&&window.location.replace(n.value?`${a}/register?flow=oss-agent&docUrl=${n.value}`:a)}function i(){t.value=!0}return(e,a)=>(0,o.bo)(((0,o.uX)(),(0,o.CE)("div",rk,[(0,o.Lk)("strong",rx,[(0,o.bF)((0,l.R1)(at._mt),{class:"text-blue size-4",weight:"bold"}),a[0]||(a[0]=(0,o.eW)(" Get an API Key to enable Agent Scalar for your docs. ",-1))]),(0,o.Lk)("div",rw,[(0,o.Lk)("button",{class:"actionButton upgradeButton",type:"button",onClick:s}," Learn More "),(0,o.Lk)("button",{"aria-label":"Close",class:"closeButton",type:"button",onClick:i},[(0,o.bF)((0,l.R1)(at.snQ),{class:"size-4",weight:"bold"})])])],512)),[[aM.aG,!t.value]])}}),[["__scopeId","data-v-593b8dcb"]]),rS={class:"paymentSection"},rA={class:"approvalText flex items-center gap-1.5"},rE=aa((0,o.pM)({__name:"PaymentSection",setup(e){let{dashboardUrl:t,mode:a,uploadedTmpDocumentUrl:r}=tq();function n(){"full"===a&&window.location.replace(t),"preview"===a&&window.location.replace(r.value?`${t}/register?flow=oss-agent&docUrl=${r.value}`:t)}return(e,t)=>((0,o.uX)(),(0,o.CE)("div",rS,[(0,o.Lk)("strong",rA,[(0,o.bF)((0,l.R1)(at._mt),{class:"text-blue size-4",weight:"bold"}),t[0]||(t[0]=(0,o.eW)(" You've used up all your free messages, upgrade for $24/mo. ",-1))]),(0,o.Lk)("div",{class:"paymentContainer"},[(0,o.Lk)("button",{class:"actionButton approveButton",type:"button",onClick:n}," Upgrade "),t[1]||(t[1]=(0,o.Fv)('<div class="paymentInfo" data-v-59a0be07><h3 data-v-59a0be07>$24 <span data-v-59a0be07>/ month</span></h3><div class="paymentInfoSection" data-v-59a0be07><div class="paymentInfoItem" data-v-59a0be07><span data-v-59a0be07>Members in your workspace</span><span data-v-59a0be07>1</span></div><div class="paymentInfoItem" data-v-59a0be07><span data-v-59a0be07>x $24 / month / member</span><span data-v-59a0be07>$24.00</span></div></div><div class="paymentInfoSection" data-v-59a0be07><div class="paymentInfoItem" data-v-59a0be07><span data-v-59a0be07>Messages</span><span data-v-59a0be07>1,000</span></div><div class="paymentInfoItem" data-v-59a0be07><span data-v-59a0be07>Additional Messages</span><span data-v-59a0be07>+ $0.02 Message</span></div></div></div>',1))])]))}}),[["__scopeId","data-v-59a0be07"]]),rR=["onClick"],rT=["src"],rI={key:1,class:"searchResultsEmpty"},rZ=aa((0,o.pM)({__name:"SearchPopover",setup(e){let t=tq(),a=rt(),r=(0,o.EW)(()=>a.results.value.filter(e=>!t.registryDocuments.value.some(t=>t.namespace===e.namespace&&t.slug===e.slug)).map(e=>({...e,label:e.title,id:e.id})));return(e,n)=>((0,o.uX)(),(0,o.Wv)((0,l.R1)(T.w),{offset:0,placement:"top-start",resize:"",style:{width:"220px"}},{popover:(0,o.k6)(({close:e})=>[(0,o.bF)((0,l.R1)(T.SB),{autofocus:"",class:"searchInput",modelValue:(0,l.R1)(a).query.value,placeholder:"Add an API","onUpdate:modelValue":n[0]||(n[0]=e=>(0,l.R1)(a).query.value=e??"")},{prefix:(0,o.k6)(()=>[(0,o.bF)((0,l.R1)(at.j4),{class:"searchIcon"})]),_:1},8,["modelValue"]),r.value.length?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:0},(0,o.pI)(r.value,a=>((0,o.uX)(),(0,o.CE)("button",{key:a.id,class:"searchItem",type:"button",onClick:()=>{(0,l.R1)(t).addDocument(a),e()}},[a.logoUrl?((0,o.uX)(),(0,o.CE)("img",{key:0,class:"searchItemLogo",src:a.logoUrl},null,8,rT)):(0,o.Q3)("",!0),(0,o.Lk)("span",null,(0,t8.v_)(a.title),1)],8,rR))),128)):((0,o.uX)(),(0,o.CE)("span",rI," No APIs found "))]),default:(0,o.k6)(()=>[(0,o.RG)(e.$slots,"default",{},void 0,!0)]),_:3}))}}),[["__scopeId","data-v-7945f74c"]]),r$={key:0,class:"flex items-center gap-1.5"},rP={key:0,class:"uploadText"},rO={key:1,class:"uploadText"},rL={key:2,class:"uploadText"},rj={key:1,class:"uploadText flex items-center gap-1.5"},rN={key:2,class:"uploadText flex items-center gap-1.5"},rM=aa((0,o.pM)({__name:"UploadSection",props:{uploadState:{}},setup(e){let t=(0,T.R2)(),a=(0,o.EW)(()=>["uploading","processing","loading"].includes(e.uploadState.type));return(r,n)=>((0,o.uX)(),(0,o.CE)("div",{class:(0,t8.C4)(["uploadSection",{error:"error"===e.uploadState.type,done:"done"===e.uploadState.type}])},[a.value?((0,o.uX)(),(0,o.CE)("div",r$,[(0,o.bF)((0,l.R1)(T.XI),{class:"text-blue",loader:{...(0,l.R1)(t),isLoading:!0},size:"lg"},null,8,["loader"]),"loading"===e.uploadState.type?((0,o.uX)(),(0,o.CE)("strong",rP," Loading document... ")):"processing"===e.uploadState.type?((0,o.uX)(),(0,o.CE)("strong",rO," Processing document... ")):((0,o.uX)(),(0,o.CE)("strong",rL," Uploading document... "))])):(0,o.Q3)("",!0),"done"===e.uploadState.type?((0,o.uX)(),(0,o.CE)("strong",rj,[(0,o.bF)((0,l.R1)(at.eYG),{class:"icon text-green"}),n[0]||(n[0]=(0,o.eW)(" Document processed ",-1))])):(0,o.Q3)("",!0),"error"===e.uploadState.type?((0,o.uX)(),(0,o.CE)("strong",rN,[(0,o.bF)((0,l.R1)(at.Yp7),{class:"icon text-red"}),(0,o.eW)(" "+(0,t8.v_)(e.uploadState.error),1)])):(0,o.Q3)("",!0)],2))}}),[["__scopeId","data-v-f9d3a579"]]),rF=t6({message:tY(),code:tY(),status:new t4({type:"optional",innerType:tQ._number(t1,void 0)})});function rU(e){return e.type.startsWith("tool")&&"input-available"===e.state}let rD={class:"actionContainer"},rW=["disabled"],rz={class:"inputActionsContainer"},rX={class:"inputActionsLeft"},rB={class:"addAPIButton",type:"button"},rV={class:"addAPIButton",type:"button"},rK=["src"],rq=["onClick"],rQ={class:"inputActionsRight"},rH={class:"sendCheckboxContinue"},rJ={key:0,class:"relative flex items-center gap-1.5"},rG={class:"termsAgree",for:"agentTermsAgree"},rY={class:"addMoreContext"},r0={class:"ml-auto flex items-center gap-1"},r1=["onClick"],r3=["alt","src"],r5=aa((0,o.pM)({__name:"PromptForm",emits:["submit","uploadApi"],setup(e,{expose:t,emit:a}){t({focusPrompt:function(){r.value?.focus()}});let r=(0,o.rk)("agentPrompt"),n=tq(),s=(0,o.EW)(()=>n.prompt.value.trim().length>0),i=(0,o.EW)(()=>n.prompt.value.trim().length>1e4),u=(0,o.EW)(()=>n.chat.messages.length>1&&!n.getAgentKey?.()&&_?.value?.code!==ry.LIMIT_REACHED);function d(e){n.loading.value||"Enter"!==e.key||e.shiftKey||(e.preventDefault(),y(),window.scrollTo(0,document.body.scrollHeight))}(0,o.wB)(n.prompt,()=>{if(r?.value){if(!n.prompt.value.length){r.value.style.height="0px";return}r.value.style.height="auto",r.value.style.height=r.value.scrollHeight+"px"}}),(0,o.wB)(()=>n.chat.status,e=>{("ready"===e||"error"===e)&&r.value?.focus()});let{approvalRequiredParts:c,respondToRequestApprovals:p}=function(){let e=tq(),t=(0,o.EW)(()=>e.chat.messages.filter(e=>e.parts.some(aH)).flatMap(e=>e.parts).filter(aH));async function a(a){let r=t.value.map(async t=>{if(!a)return await e.chat.addToolOutput({tool:tL,toolCallId:t.toolCallId,state:"output-error",errorText:"The user denied the request."});await tF({documentSettings:z(e.workspaceStore),input:t.input,toolCallId:t.toolCallId,chat:e.chat})});await Promise.all(r)}return{approvalRequiredParts:t,respondToRequestApprovals:a}}(),{pendingClientToolParts:m}=function(){let e=tq();return{pendingClientToolParts:(0,o.EW)(()=>e.chat.messages.filter(e=>e.parts.some(rU)).flatMap(e=>e.parts).filter(rU))}}(),h=function(){let e=tq(),t=(0,l.KR)();function a(t){let a=`${e.baseUrl}${t}`;if(a.startsWith("/"))return a;let r=new URLSearchParams({scalar_url:a.toString()});return new URL(`https://proxy.scalar.com/?${r}`)}return{uploadTempDocument:async function(r,n=!1){try{t.value={type:"uploading"};let s=await fetch(a(`/core/share/upload/apis${n?"?source=agent":""}`),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({document:r})});if(!s.ok){t.value={type:"error",error:"Failed to upload document."};return}let i=await s.json(),{success:o,data:l}=t6({url:tY(),namespace:tY(),slug:tY()}).safeParse(i);if(!o){t.value={type:"error",error:"Failed to process document."};return}t.value={type:"processing"};let u=await fetch(a(`/vector/registry/embeddings/${l.namespace}/${l.slug}`),{method:"GET"});if(function({namespace:e,slug:t}){localStorage.setItem(t9,JSON.stringify({namespace:e,slug:t}))}({namespace:l.namespace,slug:l.slug}),await e.addDocument({namespace:l.namespace,slug:l.slug,removable:!1}),!u.ok){t.value={type:"error",error:"Failed to embed document."};return}return t.value={type:"done"},e.uploadedTmpDocumentUrl.value=l.url,setTimeout(()=>{t.value=void 0},2e3),l}catch{t.value={type:"error",error:"Failed to upload document."};return}},uploadState:t}}();function f(){n.terms.accept(),"preview"===n.mode&&n.getActiveDocumentJson&&h.uploadTempDocument(n.getActiveDocumentJson(),!0)}let v=(0,o.EW)(()=>Object.values(n.pendingDocuments).some(Boolean)),g=(0,o.EW)(()=>{let e=i.value,t=!s.value,a=c.value.length>0,r=m.value.length>0,o="preview"===n.mode,l=o&&!n.terms.accepted.value,u=o&&!!h.uploadState.value,d=v.value;return e||t||a||r||l||u||d});function y(){g.value||a("submit")}let _=function(){let{chat:e}=tq();return(0,o.EW)(()=>{if(!e.error)return;let t=function(e){try{return JSON.parse(e)}catch{return}}(e.error.message),a=rF.safeParse(t);return t&&a.success?a.data:{message:e.error.message,code:"UNKNOWN_ERROR"}})}();return(e,t)=>((0,o.uX)(),(0,o.CE)("div",rD,[(0,l.R1)(h).uploadState.value||v.value?((0,o.uX)(),(0,o.Wv)(rM,{key:0,uploadState:(0,l.R1)(h).uploadState.value??{type:"loading"}},null,8,["uploadState"])):(0,o.Q3)("",!0),(0,l.R1)(_)?((0,o.uX)(),(0,o.Wv)(rb,{key:1,error:(0,l.R1)(_)},null,8,["error"])):(0,o.Q3)("",!0),(0,l.R1)(c).length?((0,o.uX)(),(0,o.Wv)(rg,{key:2,onApprove:t[0]||(t[0]=e=>(0,l.R1)(p)(!0)),onReject:t[1]||(t[1]=e=>(0,l.R1)(p)(!1))})):(0,o.Q3)("",!0),l.R1(_)?.code===(0,l.R1)(ry).LIMIT_REACHED?((0,o.uX)(),(0,o.Wv)(rE,{key:3})):(0,o.Q3)("",!0),u.value?((0,o.uX)(),(0,o.Wv)(rC,{key:4})):(0,o.Q3)("",!0),(0,o.Lk)("form",{class:"promptForm",onSubmit:(0,aM.D$)(y,["prevent"])},[t[6]||(t[6]=(0,o.Lk)("label",{class:"agentLabel",for:"agentTextarea"}," Type a Request To get Started ",-1)),(0,o.bo)((0,o.Lk)("textarea",{id:"agentTextarea",ref:"agentPrompt","onUpdate:modelValue":t[2]||(t[2]=e=>(0,l.R1)(n).prompt.value=e),class:"prompt custom-scroll",disabled:(0,l.R1)(n).loading.value,name:"prompt",placeholder:"Ask me anything...",onKeydown:d},null,40,rW),[[aM.Jo,(0,l.R1)(n).prompt.value]]),(0,o.Lk)("div",rz,[(0,o.Lk)("div",rX,[l.R1(n).isLoggedIn?.value?((0,o.uX)(),(0,o.Wv)(rm,{key:1,onUploadApi:t[3]||(t[3]=t=>e.$emit("uploadApi"))},{default:(0,o.k6)(()=>[(0,o.Lk)("button",rV,[(0,o.bF)((0,l.R1)(at.Ijq),{class:"size-4",weight:"bold"})])]),_:1})):((0,o.uX)(),(0,o.Wv)(rZ,{key:0},{default:(0,o.k6)(()=>[(0,o.Lk)("button",rB,[(0,o.bF)((0,l.R1)(at.Ijq),{class:"size-4",weight:"bold"})])]),_:1})),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,l.R1)(n).registryDocuments.value,e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"apiPill"},[e.logoUrl?((0,o.uX)(),(0,o.CE)("img",{key:0,class:"apiPillLogo",src:e.logoUrl},null,8,rK)):(0,o.Q3)("",!0),(0,o.eW)(" "+(0,t8.v_)(e.title)+" ",1),e.removable?((0,o.uX)(),(0,o.CE)("button",{key:1,class:"apiPillRemove",type:"button",onClick:t=>(0,l.R1)(n).removeDocument(e)},[(0,o.bF)((0,l.R1)(at.snQ),{class:"size-4",weight:"bold"})],8,rq)):(0,o.Q3)("",!0)]))),128))]),(0,o.Lk)("div",rQ,[(0,l.R1)(n).loading.value?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)((0,l.R1)(T.EX),{key:0,class:"settingsButton h-7 w-7 p-1.5",icon:(0,l.R1)(at.tsF),label:"Scalar",size:"md",weight:"bold",onClick:t[4]||(t[4]=e=>(0,l.R1)(n).settingsModal.show())},null,8,["icon"])),(0,o.Lk)("div",rH,[(0,l.R1)(n).terms.accepted.value||"preview"!==(0,l.R1)(n).mode?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",rJ,[(0,o.Lk)("input",{id:"agentTermsAgree",class:"sr-only",type:"checkbox",onChange:f},null,32),(0,o.Lk)("label",rG,[(0,o.bF)((0,l.R1)(at.eYG),{class:"termsAgreeIcon",weight:"bold"}),t[5]||(t[5]=(0,o.eW)(" Agree to Terms & Conditions ",-1))])])),(0,l.R1)(n).loading.value?((0,o.uX)(),(0,o.Wv)((0,l.R1)(T.XI),{key:2,class:"loader h-7 w-7",loader:{isLoading:(0,l.R1)(n).loading.value,isValid:!1,clear:async()=>{},invalidate:async()=>{},isInvalid:!1,isActive:!1,validate:async()=>{},start:()=>{}},size:"2xl"},null,8,["loader"])):((0,o.uX)(),(0,o.Wv)((0,l.R1)(T.EX),{key:1,class:"sendButton h-7 w-7 p-1.5",disabled:g.value,icon:(0,l.R1)(at.wbj),label:"Scalar",size:"md",type:"submit",weight:"bold"},null,8,["disabled","icon"]))])])])],32),(0,o.bo)((0,o.Lk)("div",rY,[t[7]||(t[7]=(0,o.Lk)("span",null,"Add context from dozens of API's",-1)),(0,o.Lk)("div",r0,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,l.R1)(n).curatedDocuments.value,e=>((0,o.uX)(),(0,o.CE)("button",{key:e.id,class:"addAPIContext",type:"button",onClick:t=>(0,l.R1)(n).addDocument(e)},[e.logoUrl?((0,o.uX)(),(0,o.CE)("img",{key:0,alt:e.title,class:"size-4",src:e.logoUrl},null,8,r3)):(0,o.Q3)("",!0)],8,r1))),128))])],512),[[aM.aG,(0,l.R1)(n).chat.messages.length<=1]])]))}}),[["__scopeId","data-v-3899441c"]]),r6={class:"chat"},r2={key:0},r4={class:"formContainer"},r7=aa((0,o.pM)({__name:"Chat",emits:["submit","uploadApi"],setup(e,{emit:t}){let a=tq();return(e,r)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",r6,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,l.R1)(a).chat.messages,e=>((0,o.uX)(),(0,o.CE)(o.FK,{key:e.id},["user"===e.role?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:0},(0,o.pI)(e.parts,(t,a)=>((0,o.uX)(),(0,o.CE)("div",{key:`${e.id}-${a}`,class:"userMessage"},["text"===t.type?((0,o.uX)(),(0,o.CE)("p",r2,(0,t8.v_)(t.text),1)):(0,o.Q3)("",!0)]))),128)):(0,o.Q3)("",!0),"assistant"===e.role?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:1},(0,o.pI)(e.parts,(t,a)=>((0,o.uX)(),(0,o.CE)("div",{key:`${e.id}-${a}`},["text"===t.type?((0,o.uX)(),(0,o.Wv)(a8,{key:0,messagePart:(0,l.lW)(t)},null,8,["messagePart"])):(0,o.Q3)("",!0),t.type.endsWith((0,l.R1)(tL))?((0,o.uX)(),(0,o.Wv)(aG,{key:1,messagePart:(0,l.lW)(t)},null,8,["messagePart"])):(0,o.Q3)("",!0),t.type.endsWith((0,l.R1)("get-mini-openapi-spec"))?((0,o.uX)(),(0,o.Wv)(a6,{key:2,message:(0,l.Kh)(e),messagePart:(0,l.lW)(t)},null,8,["message","messagePart"])):(0,o.Q3)("",!0),t.type.endsWith((0,l.R1)("get-openapi-specs-summary"))?((0,o.uX)(),(0,o.Wv)(a9,{key:3,message:(0,l.Kh)(e),messagePart:(0,l.lW)(t)},null,8,["message","messagePart"])):(0,o.Q3)("",!0),t.type.endsWith((0,l.R1)(ae))?((0,o.uX)(),(0,o.Wv)(ap,{key:4,message:(0,l.Kh)(e),messagePart:(0,l.lW)(t)},null,8,["message","messagePart"])):(0,o.Q3)("",!0)]))),128)):(0,o.Q3)("",!0)],64))),128)),r[2]||(r[2]=(0,o.Lk)("div",{class:"spacer"},null,-1))]),(0,o.Lk)("div",r4,[(0,o.bF)(r5,{onSubmit:r[0]||(r[0]=e=>t("submit")),onUploadApi:r[1]||(r[1]=e=>t("uploadApi"))})])],64))}}),[["__scopeId","data-v-41e50a16"]]),r9={fill:"none",height:"54",viewBox:"0 0 64 54",width:"64",xmlns:"http://www.w3.org/2000/svg"},r8=aa({},[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("svg",r9,[...t[0]||(t[0]=[(0,o.Lk)("path",{"clip-rule":"evenodd",d:"M31.0667 0C40.2667 0 48.3333 6.13333 52.6 14.9333H57.2667C59.6 14.9333 61.5333 16.8 61.5333 19.1333V32.2C61.5333 33.4667 60.8667 34.6 60 35.3333L63.3333 45.4V45.4667C63.5639 46.207 63.6166 46.9912 63.4874 47.7557C63.3582 48.5202 63.0505 49.2435 62.5895 49.8669C62.1284 50.4903 61.5269 50.9962 60.8338 51.3437C60.1406 51.6911 59.3754 51.8703 58.6 51.8667H54.3333C53.9895 52.4222 53.5082 52.8797 52.936 53.195C52.3638 53.5103 51.72 53.6728 51.0667 53.6667H47.0667C46.5764 53.6755 46.0892 53.5877 45.6328 53.4082C45.1765 53.2287 44.76 52.961 44.4071 52.6205C44.0542 52.28 43.7719 51.8733 43.5762 51.4237C43.3805 50.9741 43.2753 50.4903 43.2667 50C43.2667 47.9333 44.9333 46.2667 47 46.2667H51.0667C52.4667 46.2667 53.7333 46.9333 54.3333 48.0667H58.6C59.3333 48.0667 59.9333 47.4 59.6667 46.6L56.3333 36.3333H51.3333C49.9333 36.3333 48.6 35.6667 47.8 34.5333V34.4667L46.8 32.9333C46.7585 32.8643 46.6999 32.8072 46.6298 32.7675C46.5597 32.7279 46.4805 32.707 46.4 32.707C46.3195 32.707 46.2403 32.7279 46.1702 32.7675C46.1001 32.8072 46.0415 32.8643 46 32.9333L45.4667 34C45.1162 34.7065 44.5739 35.3 43.9019 35.7126C43.2299 36.1253 42.4552 36.3404 41.6667 36.3333H24.9333C23.4 36.3333 21.9333 35.7333 20.8667 34.6667H20.8L19.8667 33.6667C19.6667 33.4667 19.4667 33.3333 19.2 33.3333L17.4667 33.1333C17.3333 38.8667 13.4667 43.4667 8.73333 43.4667C3.93333 43.4667 0 38.6667 0 32.9333C0 32.2667 0 31.6667 0.133333 31.1333V31C0.8 26.8 3.46667 23.4667 6.93333 22.6C9.46667 9.93333 19.3333 0 31.0667 0ZM3.93333 31.5333C4.46667 28 6.93333 26.2 8.73333 26.2C10.7333 26.2 13.6 28.4 13.6 32.8667C13.6 34.4667 13.2667 35.7333 12.7333 36.7333C11.7333 38.7333 10.0667 39.6667 8.73333 39.6667C7.67025 39.6269 6.66506 39.1722 5.93333 38.4C5.8414 38.3142 5.75246 38.2253 5.66667 38.1333C5.19113 37.6008 4.80806 36.9924 4.53333 36.3333C4.0607 35.2169 3.83335 34.0119 3.86667 32.8V31.6667L3.93333 31.6V31.5333ZM24.3333 20.6667C24.3333 19.6667 25.2 18.8 26.2667 18.8H55.8667C56.9333 18.8 57.8 19.6667 57.7333 20.7333V30.7333C57.6667 31.8 56.8 32.6667 55.7333 32.6667H53.4C53.0667 32.6667 52.7333 32.6667 52.4 32.5333C51.5333 32.3333 50.7333 31.8667 50.4 31.3333L47.9333 27.6C47.7363 27.2901 47.4602 27.0383 47.1336 26.8706C46.8069 26.7028 46.4414 26.6251 46.0747 26.6455C45.7081 26.6658 45.3535 26.7835 45.0474 26.9865C44.7413 27.1894 44.4948 27.4702 44.3333 27.8L42.6667 31C42.4199 31.4974 42.04 31.9165 41.5692 32.2107C41.0984 32.505 40.5552 32.6628 40 32.6667L26.2 32.8C25.1333 32.8 24.2667 31.9333 24.2667 30.8667V20.6667H24.3333ZM11 22.2C13.5333 11.5333 22 3.86667 31 3.86667C37.9333 3.86667 44.4 8.2 48.3333 15H24.3333C21.4667 15 18.6 16 16.3333 17.8L16.2667 17.8667L10.9333 22.2H11Z",fill:"currentColor","fill-rule":"evenodd"},null,-1)])])}]]),ne={class:"startContainer"},nt={class:"disclaimerText"},na=aa((0,o.pM)({__name:"Start",emits:["submit","uploadApi"],setup(e,{emit:t}){let{mode:a}=tq();return(e,r)=>((0,o.uX)(),(0,o.CE)("div",ne,[(0,o.bF)(r8,{class:"agentLogo"}),r[6]||(r[6]=(0,o.Lk)("h1",{class:"heading"},"How can I help you today?",-1)),(0,o.bF)(r5,{ref:"promptFormField",onSubmit:r[0]||(r[0]=e=>t("submit")),onUploadApi:r[1]||(r[1]=e=>t("uploadApi"))},null,512),(0,o.Lk)("p",nt,["preview"===(0,l.R1)(a)?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.eW)(" By messaging Agent Scalar your OpenAPI Document will be Temporarily uploaded to Scalar's Servers. You must agree to our ")],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.eW)(" By messaging Agent Scalar you agree to our ")],64)),r[2]||(r[2]=(0,o.Lk)("a",{class:"disclaimerLink",href:"https://scalar.com/legal/terms-and-conditions",target:"_blank"},"Terms ",-1)),r[3]||(r[3]=(0,o.eW)(" and ",-1)),r[4]||(r[4]=(0,o.Lk)("a",{class:"disclaimerLink",href:"https://scalar.com/legal/privacy-policy",target:"_blank"}," Privacy Policy",-1)),r[5]||(r[5]=(0,o.eW)(". ",-1))])]))}}),[["__scopeId","data-v-1fbb0eb5"]]),nr={class:"wrapper"},nn=aa((0,o.pM)({__name:"Layout",emits:["submit","uploadApi"],setup(e,{emit:t}){let{chat:a}=tq();return(e,r)=>((0,o.uX)(),(0,o.CE)("div",nr,[(0,l.R1)(a).messages.length&&((0,l.R1)(a).messages.length>1||"submitted"!==(0,l.R1)(a).status)?((0,o.uX)(),(0,o.Wv)(r7,{key:0,onSubmit:r[0]||(r[0]=e=>t("submit")),onUploadApi:r[1]||(r[1]=e=>t("uploadApi"))})):((0,o.uX)(),(0,o.Wv)(na,{key:1,onSubmit:r[2]||(r[2]=e=>t("submit")),onUploadApi:r[3]||(r[3]=e=>t("uploadApi"))}))]))}}),[["__scopeId","data-v-f1eee0af"]]);var ns=a(36917);let ni={class:"overflow-x-auto"},no={key:1,class:"text-c-1 flex h-auto w-full items-center gap-0.75 rounded-b-lg px-3 py-1.5 text-base leading-[20px] whitespace-nowrap"},nl={class:"overflow-x-auto"},nu=(0,o.pM)({__name:"Selector",props:{selectedServer:{},servers:{},target:{}},emits:["update:modelValue"],setup(e,{expose:t,emit:a}){let r=(0,o.EW)(()=>e.servers.map(e=>({id:e.url,label:e.url}))),n=(0,o.EW)(()=>e.selectedServer?.url?.replace(/\/$/,"")||""),s=(0,o.EW)(()=>r.value.find(t=>t.id===e.selectedServer?.url));return t({servers:e.servers,serverUrlWithoutTrailingSlash:n,serverOptions:r,selectedServer:e.selectedServer}),(t,i)=>r.value.length>1?((0,o.uX)(),(0,o.Wv)((0,l.R1)(T.cy),{key:0,ref:"elem",class:"group",modelValue:s.value,options:r.value,placement:"bottom-start",resize:"",target:e.target,"onUpdate:modelValue":i[0]||(i[0]=e=>a("update:modelValue",e.id))},{default:(0,o.k6)(()=>[(0,o.bF)((0,l.R1)(T.RO),{class:"bg-b-1 text-c-1 h-auto w-full justify-start gap-1.5 overflow-x-auto rounded-t-none rounded-b-xl px-3 py-1.5 text-base font-normal whitespace-nowrap -outline-offset-1",variant:"ghost"},{default:(0,o.k6)(()=>[i[1]||(i[1]=(0,o.Lk)("span",{class:"sr-only"},"Server:",-1)),(0,o.Lk)("span",ni,(0,t8.v_)(n.value||"Select a server"),1),(0,o.bF)((0,l.R1)(at.zqX),{class:"text-c-2 ui-open:rotate-180 mt-0.25 size-3 transition-transform duration-100",weight:"bold"})]),_:1})]),_:1},8,["modelValue","options","target"])):((0,o.uX)(),(0,o.CE)("div",no,[i[2]||(i[2]=(0,o.Lk)("span",{class:"sr-only"},"Server:",-1)),(0,o.Lk)("span",nl,(0,t8.v_)(n.value),1)]))}}),nd=["id"],nc=(0,o.pM)({__name:"ServerSelector",props:{eventBus:{},selectedServer:{},servers:{}},setup(e){let t=(0,o.Bi)(),a=t=>{e.eventBus.emit("server:update:selected",{url:e.selectedServer?.url===t?"":t})},r=(t,a)=>{let r=e.servers.findIndex(t=>t.url===e.selectedServer?.url);-1!==r&&e.eventBus.emit("server:update:variables",{index:r,key:t,value:a})};return(n,s)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[s[0]||(s[0]=(0,o.Lk)("label",{class:"bg-b-2 flex h-8 items-center rounded-t-xl border border-b-0 px-3 py-2.5 font-medium"}," Server ",-1)),(0,o.Lk)("div",{id:(0,l.R1)(t),class:(0,t8.C4)(["border",{"rounded-b-xl":!e.selectedServer?.description&&!e.selectedServer?.variables}])},[e.servers.length?((0,o.uX)(),(0,o.Wv)(nu,{key:0,selectedServer:e.selectedServer,servers:e.servers,target:(0,l.R1)(t),"onUpdate:modelValue":a},null,8,["selectedServer","servers","target"])):(0,o.Q3)("",!0)],10,nd),(0,o.bF)((0,l.R1)(ns.f$),{layout:"reference",variables:e.selectedServer?.variables,"onUpdate:variable":r},null,8,["variables"]),e.selectedServer?.description?((0,o.uX)(),(0,o.Wv)((0,l.R1)(T.mi),{key:0,class:"text-c-3 rounded-b-xl border border-t-0 px-3 py-1.5",value:e.selectedServer.description},null,8,["value"])):(0,o.Q3)("",!0)],64))}}),np={class:"docSettings"},nm=aa((0,o.pM)({__name:"DocSettings",props:{document:{},name:{}},setup(e){let{workspaceStore:t,config:a,eventBus:r}=tq(),n=(0,o.EW)(()=>(0,F.O)(t,e.document)),s=(0,o.EW)(()=>{let t=(0,F.V)(e.document.servers,{documentUrl:e.document["x-scalar-original-source-url"]});return(0,M.rd)(e.document,t)}),i=(0,o.EW)(()=>e.document.components?.securitySchemes??{});return(u,d)=>((0,o.uX)(),(0,o.CE)("div",np,[(0,o.Lk)("div",null,[(0,o.bF)(al,{authStore:(0,l.R1)(t).auth,document:e.document,environment:n.value,eventBus:(0,l.R1)(r),name:e.name,options:(0,l.R1)(a),securitySchemes:i.value,selectedServer:s.value},null,8,["authStore","document","environment","eventBus","name","options","securitySchemes","selectedServer"])]),(0,o.Lk)("div",null,[(0,o.bF)(nc,{eventBus:(0,l.R1)(r),selectedServer:s.value,servers:e.document.servers??[]},null,8,["eventBus","selectedServer","servers"])])]))}}),[["__scopeId","data-v-2dfa823a"]]),nh={class:"settingsHeading"},nf={class:"documentList"},nv=["onClick"],ng={key:0},ny={key:1,class:"noDocuments"},n_={class:"proxyUrlContainer"},nb=aa((0,o.pM)({__name:"Settings",props:{modalState:{}},setup(e){let{workspaceStore:t,proxyUrl:a}=tq();return(r,n)=>((0,o.uX)(),(0,o.Wv)((0,l.R1)(T.uT),{class:"settingsModal",state:e.modalState},{default:(0,o.k6)(()=>[(0,o.Lk)("div",nh,[n[1]||(n[1]=(0,o.Lk)("h1",null,"Settings",-1)),(0,o.bF)((0,l.R1)(T.lV),{class:"colorToggle ml-auto"})]),(0,o.Lk)("div",nf,[Object.entries((0,l.R1)(t).workspace.documents).length?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:0},(0,o.pI)(Object.entries((0,l.R1)(t).workspace.documents),([e,a])=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:"document"},[(0,o.Lk)("button",{class:(0,t8.C4)(["documentName",{documentNameActive:(0,l.R1)(t).workspace.activeDocument===a}]),type:"button",onClick:a=>{t.update("x-scalar-active-document",e)}},[(0,o.eW)(" @"+(0,t8.v_)(e)+" ",1),(0,l.R1)(t).workspace.activeDocument===a?((0,o.uX)(),(0,o.Wv)((0,l.R1)(at.zqX),{key:0})):((0,o.uX)(),(0,o.Wv)((0,l.R1)(at.TA3),{key:1}))],10,nv),(0,l.R1)(t).workspace.activeDocument===a?((0,o.uX)(),(0,o.CE)("div",ng,[(0,o.bF)(nm,{document:a,name:e},null,8,["document","name"])])):(0,o.Q3)("",!0)]))),128)):((0,o.uX)(),(0,o.CE)("div",ny," No APIs selected. Use + to add context. "))]),(0,o.Lk)("div",n_,[n[2]||(n[2]=(0,o.Lk)("label",{for:"proxyUrl"},"Proxy URL",-1)),(0,o.bF)((0,l.R1)(T.SB),{id:"proxyUrl",modelValue:(0,l.R1)(a),"onUpdate:modelValue":n[0]||(n[0]=e=>(0,l.i9)(a)?a.value=e:null),placeholder:"https://proxy.scalar.com"},null,8,["modelValue"])])]),_:1},8,["state"]))}}),[["__scopeId","data-v-745651bc"]]),nk={ref:"clientModal"},nx=(0,o.pM)({__name:"Chat",emits:["uploadApi"],setup(e){let{chat:t,prompt:a,settingsModal:r,eventBus:n,workspaceStore:s,config:i,mode:c,addDocument:p}=tq(),m=(0,o.rk)("clientModal"),h=(0,l.KR)(null);async function f(){await t.sendMessage({text:a.value})}return(0,o.sV)(async()=>{let e=function(){let e=localStorage.getItem(t9);if(e)return t6({namespace:tY(),slug:tY()}).parse(JSON.parse(e))}();"preview"===c&&e&&await p({namespace:e.namespace,slug:e.slug,removable:!1}),m.value&&(h.value=(0,u.pA)({el:m.value,options:i,eventBus:n,workspaceStore:s}))}),(0,o.xo)(()=>{h.value?.app.unmount()}),function(){let e=tq();(0,o.wB)([()=>e.chat.status,()=>(function(e){let t=e?.parts.at(-1);if(t&&"text"===t.type)return t.text})(e.chat.lastMessage)],async()=>{await (0,o.dY)(),window.scrollTo(0,document.body.scrollHeight)})}(),function(){let{api:e,addDocument:t,mode:a,getAgentKey:r}=tq(),{toast:n}=(0,d.Yf)();(0,o.sV)(async()=>{if("full"!==a||!r)return;let s=await e.getKeyDocuments();if(!s.success){n("Unable to fetch registry documents for the provided key","error");return}s.data.documents.forEach(({namespace:e,slug:a})=>t({namespace:e,slug:a,removable:!1}))})}(),function(){let{api:e,curatedDocuments:t}=tq();(0,o.sV)(async()=>{let a=await e.getCuratedDocuments();a.success&&(t.value=a.data.results)})}(),(e,t)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",nk,null,512),(0,o.bF)(nn,{onSubmit:f,onUploadApi:t[0]||(t[0]=t=>e.$emit("uploadApi"))}),(0,o.bF)(nb,{modalState:(0,l.R1)(r)},null,8,["modalState"])],64))}}),nw=(0,o.pM)({__name:"App",props:{registryDocuments:{},registryUrl:{},dashboardUrl:{},baseUrl:{},mode:{default:"full"},getAccessToken:{type:Function},getAgentKey:{type:Function},getActiveDocumentJson:{type:Function},isLoggedIn:{},prefilledMessage:{}},emits:["uploadApi"],setup(e,{expose:t}){let a=function({initialRegistryDocuments:e,registryUrl:t,dashboardUrl:a,baseUrl:r,mode:n,isLoggedIn:s,getAccessToken:i,getAgentKey:u,getActiveDocumentJson:d,prefilledMessageRef:c}){let p=(0,l.KR)(c?.value??""),m=(0,l.KR)([]),h=(0,l.Kh)({}),f=(0,l.KR)([]),v=(0,l.KR)("https://proxy.scalar.com"),g=(0,l.KR)(),y=function(){let e=(0,l.KR)(!1);return(0,o.sV)(()=>{e.value="true"===localStorage.getItem(tU)}),{accepted:e,accept:function(){e.value=!0,localStorage.setItem(tU,"true")}}}(),_=(0,$.Mf)(),b=(0,Z.P)({plugins:[tW({persistAuth:!0})]}),k=(0,o.EW)(()=>I.Ze.parse({proxyUrl:v.value,persistAuth:!0})),x=function({registryDocuments:e,workspaceStore:t,baseUrl:a,getAccessToken:r,getAgentKey:n}){let s=new R({sendAutomaticallyWhen:A.qG,transport:new A.rL({api:K(`${a}/vector/openapi/chat`),headers:()=>q({getAccessToken:r,getAgentKey:n}),body:()=>({registryDocuments:e.value,documentSettings:z(t)})}),async onToolCall({toolCall:e}){e.dynamic||e.toolName===tL&&"get"===e.input.method.toLowerCase()&&await tF({documentSettings:z(t),input:e.input,toolCallId:e.toolCallId,chat:s})}});return s}({registryDocuments:m,workspaceStore:b,baseUrl:r,getAccessToken:i,getAgentKey:u}),w=function({baseUrl:e,getAccessToken:t,getAgentKey:a}){let r=P.safeFn(async({path:r,method:n="get",query:s,body:i,responseSchema:o})=>{let l=`${e}${r}${s?`?${new URLSearchParams(s)}`:""}`,u=await P.fromUnsafe(async()=>fetch(K(l),{method:n,...i&&{body:JSON.stringify(i)},headers:{...q({getAccessToken:t,getAgentKey:a})}}),e=>L("FAILED_TO_FETCH",e));if(!u.success)return u;let d=await P.fromUnsafe(async()=>u.data.json(),e=>L("FAILED_TO_FETCH_DATA",e));if(!d.success)return{success:!1,error:L("UNKNOWN_ERROR","Unknown error occurred. Please contact support.")};if(!u.data.ok){let e=O.Ay$.object({message:O.Ay$.string(),code:O.Ay$.string()}).safeParse(d.data);return e.success?{success:!1,error:L(e.data.code,e.data.message)}:{success:!1,error:L("UNKNOWN_ERROR","Unknown error occurred. Please contact support.")}}let c=o.safeParse(d.data);return c.success?{success:!0,data:c.data}:{success:!1,error:L("INVALID_RESPONSE","Invalid response. Please contact support")}});return{search:async e=>r({path:"/vector/registry/search",query:{query:e},responseSchema:O.Ay$.object({results:j.array()})}),getDocument:async e=>r({path:`/vector/registry/document/${e.namespace}/${e.slug}`,responseSchema:j}),getKeyDocuments:async()=>r({path:"/vector/registry/documents",responseSchema:O.Ay$.object({documents:j.array()})}),getCuratedDocuments:async()=>r({path:"/vector/registry/curated",responseSchema:O.Ay$.object({results:j.array()})})}}({baseUrl:r,getAccessToken:i,getAgentKey:u}),C=(0,o.EW)(()=>"submitted"===x.status||"streaming"===x.status&&!x.lastMessage?.parts.some(e=>"text"===e.type));(0,o.wB)(()=>x.status,()=>{"streaming"===x.status&&(p.value="")}),c&&(0,o.wB)(c,async e=>{e&&(p.value=e,y.accepted.value&&await x.sendMessage({text:p.value}))});let S=(0,T.hS)();async function E({namespace:e,slug:a,removable:r=!0}){if(m.value.find(t=>t.namespace===e&&t.slug===a))return;let n=`@${e}/${a}`;h[n]=!0;let s=await tB({namespace:e,slug:a,workspaceStore:b,registryUrl:t,registryDocuments:m,config:k.value,api:w,removable:r});if(h[n]=!1,!s.success)throw console.warn("[AGENT]: Unable to load document",s.error),tK(`Unable to load the document @${e}/${a}`,"warn"),s.error}async function N({namespace:e,slug:a,removable:n=!0}){if(m.value.find(t=>t.namespace===e&&t.slug===a))return;let s=`@${e}/${a}`;h[s]=!0;let i=await P.fromUnsafe(()=>fetch(K(`${r}/vector/registry/embeddings/${e}/${a}`),{method:"GET"}),e=>L("FAILED_TO_GET_EMBEDDING_STATUS",e));if(i.success&&i.data.ok){let r=await tB({namespace:e,slug:a,workspaceStore:b,registryUrl:t,registryDocuments:m,config:k.value,api:w,removable:n});r.success||(console.warn("[AGENT]: Unable to load document",r.error),tK(`Unable to load the document @${e}/${a}`,"warn"))}else console.warn("[AGENT]: Document could not be embedded"),tK(`Unable to embed the document @${e}/${a}`,"warn");h[s]=!1}return e.forEach(({namespace:e,slug:t})=>E({namespace:e,slug:t,removable:!1})),{prompt:p,chat:x,workspaceStore:b,eventBus:_,loading:C,settingsModal:S,config:k,registryUrl:t,dashboardUrl:a,baseUrl:r,registryDocuments:m,pendingDocuments:h,proxyUrl:v,mode:n,terms:y,isLoggedIn:s,addDocument:E,addDocumentAsync:N,removeDocument:function({namespace:e,slug:t}){m.value=m.value.filter(a=>!(a.namespace===e&&a.slug===t)),b.deleteDocument(tP(e,t))},getAccessToken:i,getAgentKey:u,api:w,uploadedTmpDocumentUrl:g,curatedDocuments:f,getActiveDocumentJson:d}}({getActiveDocumentJson:e.getActiveDocumentJson,initialRegistryDocuments:e.registryDocuments,prefilledMessageRef:e.prefilledMessage,registryUrl:e.registryUrl,baseUrl:e.baseUrl,mode:e.mode,getAccessToken:e.getAccessToken,getAgentKey:e.getAgentKey,isLoggedIn:e.isLoggedIn,dashboardUrl:e.dashboardUrl});return(0,o.Gt)(tV,a),t({addDocumentAsync:a.addDocumentAsync}),(e,t)=>((0,o.uX)(),(0,o.Wv)(nx,{onUploadApi:t[0]||(t[0]=t=>e.$emit("uploadApi"))}))}});var nC=a(20100);let nS=(0,o.pM)({__name:"AgentScalarChatInterface",props:{agentScalarConfiguration:{},workspaceStore:{},prefilledMessage:{}},setup:e=>(t,a)=>((0,o.uX)(),(0,o.Wv)((0,l.R1)(nw),{baseUrl:(0,l.R1)(nC.JR),dashboardUrl:(0,l.R1)(nC.$h),getActiveDocumentJson:()=>e.workspaceStore.exportActiveDocument("json"),getAgentKey:e.agentScalarConfiguration?.key?()=>e.agentScalarConfiguration?.key??"":void 0,mode:e.agentScalarConfiguration?.key?"full":"preview",prefilledMessage:e.prefilledMessage,registryDocuments:[],registryUrl:(0,l.R1)(nC.W6)},null,8,["baseUrl","dashboardUrl","getActiveDocumentJson","getAgentKey","mode","prefilledMessage","registryUrl"]))})},69058:(e,t,a)=>{a.d(t,{bpZ:()=>r.safeParseAsync,blZ:()=>r.toJSONSchema,z:()=>r});var r=a(534)}}]);