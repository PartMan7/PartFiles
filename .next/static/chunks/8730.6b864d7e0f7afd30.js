"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8730],{65013:(e,t,l)=>{l.d(t,{A:()=>h});var a=l(84363),o=l(88123),r=l(15475),s=l(47547),n=l(44833),i=l(12022),u=l(74917),c=l(98823);let d=["for"],p={class:"relative flex min-w-0 flex-1"},m=["readOnly","type","value"],f={key:1,class:"centered-y text-orange absolute right-7 text-xs"},y=(0,a.pM)({inheritAttrs:!1,__name:"DataTableInput",props:{id:{},type:{},containerClass:{},required:{type:Boolean,default:!1},modelValue:{},canAddCustomEnumValue:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},enum:{},min:{},max:{},environment:{},envVariables:{},description:{},lineWrapping:{type:Boolean,default:!1}},emits:["update:modelValue","inputFocus","inputBlur","selectVariable"],setup(e,{emit:t}){let l=(0,o.KR)(!0),y=(0,o.KR)(!1),h=(0,o.KR)(null),v=()=>{y.value||t("inputBlur")},b=(0,a.EW)(()=>"password"===e.type?"text":e.type??"text"),k=()=>{e.enum?.length||e.readOnly||h.value?.focus()};return(y,w)=>((0,a.uX)(),(0,a.Wv)(u.A,{class:(0,r.C4)(["relative flex",e.containerClass])},{default:(0,a.k6)(()=>[y.$slots.default?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"text-c-1 flex items-center pr-0 pl-3",for:e.id??"",onClick:k},[(0,a.RG)(y.$slots,"default",{},void 0,!0),w[6]||(w[6]=(0,a.eW)(": ",-1))],8,d)):(0,a.Q3)("",!0),(0,a.Lk)("div",p,[e.enum&&e.enum.length?((0,a.uX)(),(0,a.Wv)(c.A,{key:0,canAddCustomValue:e.canAddCustomEnumValue,modelValue:e.modelValue,value:e.enum,"onUpdate:modelValue":w[0]||(w[0]=e=>t("update:modelValue",e))},null,8,["canAddCustomValue","modelValue","value"])):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[l.value&&"password"===e.type?((0,a.uX)(),(0,a.CE)("input",(0,a.v6)({key:0},e.id?{...y.$attrs,id:e.id}:y.$attrs,{autocomplete:"off",class:["text-c-1 disabled:text-c-2 peer w-full min-w-0 border-none px-2 py-1.25 -outline-offset-1",{"scalar-password-input":"password"===e.type}],"data-1p-ignore":"",readOnly:e.readOnly,spellcheck:"false",type:b.value,value:e.modelValue,onInput:w[1]||(w[1]=e=>t("update:modelValue",e.target.value??""))}),null,16,m)):((0,a.uX)(),(0,a.Wv)(i.A,(0,a.v6)({key:1},y.$attrs,{id:e.id,ref_key:"codeInput",ref:h,class:["text-c-1 disabled:text-c-2 peer w-full min-w-0 border-none -outline-offset-1",["password"===e.type&&e.description&&"pr-12",e.description&&"pr-8","password"===e.type&&"scalar-password-input"]],description:e.description,disableCloseBrackets:"",disableTabIndent:"",envVariables:e.envVariables,environment:e.environment,lineWrapping:!!e.lineWrapping,max:e.max,min:e.min,modelValue:e.modelValue??"",readOnly:e.readOnly,required:!!e.required,spellcheck:"false",type:b.value,onBlur:v,onFocus:w[2]||(w[2]=e=>t("inputFocus")),"onUpdate:modelValue":w[3]||(w[3]=e=>t("update:modelValue",e))}),null,16,["id","class","description","envVariables","environment","lineWrapping","max","min","modelValue","readOnly","required","type"]))],64))]),y.$slots.warning?((0,a.uX)(),(0,a.CE)("div",f,[(0,a.RG)(y.$slots,"warning",{},void 0,!0)])):(0,a.Q3)("",!0),(0,a.RG)(y.$slots,"icon",{},void 0,!0),e.modelValue?((0,a.uX)(),(0,a.Wv)((0,o.R1)(s.EX),{key:2,class:"-ml-.25 h-6 w-6 self-center p-1.25",icon:(0,o.R1)(n.snQ),label:"Clear Value",onClick:w[4]||(w[4]=e=>t("update:modelValue",""))},null,8,["icon"])):(0,a.Q3)("",!0),"password"===e.type?((0,a.uX)(),(0,a.Wv)((0,o.R1)(s.EX),{key:3,class:"-ml-.5 mr-1.25 h-6 w-6 self-center p-1.25",icon:l.value?(0,o.R1)(n.RQZ):(0,o.R1)(n.SVi),label:l.value?"Show Password":"Hide Password",onClick:w[5]||(w[5]=e=>l.value=!l.value)},null,8,["icon","label"])):(0,a.Q3)("",!0)]),_:3},8,["class"]))}}),h=(0,l(13077).A)(y,[["__scopeId","data-v-c1a50a6e"]])},30210:(e,t,l)=>{l.d(t,{A:()=>y});var a=l(84363),o=l(88123),r=l(15475),s=l(75844),n=l(47547);let i=["aria-labelledby"],u={class:"text-c-1 m-0 flex flex-1 items-center gap-1.5 leading-[20px]"},c=["id"],d={key:0,class:"sr-only"},p={key:0,class:"bg-b-2 text-c-2 inline-flex h-5 w-5 items-center justify-center rounded-full border text-xs font-semibold"},m={class:"sr-only"},f={key:0,class:"ui-not-open:hidden flex items-center gap-2 pr-0.75"},y=(0,a.pM)({__name:"ViewLayoutCollapse",props:{defaultOpen:{type:Boolean,default:!0},itemCount:{default:0},layout:{default:"client"}},emits:["update:modelValue"],setup(e,{emit:t}){let l=(0,a.Bi)(),y=(0,o.KR)(e.defaultOpen),h=()=>{y.value=!y.value,t("update:modelValue",y.value)};return(0,a.sV)(()=>{t("update:modelValue",y.value)}),(t,y)=>((0,a.uX)(),(0,a.Wv)((0,o.R1)(s.EN),{as:"div",class:(0,r.C4)(["group/collapse focus-within:text-c-1 text-c-2 last:ui-open:border-b-0 border-b",{"last-of-type:first-of-type:border-b-0":"reference"===e.layout}]),defaultOpen:e.defaultOpen,static:"reference"===e.layout||void 0,onClick:h},{default:(0,a.k6)(({open:y})=>[(0,a.Lk)("section",{"aria-labelledby":(0,o.R1)(l),class:"contents"},[(0,a.Lk)("div",{class:(0,r.C4)(["bg-b-2 flex items-center","reference"===e.layout&&"rounded-t-xl border border-b-0"])},[(0,a.bF)((0,o.R1)(s._q),{class:(0,r.C4)(["hover:text-c-1 group box-content flex max-h-8 flex-1 items-center gap-2.5 overflow-hidden px-1 py-1.5 text-base font-medium outline-none md:px-1.5 xl:pr-0.5 xl:pl-2",{"!pl-3":"reference"===e.layout}]),disabled:"reference"===e.layout},{default:(0,a.k6)(()=>["reference"!==e.layout?((0,a.uX)(),(0,a.Wv)((0,o.R1)(n.kv),{key:0,class:(0,r.C4)(["text-c-3 group-hover:text-c-1 ui-open:rotate-90 ui-not-open:rotate-0 rounded-px outline-offset-2 group-focus-visible:outline"]),icon:"ChevronRight",size:"md"})):(0,a.Q3)("",!0),(0,a.Lk)("h2",u,[(0,a.Lk)("span",{id:(0,o.R1)(l),class:"contents"},[(0,a.RG)(t.$slots,"title",{open:y}),y?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",d," (Collapsed) "))],8,c),!y&&e.itemCount?((0,a.uX)(),(0,a.CE)("span",p,[(0,a.eW)((0,r.v_)(e.itemCount)+" ",1),(0,a.Lk)("span",m,"Item"+(0,r.v_)(1===e.itemCount?"":"s"),1)])):(0,a.Q3)("",!0)])]),_:2},1032,["class","disabled"]),t.$slots.actions?((0,a.uX)(),(0,a.CE)("div",f,[(0,a.RG)(t.$slots,"actions",{open:y})])):(0,a.Q3)("",!0)],2),(0,a.bF)((0,o.R1)(s.kS),(0,a.v6)(t.$attrs,{class:"diclosure-panel h-full max-h-fit rounded-b"}),{default:(0,a.k6)(()=>[(0,a.RG)(t.$slots,"default",{open:y})]),_:2},1040)],8,i)]),_:3},8,["class","defaultOpen","static"]))}})},68730:(e,t,l)=>{l.d(t,{A:()=>ey});var a=l(84363),o=l(88123),r=l(15475),s=l(61629),n=l(47547),i=l(16751),u=l(44833),c=l(37806),d=l(30210),p=l(7162);let m={class:"text-c-2 mb-4 text-sm leading-normal"},f={class:"flex justify-between gap-2"},y=(0,a.pM)({__name:"DeleteRequestAuthModal",props:{state:{},scheme:{}},emits:["close","delete"],setup(e,{emit:t}){let{securitySchemeMutators:l}=(0,p.hA)(),s=()=>{e.scheme?.id&&l.delete(e.scheme.id),t("delete")};return(l,i)=>((0,a.uX)(),(0,a.Wv)((0,o.R1)(n.uT),{size:"xxs",state:e.state,title:"Delete Security Scheme"},{default:(0,a.k6)(()=>[(0,a.Lk)("p",m," This cannot be undone. You're about to delete the "+(0,r.v_)(e.scheme?.label)+" security scheme from the collection. ",1),(0,a.Lk)("div",f,[(0,a.bF)((0,o.R1)(n.RO),{class:"flex h-8 cursor-pointer items-center gap-1.5 px-3 shadow-none focus:outline-none",type:"button",variant:"outlined",onClick:i[0]||(i[0]=e=>t("close"))},{default:(0,a.k6)(()=>[...i[1]||(i[1]=[(0,a.eW)(" Cancel ",-1)])]),_:1}),(0,a.bF)((0,o.R1)(n.RO),{class:"flex h-8 cursor-pointer items-center gap-1.5 px-3 shadow-none focus:outline-none",type:"submit",onClick:s},{default:(0,a.k6)(()=>[(0,a.eW)(" Delete "+(0,r.v_)(e.scheme?.label),1)]),_:1})])]),_:1},8,["state"]))}});var h=l(26018);let v=(e,t,l,{securitySchemeMutators:a,securitySchemes:o},r=!1)=>{if(a.edit(e,t,l),r)try{let a=JSON.parse((0,i.Ar)().getItem(i.tN.AUTH)??"{}"),r=o[e];a&&r?.nameKey&&((a[r.nameKey]||={})[t]=l,(0,i.Ar)().setItem(i.tN.AUTH,JSON.stringify(a)))}catch(e){console.error(e)}},b=(e,t)=>{try{let{collectionMutators:l,securitySchemes:a,securitySchemeMutators:o}=e,r=JSON.parse((0,i.Ar)().getItem(i.tN.AUTH)??"{}"),s=Object.keys(a).reduce((e,t)=>{let l=a[t];return l&&(e[l.nameKey]=l.uid),e},{});Object.entries(r).forEach(([e,t])=>{let l=s[e];l&&Object.entries(t).forEach(([e,t])=>{o.edit(l,e,t)})});let n=JSON.parse((0,i.Ar)().getItem(i.tN.SELECTED_SECURITY_SCHEMES)??"[]").map(e=>Array.isArray(e)?e.map(e=>s[e]).filter(h.O):s[e]).filter(h.O);l.edit(t,"selectedSecuritySchemeUids",n)}catch(e){console.error(e)}};var k=l(67700),w=l(46593),x=l(75844),g=l(74917),_=l(26695),C=l(35380);let R={class:"flex h-fit w-full"},V={class:"flex-1"},A={class:"flex items-center gap-1.75"},S={class:"grid auto-rows-auto",style:{gridTemplateColumns:"1fr auto"}},F={key:0},E={class:"font-code text-xs"},O=(0,a.pM)({__name:"OAuthScopesInput",props:{flow:{},updateScheme:{type:Function}},setup(e){let t=(0,a.EW)(()=>Object.entries(e.flow?.scopes??{}).map(([e,t])=>({id:e,label:e,description:t}))),l=(0,a.EW)(()=>e.flow?.selectedScopes||[]),i=(0,a.EW)(()=>e.flow?.selectedScopes?.length===Object.keys(e.flow?.scopes??{}).length),u=()=>{e.updateScheme(`flows.${e.flow.type}.selectedScopes`,Object.keys(e.flow?.scopes??{}))},c=()=>{e.updateScheme(`flows.${e.flow.type}.selectedScopes`,[])};return(d,p)=>((0,a.uX)(),(0,a.Wv)((0,o.R1)(g.A),{class:"h-auto !max-h-[initial] min-h-8 items-center"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",R,[p[2]||(p[2]=(0,a.Lk)("div",{class:"text-c-1 h-full items-center"},null,-1)),(0,a.bF)((0,o.R1)(x.EN),{as:"div",class:"bl flex w-full flex-col"},{default:(0,a.k6)(()=>[(0,a.bF)((0,o.R1)(x._q),{class:(0,r.C4)(["group/scopes-accordion hover:text-c-1 flex h-auto min-h-8 cursor-pointer items-center gap-1.5 pr-2.25 pl-3 text-left",(e.flow?.selectedScopes?.length||0)>0?"text-c-1":"text-c-3"])},{default:(0,a.k6)(({open:t})=>[(0,a.Lk)("div",V," Scopes Selected "+(0,r.v_)(e.flow?.selectedScopes?.length||0)+" / "+(0,r.v_)(Object.keys(e.flow?.scopes??{}).length||0),1),(0,a.Lk)("div",A,[i.value?((0,a.uX)(),(0,a.Wv)((0,o.R1)(n.RO),{key:0,class:"pr-0.75 pl-1 transition-none",size:"sm",variant:"ghost",onClick:(0,s.D$)(c,["stop"])},{default:(0,a.k6)(()=>[...p[0]||(p[0]=[(0,a.eW)(" Deselect All ",-1)])]),_:1})):(0,a.Q3)("",!0),i.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)((0,o.R1)(n.RO),{key:1,class:"pr-0.75 pl-1 transition-none",size:"sm",variant:"ghost",onClick:(0,s.D$)(u,["stop"])},{default:(0,a.k6)(()=>[...p[1]||(p[1]=[(0,a.eW)(" Select All ",-1)])]),_:1})),(0,a.bF)((0,o.R1)(n.kv),{class:"text-c-3 group-hover/scopes-accordion:text-c-2",icon:t?"ChevronDown":"ChevronRight",size:"md"},null,8,["icon"])])]),_:1},8,["class"]),(0,a.bF)((0,o.R1)(x.kS),{as:"template"},{default:(0,a.k6)(()=>[(0,a.Lk)("table",S,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.value,({id:t,label:s,description:n})=>((0,a.uX)(),(0,a.Wv)((0,o.R1)(_.A),{key:t,class:"text-c-2",onClick:a=>{l.value.includes(t)?e.updateScheme(`flows.${e.flow.type}.selectedScopes`,l.value.filter(e=>e!==t)):e.updateScheme(`flows.${e.flow.type}.selectedScopes`,[...l.value,t])}},{default:(0,a.k6)(()=>[(0,a.bF)((0,o.R1)(g.A),{class:"hover:text-c-1 box-border !max-h-[initial] w-full cursor-pointer px-3 py-1.5"},{default:(0,a.k6)(()=>[n?((0,a.uX)(),(0,a.CE)("div",F,[(0,a.Lk)("span",E,(0,r.v_)(s),1),(0,a.eW)(" â€“ "+(0,r.v_)(n),1)])):(0,a.Q3)("",!0)]),_:2},1024),(0,a.bF)((0,o.R1)(C.A),{modelValue:l.value.includes(t),"onUpdate:modelValue":()=>{}},null,8,["modelValue"])]),_:2},1032,["onClick"]))),128))])]),_:1})]),_:1})])]),_:1}))}});var U=l(65013);let W=["for"],$=(0,a.pM)({__name:"RequestAuthDataTableInput",props:{type:{},containerClass:{},required:{type:Boolean,default:!1},modelValue:{},readOnly:{type:Boolean,default:!1},environment:{},envVariables:{},workspace:{}},emits:["update:modelValue","inputFocus","inputBlur","selectVariable"],setup(e,{emit:t}){let l=(0,a.Bi)();return(r,s)=>((0,a.uX)(),(0,a.Wv)(U.A,(0,a.v6)({id:(0,o.R1)(l),canAddCustomEnumValue:!e.readOnly,containerClass:e.containerClass},r.$attrs,{envVariables:e.envVariables,environment:e.environment,lineWrapping:"",modelValue:e.modelValue,readOnly:e.readOnly,required:e.required,type:e.type,workspace:e.workspace,onInputBlur:s[0]||(s[0]=e=>t("inputBlur")),onInputFocus:s[1]||(s[1]=e=>t("inputFocus")),onSelectVariable:s[2]||(s[2]=e=>t("selectVariable",e)),"onUpdate:modelValue":s[3]||(s[3]=e=>t("update:modelValue",e))}),{default:(0,a.k6)(()=>[(0,a.Lk)("label",{for:(0,o.R1)(l)},[(0,a.RG)(r.$slots,"default")],8,W)]),icon:(0,a.k6)(()=>[(0,a.RG)(r.$slots,"icon")]),_:3},16,["id","canAddCustomEnumValue","containerClass","envVariables","environment","modelValue","readOnly","required","type","workspace"]))}});var K=l(52283),X=l(98146),I=l(57677),P=l(93830);let z=e=>{let t=e?.url;return t?(0,K.K)(t)?typeof window>"u"?{}:{basePath:t}:{baseUrl:t}:{}},L=()=>{let e=new Uint8Array(32);return crypto.getRandomValues(e),(0,P.SM)(e,!0)},Q=async(e,t)=>{if("plain"===t)return e;if("function"!=typeof crypto?.subtle?.digest)return console.warn("SHA-256 is only supported when using https, using a plain text code challenge instead."),e;let l=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",l);return(0,P.SM)(new Uint8Array(a),!0)},B=async(e,t,l)=>{try{if(!e)return[Error("Flow not found"),null];let a=e.selectedScopes.join(" ");if("clientCredentials"===e.type||"password"===e.type)return T(e,a,{proxyUrl:l},t);let o=(Math.random()+1).toString(36).substring(2,10),r=(0,X.r)(e.authorizationUrl,z(t)),s=new URL(r),n=null;if("implicit"===e.type)s.searchParams.set("response_type","token");else if("authorizationCode"===e.type&&(s.searchParams.set("response_type","code"),"no"!==e["x-usePkce"])){let t=L(),l=await Q(t,e["x-usePkce"]);n={codeVerifier:t,codeChallenge:l,codeChallengeMethod:"SHA-256"===e["x-usePkce"]?"S256":"plain"},s.searchParams.set("code_challenge",l),s.searchParams.set("code_challenge_method",n.codeChallengeMethod)}if(e["x-scalar-redirect-uri"].startsWith("/")){let l=t?.url||window.location.origin+window.location.pathname,a=(0,X.r)(e["x-scalar-redirect-uri"],{baseUrl:l});s.searchParams.set("redirect_uri",a)}else s.searchParams.set("redirect_uri",e["x-scalar-redirect-uri"]);e["x-scalar-security-query"]&&Object.keys(e["x-scalar-security-query"]).forEach(t=>{let l=e["x-scalar-security-query"]?.[t];l&&s.searchParams.set(t,l)}),s.searchParams.set("client_id",e["x-scalar-client-id"]),s.searchParams.set("state",o),a&&s.searchParams.set("scope",a);let i=window.open(s,"openAuth2Window","left=100,top=100,width=800,height=600");return i?new Promise(r=>{let s=setInterval(()=>{let u=null,c=null,d=null,p=null;try{let t=new URL(i.location.href).searchParams,l=e["x-tokenName"]||"access_token";u=t.get(l),c=t.get("code"),d=t.get("error"),p=t.get("error_description");let a=new URLSearchParams(i.location.href.split("#")[1]);u||=a.get(l),c||=a.get("code"),d||=a.get("error"),p||=a.get("error_description")}catch{}if(i.closed||u||c||d){if(clearInterval(s),i.close(),d)r([Error(`OAuth error: ${d}${p?` (${p})`:""}`),null]);else if(u){let e=i.location.href.match(/state=([^&]*)/)?.[1];r(e===o?[null,u]:[Error("State mismatch"),null])}else c?new URL(i.location.href).searchParams.get("state")===o?T(e,a,{code:c,pkce:n,proxyUrl:l},t).then(r):r([Error("State mismatch"),null]):(clearInterval(s),r([Error("Window was closed without granting authorization"),null]))}},200)}):[Error("Failed to open auth window"),null]}catch{return[Error("Failed to authorize oauth2 flow"),null]}},T=async(e,t,{code:l,pkce:a,proxyUrl:o}={},r)=>{if(!e)return[Error("OAuth2 flow was not defined"),null];let s=new URLSearchParams;s.set("client_id",e["x-scalar-client-id"]),t&&("clientCredentials"===e.type||"password"===e.type)&&s.set("scope",t),e.clientSecret&&(!e["x-scalar-credentials-location"]||"body"===e["x-scalar-credentials-location"])&&s.set("client_secret",e.clientSecret),"x-scalar-redirect-uri"in e&&e["x-scalar-redirect-uri"]&&s.set("redirect_uri",e["x-scalar-redirect-uri"]),l?(s.set("code",l),s.set("grant_type","authorization_code"),a&&s.set("code_verifier",a.codeVerifier)):"password"===e.type?(s.set("grant_type","password"),s.set("username",e.username),s.set("password",e.password)):s.set("grant_type","client_credentials"),e["x-scalar-security-body"]&&Object.entries(e["x-scalar-security-body"]).forEach(([e,t])=>{t&&s.set(e,t)});try{let t={"Content-Type":"application/x-www-form-urlencoded"};e.clientSecret&&(!e["x-scalar-credentials-location"]||"header"===e["x-scalar-credentials-location"])&&(t.Authorization=`Basic ${(0,P.lF)(`${e["x-scalar-client-id"]}:${e.clientSecret}`)}`);let l=(0,X.r)(e.tokenUrl,z(r)),a=(0,I.p)(o,l)?`${o}?${new URLSearchParams([["scalar_url",l]]).toString()}`:l,n=await (await fetch(a,{method:"POST",headers:t,body:s})).json(),i=e["x-tokenName"]||"access_token";return[null,n[i]]}catch{return[Error("Failed to get an access token. Please check your credentials."),null]}},q={class:"flex h-8 items-center justify-end border-t"},M={class:"flex h-8 w-full items-center justify-end border-t"},j=(0,a.pM)({__name:"OAuth2",props:{collection:{},environment:{},envVariables:{},flow:{},persistAuth:{type:Boolean,default:!1},scheme:{},server:{},workspace:{}},emits:["authorized"],setup(e,{emit:t}){let l=(0,n.R2)(),{toast:r}=(0,w.Yf)(),s=(0,p.hA)(),i=(t,l)=>v(e.scheme.uid,t,l,s,e.persistAuth),u=async()=>{if(l.isActive||!e.collection?.uid)return;if(!e.server){r("No server selected","error");return}l.start();let[a,o]=await B(e.flow,e.server,e.workspace?.proxyUrl);await l.clear(),o?(i(`flows.${e.flow.type}.token`,o),t("authorized")):(console.error(a),r(a?.message??"Failed to authorize","error"))},c={environment:e.environment,envVariables:e.envVariables,workspace:e.workspace};return(t,r)=>((0,a.uX)(),(0,a.CE)(a.FK,null,[e.flow.token?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.bF)((0,o.R1)(_.A),null,{default:(0,a.k6)(()=>[(0,a.bF)($,(0,a.v6)(c,{class:"border-r-transparent",modelValue:e.flow.token,placeholder:"QUxMIFlPVVIgQkFTRSBBUkUgQkVMT05HIFRPIFVT",type:"password","onUpdate:modelValue":r[0]||(r[0]=t=>i(`flows.${e.flow.type}.token`,t))}),{default:(0,a.k6)(()=>[...r[10]||(r[10]=[(0,a.eW)(" Access Token ",-1)])]),_:1},16,["modelValue"])]),_:1}),(0,a.bF)((0,o.R1)(_.A),{class:"min-w-full"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",q,[(0,a.bF)((0,o.R1)(n.RO),{class:"mr-1 p-0 px-2 py-0.5",loader:(0,o.R1)(l),size:"sm",variant:"outlined",onClick:r[1]||(r[1]=t=>i(`flows.${e.flow.type}.token`,""))},{default:(0,a.k6)(()=>[...r[11]||(r[11]=[(0,a.eW)(" Clear ",-1)])]),_:1},8,["loader"]),(0,a.RG)(t.$slots,"oauth-actions")])]),_:3})],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.bF)((0,o.R1)(_.A),null,{default:(0,a.k6)(()=>["authorizationUrl"in e.flow?((0,a.uX)(),(0,a.Wv)($,(0,a.v6)({key:0},c,{containerClass:"border-r-0",modelValue:e.flow.authorizationUrl,placeholder:"https://galaxy.scalar.com/authorize","onUpdate:modelValue":r[2]||(r[2]=t=>i(`flows.${e.flow.type}.authorizationUrl`,t))}),{default:(0,a.k6)(()=>[...r[12]||(r[12]=[(0,a.eW)(" Auth URL ",-1)])]),_:1},16,["modelValue"])):(0,a.Q3)("",!0),"tokenUrl"in e.flow?((0,a.uX)(),(0,a.Wv)($,(0,a.v6)({key:1},c,{modelValue:e.flow.tokenUrl,placeholder:"https://galaxy.scalar.com/token","onUpdate:modelValue":r[3]||(r[3]=t=>i(`flows.${e.flow.type}.tokenUrl`,t))}),{default:(0,a.k6)(()=>[...r[13]||(r[13]=[(0,a.eW)(" Token URL ",-1)])]),_:1},16,["modelValue"])):(0,a.Q3)("",!0)]),_:1}),"x-scalar-redirect-uri"in e.flow?((0,a.uX)(),(0,a.Wv)((0,o.R1)(_.A),{key:0},{default:(0,a.k6)(()=>[(0,a.bF)($,(0,a.v6)(c,{modelValue:e.flow["x-scalar-redirect-uri"],placeholder:"https://galaxy.scalar.com/callback","onUpdate:modelValue":r[4]||(r[4]=t=>i(`flows.${e.flow.type}.x-scalar-redirect-uri`,t))}),{default:(0,a.k6)(()=>[...r[14]||(r[14]=[(0,a.eW)(" Redirect URL ",-1)])]),_:1},16,["modelValue"])]),_:1})):(0,a.Q3)("",!0),"password"===e.flow.type?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.bF)((0,o.R1)(_.A),null,{default:(0,a.k6)(()=>[(0,a.bF)($,(0,a.v6)(c,{class:"text-c-2",modelValue:e.flow.username,placeholder:"janedoe","onUpdate:modelValue":r[5]||(r[5]=t=>i(`flows.${e.flow.type}.username`,t))}),{default:(0,a.k6)(()=>[...r[15]||(r[15]=[(0,a.eW)(" Username ",-1)])]),_:1},16,["modelValue"])]),_:1}),(0,a.bF)((0,o.R1)(_.A),null,{default:(0,a.k6)(()=>[(0,a.bF)($,(0,a.v6)(c,{modelValue:e.flow.password,placeholder:"********",type:"password","onUpdate:modelValue":r[6]||(r[6]=t=>i(`flows.${e.flow.type}.password`,t))}),{default:(0,a.k6)(()=>[...r[16]||(r[16]=[(0,a.eW)(" Password ",-1)])]),_:1},16,["modelValue"])]),_:1})],64)):(0,a.Q3)("",!0),(0,a.bF)((0,o.R1)(_.A),null,{default:(0,a.k6)(()=>[(0,a.bF)($,(0,a.v6)(c,{modelValue:e.flow["x-scalar-client-id"],placeholder:"12345","onUpdate:modelValue":r[7]||(r[7]=t=>i(`flows.${e.flow.type}.x-scalar-client-id`,t))}),{default:(0,a.k6)(()=>[...r[17]||(r[17]=[(0,a.eW)(" Client ID ",-1)])]),_:1},16,["modelValue"])]),_:1}),"clientSecret"in e.flow?((0,a.uX)(),(0,a.Wv)((0,o.R1)(_.A),{key:2},{default:(0,a.k6)(()=>[(0,a.bF)($,(0,a.v6)(c,{modelValue:e.flow.clientSecret,placeholder:"XYZ123",type:"password","onUpdate:modelValue":r[8]||(r[8]=t=>i(`flows.${e.flow.type}.clientSecret`,t))}),{default:(0,a.k6)(()=>[...r[18]||(r[18]=[(0,a.eW)(" Client Secret ",-1)])]),_:1},16,["modelValue"])]),_:1})):(0,a.Q3)("",!0),"x-usePkce"in e.flow?((0,a.uX)(),(0,a.Wv)((0,o.R1)(_.A),{key:3},{default:(0,a.k6)(()=>[(0,a.bF)($,(0,a.v6)(c,{enum:(0,o.R1)(k.I4),modelValue:e.flow["x-usePkce"],readOnly:"","onUpdate:modelValue":r[9]||(r[9]=t=>i(`flows.${e.flow.type}.x-usePkce`,t))}),{default:(0,a.k6)(()=>[...r[19]||(r[19]=[(0,a.eW)(" Use PKCE ",-1)])]),_:1},16,["enum","modelValue"])]),_:1})):(0,a.Q3)("",!0),Object.keys(e.flow.scopes??{}).length?((0,a.uX)(),(0,a.Wv)((0,o.R1)(_.A),{key:4},{default:(0,a.k6)(()=>[(0,a.bF)(O,{flow:e.flow,updateScheme:i},null,8,["flow"])]),_:1})):(0,a.Q3)("",!0)],64)),e.flow.token?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)((0,o.R1)(_.A),{key:2,class:"min-w-full"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",M,[(0,a.bF)((0,o.R1)(n.RO),{class:"mr-0.75 p-0 px-2 py-0.5",loader:(0,o.R1)(l),size:"sm",variant:"outlined",onClick:u},{default:(0,a.k6)(()=>[...r[20]||(r[20]=[(0,a.eW)(" Authorize ",-1)])]),_:1},8,["loader"])])]),_:1}))],64))}}),N={class:"bg-b-1 text-c-2 outline-b-3 top-0 z-1 h-full w-full overflow-hidden px-3 py-1.25 text-ellipsis group-hover/auth:absolute group-hover/auth:h-auto group-hover/auth:border-b *:first:line-clamp-1 *:first:text-ellipsis group-hover/auth:*:first:line-clamp-none"},D={key:0,class:"flex min-h-8 border-t text-base"},H={class:"flex h-8 max-w-full gap-2.5 overflow-x-auto px-3"},G=["onClick"],J={class:"relative z-10"},Z=(0,a.pM)({__name:"RequestAuthTab",props:{collection:{},environment:{},envVariables:{},layout:{},persistAuth:{type:Boolean,default:!1},securitySchemeUids:{},server:{},workspace:{}},emits:["authorized"],setup(e,{emit:t}){let l=(0,p.hA)(),{securitySchemes:s}=l,i=(0,a.EW)(()=>e.securitySchemeUids.map(e=>({scheme:s[e]}))),u=(0,o.KR)(""),c=e=>{let t=e.description?`: ${e.description}`:"",l=`${(0,r.ZH)(e.nameKey)}${t||`: ${e.type}`}`;if("apiKey"===e.type)return`${(0,r.ZH)(e.nameKey)}${t||`: ${e.in}`}`;if("oauth2"===e.type){let l=Object.values(e.flows??{})[0];return`${(0,r.ZH)(e.nameKey)}: ${u.value?u.value:l?.type??""}${t}`}return"http"===e.type?`${(0,r.ZH)(e.nameKey)}: ${e.scheme}${t}`:`${l}${t}`},d=(t,a,o)=>{v(t,a,o,l,e.persistAuth)};(0,a.sV)(()=>{e.persistAuth&&b(l,e.collection.uid)});let m={environment:e.environment,envVariables:e.envVariables,workspace:e.workspace};return(l,s)=>((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.value,({scheme:p})=>((0,a.uX)(),(0,a.CE)(a.FK,{key:p?.uid},[i.value.length>1&&p?((0,a.uX)(),(0,a.Wv)((0,o.R1)(_.A),{key:0},{default:(0,a.k6)(()=>[(0,a.bF)((0,o.R1)(g.A),{"aria-label":c(p),class:"text-c-2 group/auth flex items-center leading-[22px] whitespace-nowrap outline-none hover:whitespace-normal"},{default:(0,a.k6)(()=>[(0,a.Lk)("p",N,(0,r.v_)(c(p)),1)]),_:2},1032,["aria-label"])]),_:2},1024)):(0,a.Q3)("",!0),p?.description&&i.value.length<=1?((0,a.uX)(),(0,a.Wv)((0,o.R1)(_.A),{key:1},{default:(0,a.k6)(()=>[(0,a.bF)((0,o.R1)(g.A),{"aria-label":p.description,class:"max-h-[auto]"},{default:(0,a.k6)(()=>[(0,a.bF)((0,o.R1)(n.IR),{class:"auth-description bg-b-1 text-c-2 min-w-0 flex-1 px-3 py-1.25",value:p.description},null,8,["value"])]),_:2},1032,["aria-label"])]),_:2},1024)):(0,a.Q3)("",!0),p?.type==="http"?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},["bearer"===p.scheme?((0,a.uX)(),(0,a.Wv)((0,o.R1)(_.A),{key:0},{default:(0,a.k6)(()=>[(0,a.bF)($,(0,a.v6)({ref_for:!0},m,{containerClass:"reference"===e.layout&&"border-t",modelValue:p.token,placeholder:"Token",type:"password","onUpdate:modelValue":e=>d(p.uid,"token",e)}),{default:(0,a.k6)(()=>[...s[1]||(s[1]=[(0,a.eW)(" Bearer Token ",-1)])]),_:1},16,["containerClass","modelValue","onUpdate:modelValue"])]),_:2},1024)):p?.scheme==="basic"?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.bF)((0,o.R1)(_.A),null,{default:(0,a.k6)(()=>[(0,a.bF)($,(0,a.v6)({ref_for:!0},m,{class:"text-c-2",modelValue:p.username,placeholder:"janedoe",required:"","onUpdate:modelValue":e=>d(p.uid,"username",e)}),{default:(0,a.k6)(()=>[...s[2]||(s[2]=[(0,a.eW)(" Username ",-1)])]),_:1},16,["modelValue","onUpdate:modelValue"])]),_:2},1024),(0,a.bF)((0,o.R1)(_.A),null,{default:(0,a.k6)(()=>[(0,a.bF)($,(0,a.v6)({ref_for:!0},m,{modelValue:p.password,placeholder:"********",type:"password","onUpdate:modelValue":e=>d(p.uid,"password",e)}),{default:(0,a.k6)(()=>[...s[3]||(s[3]=[(0,a.eW)(" Password ",-1)])]),_:1},16,["modelValue","onUpdate:modelValue"])]),_:2},1024)],64)):(0,a.Q3)("",!0)],64)):p?.type==="apiKey"?((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[(0,a.bF)((0,o.R1)(_.A),null,{default:(0,a.k6)(()=>[(0,a.bF)($,(0,a.v6)({ref_for:!0},m,{containerClass:"reference"===e.layout&&"border-t",modelValue:p.name,placeholder:"api-key","onUpdate:modelValue":e=>d(p.uid,"name",e)}),{default:(0,a.k6)(()=>[...s[4]||(s[4]=[(0,a.eW)(" Name ",-1)])]),_:1},16,["containerClass","modelValue","onUpdate:modelValue"])]),_:2},1024),(0,a.bF)((0,o.R1)(_.A),null,{default:(0,a.k6)(()=>[(0,a.bF)($,(0,a.v6)({ref_for:!0},m,{modelValue:p.value,placeholder:"QUxMIFlPVVIgQkFTRSBBUkUgQkVMT05HIFRPIFVT",type:"password","onUpdate:modelValue":e=>d(p.uid,"value",e)}),{default:(0,a.k6)(()=>[...s[5]||(s[5]=[(0,a.eW)(" Value ",-1)])]),_:1},16,["modelValue","onUpdate:modelValue"])]),_:2},1024)],64)):p?.type==="oauth2"?((0,a.uX)(),(0,a.CE)(a.FK,{key:4},[(0,a.bF)((0,o.R1)(_.A),null,{default:(0,a.k6)(()=>[Object.keys(p.flows).length>1?((0,a.uX)(),(0,a.CE)("div",D,[(0,a.Lk)("div",H,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(p?.flows,(t,l,o)=>((0,a.uX)(),(0,a.CE)("button",{key:l,class:(0,r.C4)(["floating-bg text-c-3 relative cursor-pointer border-b-[1px] border-transparent py-1 text-base font-medium",{"!text-c-1 !rounded-none border-b-[1px] !border-current":"reference"!==e.layout&&(u.value===l||0===o&&!u.value),"!text-c-1 !rounded-none border-b-[1px] !border-current opacity-100":"reference"===e.layout&&(u.value===l||0===o&&!u.value)}]),type:"button",onClick:e=>u.value=l},[(0,a.Lk)("span",J,(0,r.v_)(l),1)],10,G))),128))])])):(0,a.Q3)("",!0)]),_:2},1024),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(p?.flows,(o,r,n)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:r},[u.value!==r&&(0!==n||u.value)?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(j,(0,a.v6)({key:0,ref_for:!0},m,{collection:e.collection,flow:o,persistAuth:e.persistAuth,scheme:p,server:e.server,workspace:e.workspace,onAuthorized:s[0]||(s[0]=e=>t("authorized"))}),{"oauth-actions":(0,a.k6)(()=>[(0,a.RG)(l.$slots,"oauth-actions")]),_:3},16,["collection","flow","persistAuth","scheme","server","workspace"]))],64))),128))],64)):p?.type==="openIdConnect"?((0,a.uX)(),(0,a.CE)("div",{key:5,class:(0,r.C4)(["text-c-3 bg-b-1 flex min-h-[calc(4rem+1px)] items-center justify-center border-t border-b-0 px-4 text-base",{"rounded-b-lg":"reference"===e.layout}])}," Coming soon ",2)):(0,a.Q3)("",!0)],64))),128))}});var Y=l(62069);let ee=["onClick"],et={class:"relative z-10 font-medium whitespace-nowrap"},el={key:0,class:"absolute inset-x-1 bottom-[var(--scalar-border-width)] left-1/2 z-1 h-px w-full -translate-x-1/2 bg-current"},ea=(0,a.pM)({__name:"RequestAuthDataTable",props:{collection:{},environment:{},envVariables:{},layout:{default:"client"},persistAuth:{type:Boolean,default:!1},selectedSchemeOptions:{default:()=>[]},server:{},workspace:{}},emits:["authorized","activeSchemes"],setup(e,{emit:t}){let{securitySchemes:l}=(0,p.hA)(),i=(0,n.hS)(),u=(0,o.KR)(null),c=(0,o.KR)(0),d=(0,a.EW)(()=>{if(!e.selectedSchemeOptions||0===e.selectedSchemeOptions.length)return[];let t=e.selectedSchemeOptions[c.value];if(!t)return[];let l=t.id.split(",").filter(Boolean);return l.length>1?l:[t.id]});(0,a.wB)(d,e=>{t("activeSchemes",e.map(e=>l[e]).filter(h.O))},{immediate:!0});let m=(0,a.EW)(()=>d.value.length>0);return(0,a.wB)(()=>e.selectedSchemeOptions,e=>{e&&e[c.value]||(c.value=Math.max(0,c.value-1))}),(l,n)=>((0,a.uX)(),(0,a.CE)("form",{onSubmit:n[2]||(n[2]=(0,s.D$)(()=>{},["prevent"]))},[e.selectedSchemeOptions.length>1?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,r.C4)(["box-content flex flex-wrap gap-x-2.5 overflow-hidden border border-b-0 px-3","client"===e.layout&&"border-x-0"])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.selectedSchemeOptions,(e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:(0,r.C4)(["relative z-1 -mb-[var(--scalar-border-width)] flex h-8 cursor-pointer",[c.value===t?"text-c-1":"text-c-3"]])},[(0,a.Lk)("button",{class:"floating-bg relative cursor-pointer border-b-[1px] border-transparent py-1 text-sm font-medium",type:"button",onClick:e=>c.value=t},[(0,a.Lk)("span",et,(0,r.v_)(e.label),1)],8,ee),c.value===t?((0,a.uX)(),(0,a.CE)("div",el)):(0,a.Q3)("",!0)],2))),128))],2)):(0,a.Q3)("",!0),m.value?((0,a.uX)(),(0,a.Wv)((0,o.R1)(Y.A),{key:1,class:(0,r.C4)(["flex-1","reference"===e.layout&&"bg-b-1 rounded-b-lg border border-t-0"]),columns:[""],presentational:""},{default:(0,a.k6)(()=>[(0,a.bF)(Z,{collection:e.collection,envVariables:e.envVariables,environment:e.environment,layout:e.layout,persistAuth:e.persistAuth,securitySchemeUids:d.value,server:e.server,workspace:e.workspace,onAuthorized:n[0]||(n[0]=e=>t("authorized"))},{"oauth-actions":(0,a.k6)(()=>[(0,a.RG)(l.$slots,"oauth-actions",{},void 0,!0)]),_:3},8,["collection","envVariables","environment","layout","persistAuth","securitySchemeUids","server","workspace"])]),_:3},8,["class"])):((0,a.uX)(),(0,a.CE)("div",{key:2,class:(0,r.C4)(["text-c-3 bg-b-1 flex min-h-16 items-center justify-center border-t px-4 text-sm","reference"===e.layout&&"min-h-[calc(4rem+0.5px)] rounded-b-lg border"])}," No authentication selected ",2)),(0,a.bF)(y,{scheme:u.value,state:(0,o.R1)(i),onClose:n[1]||(n[1]=e=>(0,o.R1)(i).hide())},null,8,["scheme","state"])],32))}});var eo=l(13077);let er=(0,eo.A)(ea,[["__scopeId","data-v-0bb98074"]]),es=Object.entries({apiKeyCookie:{label:"API Key in Cookies",payload:{type:"apiKey",in:"cookie",nameKey:"apiKeyCookie"}},apiKeyHeader:{label:"API Key in Headers",payload:{type:"apiKey",in:"header",nameKey:"apiKeyHeader"}},apiKeyQuery:{label:"API Key in Query Params",payload:{type:"apiKey",in:"query",nameKey:"apiKeyQuery"}},httpBasic:{label:"HTTP Basic",payload:{type:"http",scheme:"basic",nameKey:"httpBasic"}},httpBearer:{label:"HTTP Bearer",payload:{type:"http",scheme:"bearer",nameKey:"httpBearer"}},oauth2Implicit:{label:"Oauth2 Implicit Flow",payload:{type:"oauth2",nameKey:"oauth2Implicit",flows:{implicit:{type:"implicit"}}}},oauth2Password:{label:"Oauth2 Password Flow",payload:{type:"oauth2",nameKey:"oauth2Password",flows:{password:{type:"password"}}}},oauth2ClientCredentials:{label:"Oauth2 Client Credentials",payload:{type:"oauth2",nameKey:"oauth2ClientCredentials",flows:{clientCredentials:{type:"clientCredentials"}}}},oauth2AuthorizationFlow:{label:"Oauth2 Authorization Code",payload:{type:"oauth2",nameKey:"oauth2AuthorizationFlow",flows:{authorizationCode:{type:"authorizationCode"}}}}}).map(([e,t])=>({id:e,isDeletable:!1,...t})),en=e=>({id:e.uid,label:"openIdConnect"===e.type?`${e.nameKey} (coming soon)`:e.nameKey}),ei=(e,t)=>en(e.reduce((e,l,a)=>{let o=t[l];return o&&(e.nameKey+=`${a>0?" & ":""}${o.nameKey}`,e.uid=`${e.uid}${a>0?",":""}${o.uid}`),e},{type:"complex",nameKey:"",uid:""})),eu=(e,t)=>"[{}]"===JSON.stringify(e?.security)&&t?.security?.length?t?.security.find(e=>"{}"===JSON.stringify(e))?t.security:[...t.security,{}]:e?.security??t?.security??[],ec=(e,t,l,a=!1)=>{{let o=t.reduce((e,t)=>{let a=l[t];return a&&(e[a.nameKey]=a),e},{}),r=e.flatMap(e=>{let t=Object.keys(e);if(t.length>1)return ei(t.map(e=>o[e]?.uid).filter(c.O9),l);if(t[0]){let e=o[t[0]];if(e)return en(e)}return[]}),s=t.filter(e=>!r.some(t=>t.id===e)).map(e=>{let t=l[e];return t?en(t):null}).filter(c.O9),n=[{label:"Required authentication",options:r},{label:"Available authentication",options:s}];return a?r.length?n:s:(n.push({label:"Add new authentication",options:es}),n)}},ed=["id"],ep={class:"flex flex-1"},em={class:"min-w-0 flex-1 truncate"},ef=(0,a.pM)({__name:"RequestAuth",props:{collection:{},isReadOnly:{type:Boolean,default:!1},environment:{},envVariables:{},layout:{},operation:{},persistAuth:{type:Boolean,default:!1},selectedSecuritySchemeUids:{},server:{},title:{},workspace:{}},emits:["authorized","activeSchemes"],setup(e,{emit:t}){let{securitySchemes:l,securitySchemeMutators:m,requestMutators:f,collectionMutators:h}=(0,p.hA)(),v=(0,a.Bi)(),b=(0,o.KR)(null),k=(0,n.hS)(),w=(0,o.KR)(null),x=(0,o.KR)(!1),g=(0,a.EW)(()=>{let t=eu(e.operation,e.collection);return{filteredRequirements:t.filter(e=>Object.keys(e).length),requirements:t}}),_=(0,a.EW)(()=>{let{filteredRequirements:e,requirements:t}=g.value;if(!t.length)return null;let l=!t.some(e=>Object.keys(e).length>1)&&e.length<t.length;return{icon:l?"Unlock":"Lock",text:l?"Optional":"Required"}}),C=(0,a.EW)(()=>e.selectedSecuritySchemeUids.map(e=>{if(Array.isArray(e))return ei(e,l);let t=l[e??""];if(t)return en(t)}).filter(c.O9));function R(t){let l=t.find(e=>e.payload),a=t.filter(e=>!e.payload).map(({id:e})=>{let t=e.split(",");return t.length>1?t:e});if(l?.payload){let t=m.add(l.payload,e.collection?.uid);t&&a.push(t.uid)}V(a)}let V=t=>{if(e.collection.useCollectionSecurity){if(h.edit(e.collection.uid,"selectedSecuritySchemeUids",t),!e.persistAuth)return;let a=t.map(e=>Array.isArray(e)?e.map(e=>l[e]?.nameKey):l[e]?.nameKey);(0,i.Ar)().setItem(i.tN.SELECTED_SECURITY_SCHEMES,JSON.stringify(a))}else e.operation?.uid&&f.edit(e.operation.uid,"selectedSecuritySchemeUids",t)};function A({id:e,label:t}){w.value={id:e,label:t},k.show()}let S=t=>{t&&(V(e.selectedSecuritySchemeUids.filter(e=>{let l=t.split(",");return l.length>1&&Array.isArray(e)&&l.length===e.length?e.every(e=>!l.includes(e)):e!==t})),b.value?.$el.focus(),k.hide())},F=(0,a.EW)(()=>ec(g.value.filteredRequirements,e.collection?.securitySchemes??[],l,e.isReadOnly)),E=e=>{x.value&&e.stopPropagation(),b.value?.$el.click()};return(l,i)=>((0,a.uX)(),(0,a.Wv)(d.A,{class:"group/params relative",itemCount:C.value.length,layout:e.layout,"onUpdate:modelValue":i[4]||(i[4]=e=>x.value=e)},{title:(0,a.k6)(()=>[(0,a.Lk)("div",{id:(0,o.R1)(v),class:"inline-flex items-center gap-0.5 leading-[20px]"},[(0,a.Lk)("span",null,(0,r.v_)(e.title),1),_.value?((0,a.uX)(),(0,a.CE)("span",{key:0,class:(0,r.C4)(["text-c-3 hover:bg-b-3 hover:text-c-1 -mr-1 cursor-pointer rounded px-1 py-0.5 text-xs leading-[normal]",{"text-c-1":"Required"===_.value.text}]),onClick:E},(0,r.v_)(_.value.text),3)):(0,a.Q3)("",!0)],8,ed)]),actions:(0,a.k6)(()=>[(0,a.Lk)("div",ep,[(0,a.bF)((0,o.R1)(n.BR),{class:"w-72 text-xs",modelValue:C.value,multiple:"",options:F.value,placement:"bottom-end",teleport:"",onDelete:A,"onUpdate:modelValue":R},{option:(0,a.k6)(({option:t,selected:l})=>[(0,a.bF)((0,o.R1)(n.Pq),{multiselect:"",selected:l},null,8,["selected"]),(0,a.Lk)("div",em,(0,r.v_)(t.label),1),t.isDeletable??!e.isReadOnly?((0,a.uX)(),(0,a.Wv)((0,o.R1)(n.EX),{key:0,class:"-m-0.5 shrink-0 p-0.5 opacity-0 group-hover/item:opacity-100",icon:(0,o.R1)(u.QIv),label:`Delete ${t.label}`,size:"xs",onClick:(0,s.D$)(e=>A(t),["stop"])},null,8,["icon","label","onClick"])):(0,a.Q3)("",!0)]),default:(0,a.k6)(()=>[(0,a.bF)((0,o.R1)(n.RO),{ref_key:"comboboxButtonRef",ref:b,"aria-describedby":(0,o.R1)(v),class:"group/combobox-button hover:text-c-1 text-c-2 flex h-fit w-full items-center gap-1 px-0.75 py-0.25 text-base font-normal transition-transform",variant:"ghost"},{default:(0,a.k6)(()=>[1===C.value.length?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[i[5]||(i[5]=(0,a.Lk)("span",{class:"sr-only"},"Selected Auth Type:",-1)),(0,a.eW)(" "+(0,r.v_)(C.value[0]?.label),1)],64)):C.value.length>1?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[i[6]||(i[6]=(0,a.eW)(" Multiple ",-1)),i[7]||(i[7]=(0,a.Lk)("span",{class:"sr-only"},"Auth Types Selected",-1))],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[i[8]||(i[8]=(0,a.Lk)("span",{class:"sr-only"},"Select",-1)),i[9]||(i[9]=(0,a.eW)(" Auth Type ",-1))],64)),(0,a.bF)((0,o.R1)(u.zqX),{class:"size-3 shrink-0 transition-transform duration-100 group-aria-expanded/combobox-button:rotate-180",weight:"bold"})]),_:1},8,["aria-describedby"])]),_:1},8,["modelValue","options"])])]),default:(0,a.k6)(()=>[(0,a.bF)(er,{collection:e.collection,envVariables:e.envVariables,environment:e.environment,layout:e.layout,persistAuth:e.persistAuth,selectedSchemeOptions:C.value,server:e.server,workspace:e.workspace,onActiveSchemes:i[0]||(i[0]=e=>t("activeSchemes",e)),onAuthorized:i[1]||(i[1]=e=>t("authorized"))},{"oauth-actions":(0,a.k6)(()=>[(0,a.RG)(l.$slots,"oauth-actions",{},void 0,!0)]),_:3},8,["collection","envVariables","environment","layout","persistAuth","selectedSchemeOptions","server","workspace"]),(0,a.bF)(y,{scheme:w.value,state:(0,o.R1)(k),onClose:i[2]||(i[2]=e=>(0,o.R1)(k).hide()),onDelete:i[3]||(i[3]=e=>S(w.value?.id))},null,8,["scheme","state"])]),_:3},8,["itemCount","layout"]))}}),ey=(0,eo.A)(ef,[["__scopeId","data-v-3f1067a4"]])}}]);