"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3194],{65013:(e,l,a)=>{a.d(l,{A:()=>b});var t=a(84363),s=a(88123),i=a(15475),r=a(47547),n=a(44833),d=a(12022),u=a(74917),o=a(98823);let c=["for"],v={class:"relative flex min-w-0 flex-1"},p=["readOnly","type","value"],m={key:1,class:"centered-y text-orange absolute right-7 text-xs"},f=(0,t.pM)({inheritAttrs:!1,__name:"DataTableInput",props:{id:{},type:{},containerClass:{},required:{type:Boolean,default:!1},modelValue:{},canAddCustomEnumValue:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},enum:{},min:{},max:{},environment:{},envVariables:{},description:{},lineWrapping:{type:Boolean,default:!1}},emits:["update:modelValue","inputFocus","inputBlur","selectVariable"],setup(e,{emit:l}){let a=(0,s.KR)(!0),f=(0,s.KR)(!1),b=(0,s.KR)(null),y=()=>{f.value||l("inputBlur")},k=(0,t.EW)(()=>"password"===e.type?"text":e.type??"text"),x=()=>{e.enum?.length||e.readOnly||b.value?.focus()};return(f,g)=>((0,t.uX)(),(0,t.Wv)(u.A,{class:(0,i.C4)(["relative flex",e.containerClass])},{default:(0,t.k6)(()=>[f.$slots.default?((0,t.uX)(),(0,t.CE)("div",{key:0,class:"text-c-1 flex items-center pr-0 pl-3",for:e.id??"",onClick:x},[(0,t.RG)(f.$slots,"default",{},void 0,!0),g[6]||(g[6]=(0,t.eW)(": ",-1))],8,c)):(0,t.Q3)("",!0),(0,t.Lk)("div",v,[e.enum&&e.enum.length?((0,t.uX)(),(0,t.Wv)(o.A,{key:0,canAddCustomValue:e.canAddCustomEnumValue,modelValue:e.modelValue,value:e.enum,"onUpdate:modelValue":g[0]||(g[0]=e=>l("update:modelValue",e))},null,8,["canAddCustomValue","modelValue","value"])):((0,t.uX)(),(0,t.CE)(t.FK,{key:1},[a.value&&"password"===e.type?((0,t.uX)(),(0,t.CE)("input",(0,t.v6)({key:0},e.id?{...f.$attrs,id:e.id}:f.$attrs,{autocomplete:"off",class:["text-c-1 disabled:text-c-2 peer w-full min-w-0 border-none px-2 py-1.25 -outline-offset-1",{"scalar-password-input":"password"===e.type}],"data-1p-ignore":"",readOnly:e.readOnly,spellcheck:"false",type:k.value,value:e.modelValue,onInput:g[1]||(g[1]=e=>l("update:modelValue",e.target.value??""))}),null,16,p)):((0,t.uX)(),(0,t.Wv)(d.A,(0,t.v6)({key:1},f.$attrs,{id:e.id,ref_key:"codeInput",ref:b,class:["text-c-1 disabled:text-c-2 peer w-full min-w-0 border-none -outline-offset-1",["password"===e.type&&e.description&&"pr-12",e.description&&"pr-8","password"===e.type&&"scalar-password-input"]],description:e.description,disableCloseBrackets:"",disableTabIndent:"",envVariables:e.envVariables,environment:e.environment,lineWrapping:!!e.lineWrapping,max:e.max,min:e.min,modelValue:e.modelValue??"",readOnly:e.readOnly,required:!!e.required,spellcheck:"false",type:k.value,onBlur:y,onFocus:g[2]||(g[2]=e=>l("inputFocus")),"onUpdate:modelValue":g[3]||(g[3]=e=>l("update:modelValue",e))}),null,16,["id","class","description","envVariables","environment","lineWrapping","max","min","modelValue","readOnly","required","type"]))],64))]),f.$slots.warning?((0,t.uX)(),(0,t.CE)("div",m,[(0,t.RG)(f.$slots,"warning",{},void 0,!0)])):(0,t.Q3)("",!0),(0,t.RG)(f.$slots,"icon",{},void 0,!0),e.modelValue?((0,t.uX)(),(0,t.Wv)((0,s.R1)(r.EX),{key:2,class:"-ml-.25 h-6 w-6 self-center p-1.25",icon:(0,s.R1)(n.snQ),label:"Clear Value",onClick:g[4]||(g[4]=e=>l("update:modelValue",""))},null,8,["icon"])):(0,t.Q3)("",!0),"password"===e.type?((0,t.uX)(),(0,t.Wv)((0,s.R1)(r.EX),{key:3,class:"-ml-.5 mr-1.25 h-6 w-6 self-center p-1.25",icon:a.value?(0,s.R1)(n.RQZ):(0,s.R1)(n.SVi),label:a.value?"Show Password":"Hide Password",onClick:g[5]||(g[5]=e=>a.value=!a.value)},null,8,["icon","label"])):(0,t.Q3)("",!0)]),_:3},8,["class"]))}}),b=(0,a(13077).A)(f,[["__scopeId","data-v-c1a50a6e"]])},50087:(e,l,a)=>{a.d(l,{A:()=>b});var t=a(84363),s=a(88123),i=a(15475),r=a(47547),n=a(62069),d=a(65013),u=a(26695),o=a(35028),c=a(32695);let v={key:0},p={class:"flex flex-1 flex-col gap-1.5"},m=["for"],f={class:"centered-y bg-b-2 flex-center absolute right-1 z-1 rounded px-1 py-0.5"},b=(0,t.pM)({__name:"Form",props:{title:{},options:{},data:{},onUpdate:{type:Function}},setup(e){let{activeEnvVariables:l,activeEnvironment:a,activeWorkspace:b}=(0,c.JC)(),y=(0,t.Bi)();return(c,k)=>((0,t.uX)(),(0,t.Wv)(o.A,{class:"last:rounded-b-lg"},(0,t.eX)({default:(0,t.k6)(()=>[(0,t.Lk)("div",p,[Object.keys(e.data).length>0&&(0,s.R1)(b)?((0,t.uX)(),(0,t.Wv)(n.A,{key:0,columns:[""],class:"rounded-b-lg"},{default:(0,t.k6)(()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.options,(n,o)=>((0,t.uX)(),(0,t.Wv)(u.A,{key:o,class:(0,i.C4)({"border-t":0===o})},{default:(0,t.k6)(()=>[(0,t.bF)(d.A,{class:"pr-9",lineWrapping:"",id:(0,s.R1)(y),envVariables:(0,s.R1)(l),environment:(0,s.R1)(a),modelValue:e.data[n.key]??"",placeholder:n.placeholder,workspace:(0,s.R1)(b),"onUpdate:modelValue":l=>e.onUpdate(n.key,l)},(0,t.eX)({default:(0,t.k6)(()=>[(0,t.Lk)("label",{for:(0,s.R1)(y)},(0,i.v_)(n.label),9,m)]),_:2},["description"===n.key?{name:"icon",fn:(0,t.k6)(()=>[(0,t.Lk)("div",f,[(0,t.bF)((0,s.R1)(r.kv),{icon:"Markdown",size:"lg"})])]),key:"0"}:void 0]),1032,["id","envVariables","environment","modelValue","placeholder","workspace","onUpdate:modelValue"])]),_:2},1032,["class"]))),128))]),_:1})):(0,t.Q3)("",!0)])]),_:2},[e.title||c.$slots.title?{name:"title",fn:(0,t.k6)(()=>[e.title?((0,t.uX)(),(0,t.CE)("span",v,(0,i.v_)(e.title),1)):(0,t.RG)(c.$slots,"title",{key:1})]),key:"0"}:void 0]),1024))}})},12576:(e,l,a)=>{a.d(l,{A:()=>n});var t=a(84363),s=a(15475),i=a(18729);let r={key:0,class:"text-c-2 text-sm leading-normal text-pretty"},n=(0,t.pM)({__name:"DeleteSidebarListElement",props:{variableName:{},warningMessage:{}},emits:["close","delete"],setup(e,{emit:l}){let a=(0,t.EW)(()=>e.variableName.length>18?e.variableName.slice(0,18)+"â€¦":e.variableName);return(n,d)=>((0,t.uX)(),(0,t.Wv)(i.A,{danger:"",label:`Delete ${a.value}`,onCancel:d[0]||(d[0]=e=>l("close")),onSubmit:d[1]||(d[1]=e=>l("delete"))},{default:(0,t.k6)(()=>[e.warningMessage?((0,t.uX)(),(0,t.CE)("p",r,(0,s.v_)(e.warningMessage),1)):(0,t.Q3)("",!0)]),_:1},8,["label"]))}})},18729:(e,l,a)=>{a.d(l,{A:()=>u});var t=a(84363),s=a(61629),i=a(88123),r=a(15475),n=a(47547);let d={class:"flex justify-between gap-10"},u=(0,t.pM)({__name:"SidebarListElementForm",props:{danger:{type:Boolean},label:{}},emits:["cancel","submit"],setup:(e,{emit:l})=>(a,u)=>((0,t.uX)(),(0,t.CE)("form",{class:"flex flex-col gap-4 text-base",onSubmit:u[1]||(u[1]=(0,s.D$)(e=>l("submit"),["prevent"]))},[(0,t.RG)(a.$slots,"default"),(0,t.Lk)("div",d,[(0,t.bF)((0,i.R1)(n.RO),{size:"sm",type:"button",variant:"outlined",onClick:u[0]||(u[0]=e=>l("cancel"))},{default:(0,t.k6)(()=>[...u[2]||(u[2]=[(0,t.eW)(" Cancel ",-1)])]),_:1}),(0,t.bF)((0,i.R1)(n.RO),{"data-testid":"sidebar-list-element-form-submit-button",size:"sm",type:"submit",variant:e.danger?"danger":"solid"},{default:(0,t.k6)(()=>[(0,t.eW)((0,r.v_)(e.label??"Save"),1)]),_:1},8,["variant"])])],32))})},43194:(e,l,a)=>{a.r(l),a.d(l,{default:()=>h});var t=a(84363),s=a(88123),i=a(15475),r=a(47547),n=a(44833),d=a(12576),u=a(32695),o=a(37806),c=a(50087),v=a(48855),p=a(7162);let m=(0,t.pM)({__name:"CollectionServerForm",props:{collectionId:{default:""},serverUid:{default:""}},setup(e){let{activeWorkspaceCollections:l}=(0,u.JC)(),{servers:a,serverMutators:s}=(0,p.hA)(),r=[{label:"URL",key:"url",placeholder:"https://void.scalar.com",type:"text"},{label:"Description",key:"description",placeholder:"Production",type:"text"}],n=(0,t.EW)(()=>{let t=l.value.find(l=>l.uid===e.collectionId);return a[t&&"string"==typeof e.serverUid&&"default"===e.serverUid?t.servers[0]??"":t?.servers.find(l=>l===e.serverUid)??""]}),d=(0,t.EW)(()=>n.value?.url?n.value.url.match(o.QL.PATH)?.map(e=>e.slice(1,-1))??[]:[]);(0,t.wB)(d,e=>{if(!n.value)return;let l=n.value.variables?{...n.value.variables}:{};Object.keys(l).forEach(a=>{e.includes(a)||delete l[a]}),e.forEach(e=>{l[e]||(l[e]={default:""})}),s.edit(n.value.uid,"variables",l)},{immediate:!0});let m=(e,a)=>{l.value&&n.value&&s.edit(n.value.uid,e,a)},f=(e,l)=>{if(!n.value)return;let a=n.value.variables||{};a[e]={...a[e],default:l},s.edit(n.value.uid,"variables",a)};return(e,l)=>((0,t.uX)(),(0,t.CE)("div",{class:(0,i.C4)(["divide-0.5 flex w-full flex-col divide-y rounded-b-lg text-sm",n.value?.variables&&"bg-b-1"])},[n.value?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.bF)(c.A,{data:n.value,onUpdate:m,options:r},null,8,["data"]),n.value.variables?((0,t.uX)(),(0,t.Wv)(v.A,{key:0,variables:n.value.variables,"onUpdate:variable":f},null,8,["variables"])):(0,t.Q3)("",!0)],64)):(0,t.Q3)("",!0)],2))}}),f={class:"flex h-full w-full flex-col gap-12 px-1.5 pt-8"},b={class:"flex flex-col gap-4"},y={class:"rounded-lg border"},k={class:"bg-b-2 flex items-start justify-between rounded-t-lg py-1 pr-1 pl-3 text-sm"},x={key:1,class:"self-center"},g={class:"text-c-3 flex h-full items-center justify-center rounded-lg border p-4"},h=(0,t.pM)({__name:"CollectionServers",setup(e){let{activeCollection:l}=(0,u.JC)(),{servers:a,events:o,serverMutators:c}=(0,p.hA)(),v=(0,r.hS)(),h=(0,s.KR)(null),C=(0,t.EW)(()=>a&&l.value?.servers?Object.values(a).filter(e=>l.value?.servers.includes(e.uid)):[]),R=()=>o.commandPalette.emit({commandName:"Add Server"}),w=()=>{l.value?.uid&&h.value&&(c.delete(h.value,l.value.uid),v.hide())},_=e=>{h.value=e,v.show()};return(e,u)=>((0,t.uX)(),(0,t.CE)("div",f,[(0,t.Lk)("div",b,[u[2]||(u[2]=(0,t.Fv)('<div class="flex items-start justify-between gap-2"><div class="flex flex-col gap-2"><div class="flex h-8 items-center"><h3 class="font-bold">Servers</h3></div><p class="text-sm"> Add different base URLs for your API. You can use <code class="font-code text-c-2">{variables}</code> for dynamic parts. </p></div></div>',1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(C.value,(e,a)=>((0,t.uX)(),(0,t.CE)("div",{key:e.uid},[(0,t.Lk)("div",y,[(0,t.Lk)("div",k,[e.description?((0,t.uX)(),(0,t.Wv)((0,s.R1)(r.mi),{key:0,class:"self-center",value:e.description},null,8,["value"])):((0,t.uX)(),(0,t.CE)("span",x,"Server "+(0,i.v_)(a+1),1)),(0,t.bF)((0,s.R1)(r.RO),{class:"hover:bg-b-3 hover:text-c-1 h-fit p-1.25",variant:"ghost",onClick:l=>_(e.uid)},{default:(0,t.k6)(()=>[(0,t.bF)((0,s.R1)(n.QIv),{class:"size-3.5"})]),_:1},8,["onClick"])]),(0,s.R1)(l)?((0,t.uX)(),(0,t.Wv)(m,{key:0,collectionId:(0,s.R1)(l).uid,serverUid:e.uid},null,8,["collectionId","serverUid"])):(0,t.Q3)("",!0)])]))),128)),(0,t.Lk)("div",g,[(0,t.bF)((0,s.R1)(r.RO),{class:"hover:bg-b-2 hover:text-c-1 flex items-center gap-2",size:"sm",variant:"ghost",onClick:R},{default:(0,t.k6)(()=>[(0,t.bF)((0,s.R1)(r.kv),{class:"inline-flex",icon:"Add",size:"sm",thickness:"1.5"}),u[1]||(u[1]=(0,t.Lk)("span",null,"Add Server",-1))]),_:1})])]),(0,t.bF)((0,s.R1)(r.uT),{size:"xxs",state:(0,s.R1)(v),title:`Delete ${h.value?s.R1(a)[h.value]?.url:"Server"}`},{default:(0,t.k6)(()=>[(0,t.bF)(d.A,{variableName:"Server",warningMessage:"Are you sure you want to delete this server? This action cannot be undone.",onClose:u[0]||(u[0]=e=>(0,s.R1)(v).hide()),onDelete:w})]),_:1},8,["state","title"])]))}})}}]);