(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6682],{16682:(e,t,s)=>{Promise.resolve().then(s.bind(s,36569)),Promise.resolve().then(s.bind(s,98670))},98867:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(63394).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},23920:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(63394).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},36569:(e,t,s)=>{"use strict";s.d(t,{ContentViewer:()=>N});var r=s(95155),a=s(12115),n=s(22130),i=s(25121),d=s(73312),c=s(53601),l=s(98867),o=s(23920),x=s(48173),u=s.n(x),h=s(30814);function m(e){return e.startsWith("image/")}function j(e){return e.startsWith("video/")}function f(e){return e.startsWith("audio/")}function p(e){return"application/pdf"===e}function g(e){return"text/plain"===e||"text/csv"===e}function b(e){let{label:t,path:s,baseUrl:n}=e,[i,d]=(0,a.useState)(!1),x="".concat(n).concat(s),u=(0,a.useCallback)(async()=>{try{await navigator.clipboard.writeText(x),d(!0),h.oR.success("Copied to clipboard"),setTimeout(()=>d(!1),2e3)}catch(e){h.oR.error("Failed to copy")}},[x]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("dt",{className:"text-muted-foreground",children:t}),(0,r.jsx)("dd",{children:(0,r.jsxs)(c.m_,{children:[(0,r.jsx)(c.k$,{asChild:!0,children:(0,r.jsxs)("button",{type:"button",onClick:u,className:"inline-flex items-center gap-1.5 text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-1 focus-visible:ring-offset-background rounded-sm cursor-pointer text-left",children:[(0,r.jsx)("span",{className:"truncate max-w-64",children:s}),i?(0,r.jsx)(l.A,{className:"h-3.5 w-3.5 shrink-0 text-green-500","aria-hidden":"true"}):(0,r.jsx)(o.A,{className:"h-3.5 w-3.5 shrink-0 text-muted-foreground","aria-hidden":"true"})]})}),(0,r.jsx)(c.ZI,{children:i?"Copied!":"Copy ".concat(x)})]})})]})}function N(e){var t;let{content:s,contentBaseUrl:a}=e,c=s.expiresAt&&new Date(s.expiresAt)<new Date,l="".concat(a,"/r/").concat(s.id),o="".concat(a,"/api/content/").concat(s.id),x=s.mimeType;return c?(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsx)(n.ZB,{children:"Content Expired"})}),(0,r.jsx)(n.Wu,{children:(0,r.jsxs)("p",{className:"text-muted-foreground",children:["This content expired on ",new Date(s.expiresAt).toLocaleString()," and is no longer available."]})})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-xl font-semibold truncate",children:s.filename}),(0,r.jsxs)("div",{className:"flex gap-2 shrink-0",children:[(0,r.jsx)(u(),{href:l,children:(0,r.jsx)(d.$,{variant:"outline",size:"sm",children:"Raw"})}),(0,r.jsx)(u(),{href:o,children:(0,r.jsx)(d.$,{size:"sm",children:"Download"})})]})]}),(0,r.jsx)(n.Zp,{children:(0,r.jsxs)(n.Wu,{className:"p-4",children:[m(x)&&(0,r.jsx)("img",{src:l,alt:s.filename,className:"max-w-full h-auto mx-auto rounded"}),j(x)&&(0,r.jsxs)("video",{controls:!0,className:"max-w-full mx-auto rounded","aria-label":"Video: ".concat(s.filename),children:[(0,r.jsx)("source",{src:l,type:x}),"Your browser does not support this video format."]}),f(x)&&(0,r.jsxs)("audio",{controls:!0,className:"w-full","aria-label":"Audio: ".concat(s.filename),children:[(0,r.jsx)("source",{src:l,type:x}),"Your browser does not support this audio format."]}),p(x)&&(0,r.jsx)("iframe",{src:l,className:"w-full h-[80vh] rounded border-0",title:s.filename}),g(x)&&(0,r.jsx)("iframe",{src:l,className:"w-full h-[60vh] rounded border-0 bg-muted",title:s.filename}),!m(x)&&!j(x)&&!f(x)&&!p(x)&&!g(x)&&(0,r.jsxs)("div",{className:"text-center py-12 space-y-4",children:[(0,r.jsxs)("p",{className:"text-muted-foreground",children:["This file type (",x,") cannot be previewed in the browser."]}),(0,r.jsx)(u(),{href:o,children:(0,r.jsx)(d.$,{children:"Download File"})})]})]})}),(0,r.jsx)(n.Zp,{children:(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)("h2",{className:"sr-only",children:"File metadata"}),(0,r.jsxs)("dl",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,r.jsx)("dt",{className:"text-muted-foreground",children:"Original Name"}),(0,r.jsx)("dd",{children:s.originalFilename}),(0,r.jsx)("dt",{className:"text-muted-foreground",children:"Size"}),(0,r.jsx)("dd",{children:(t=s.fileSize)<1024?"".concat(t," B"):t<1048576?"".concat((t/1024).toFixed(1)," KB"):"".concat((t/1048576).toFixed(1)," MB")}),(0,r.jsx)("dt",{className:"text-muted-foreground",children:"Type"}),(0,r.jsx)("dd",{children:s.mimeType}),(0,r.jsx)("dt",{className:"text-muted-foreground",children:"Extension"}),(0,r.jsx)("dd",{children:(0,r.jsx)(i.E,{variant:"secondary",children:s.fileExtension})}),(0,r.jsx)("dt",{className:"text-muted-foreground",children:"Uploaded By"}),(0,r.jsx)("dd",{children:s.uploadedBy.username}),(0,r.jsx)("dt",{className:"text-muted-foreground",children:"Created"}),(0,r.jsx)("dd",{children:new Date(s.createdAt).toLocaleString()}),(0,r.jsx)("dt",{className:"text-muted-foreground",children:"Expires"}),(0,r.jsx)("dd",{children:s.expiresAt?new Date(s.expiresAt).toLocaleString():"Never"}),s.directory&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("dt",{className:"text-muted-foreground",children:"Directory"}),(0,r.jsx)("dd",{children:(0,r.jsx)(i.E,{variant:"outline",children:s.directory})})]})]})]})}),(0,r.jsx)(n.Zp,{children:(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)("h2",{className:"sr-only",children:"URLs"}),(0,r.jsxs)("dl",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,r.jsx)(b,{label:"Content URL",path:"/c/".concat(s.id),baseUrl:a}),(0,r.jsx)(b,{label:"Raw URL",path:"/r/".concat(s.id),baseUrl:a}),s.shortSlugs.map(e=>{let{slug:t}=e;return(0,r.jsx)(b,{label:"Short URL",path:"/s/".concat(t),baseUrl:a},t)}),s.shortSlugs.map(e=>{let{slug:t}=e;return(0,r.jsx)(b,{label:"Embed URL",path:"/e/".concat(t),baseUrl:a},"embed-".concat(t))})]})]})})]})}},22130:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>l,ZB:()=>d,Zp:()=>n,aR:()=>i});var r=s(95155);s(12115);var a=s(21567);function n(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function i(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function d(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",t),...s})}function c(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",t),...s})}function l(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",t),...s})}}}]);